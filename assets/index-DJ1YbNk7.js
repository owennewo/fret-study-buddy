const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-I8rlqJKw.js","assets/webworkerAll-SczwcLpm.js"])))=>i.map(i=>d[i]);
var SR=Object.defineProperty;var TR=(n,e,t)=>e in n?SR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ne=(n,e,t)=>TR(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function F0(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ct={},ya=[],fo=()=>{},kR=()=>!1,Nf=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),L0=n=>n.startsWith("onUpdate:"),Ut=Object.assign,N0=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},ER=Object.prototype.hasOwnProperty,Ye=(n,e)=>ER.call(n,e),Se=Array.isArray,_a=n=>$f(n)==="[object Map]",xS=n=>$f(n)==="[object Set]",Ie=n=>typeof n=="function",Tt=n=>typeof n=="string",oi=n=>typeof n=="symbol",_t=n=>n!==null&&typeof n=="object",wS=n=>(_t(n)||Ie(n))&&Ie(n.then)&&Ie(n.catch),CS=Object.prototype.toString,$f=n=>CS.call(n),AR=n=>$f(n).slice(8,-1),SS=n=>$f(n)==="[object Object]",$0=n=>Tt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,nc=F0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uf=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},PR=/-(\w)/g,Ir=Uf(n=>n.replace(PR,(e,t)=>t?t.toUpperCase():"")),IR=/\B([A-Z])/g,ji=Uf(n=>n.replace(IR,"-$1").toLowerCase()),Gf=Uf(n=>n.charAt(0).toUpperCase()+n.slice(1)),ph=Uf(n=>n?`on${Gf(n)}`:""),Di=(n,e)=>!Object.is(n,e),pm=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},TS=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},RR=n=>{const e=parseFloat(n);return isNaN(e)?n:e},BR=n=>{const e=Tt(n)?Number(n):NaN;return isNaN(e)?n:e};let W_;const Vf=()=>W_||(W_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nl(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Tt(r)?FR(r):nl(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(Tt(n)||_t(n))return n}const OR=/;(?![^(]*\))/g,DR=/:([^]+)/,MR=/\/\*[^]*?\*\//g;function FR(n){const e={};return n.replace(MR,"").split(OR).forEach(t=>{if(t){const r=t.split(DR);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ce(n){let e="";if(Tt(n))e=n;else if(Se(n))for(let t=0;t<n.length;t++){const r=ce(n[t]);r&&(e+=r+" ")}else if(_t(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function Ds(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Tt(e)&&(n.class=ce(e)),t&&(n.style=nl(t)),n}const LR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",NR=F0(LR);function kS(n){return!!n||n===""}const ES=n=>!!(n&&n.__v_isRef===!0),Be=n=>Tt(n)?n:n==null?"":Se(n)||_t(n)&&(n.toString===CS||!Ie(n.toString))?ES(n)?Be(n.value):JSON.stringify(n,AS,2):String(n),AS=(n,e)=>ES(e)?AS(n,e.value):_a(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,o],i)=>(t[mm(r,i)+" =>"]=o,t),{})}:xS(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>mm(t))}:oi(e)?mm(e):_t(e)&&!Se(e)&&!SS(e)?String(e):e,mm=(n,e="")=>{var t;return oi(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;class PS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=An,!e&&An&&(this.index=(An.scopes||(An.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=An;try{return An=this,e()}finally{An=t}}}on(){An=this}off(){An=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function IS(n){return new PS(n)}function RS(){return An}function $R(n,e=!1){An&&An.cleanups.push(n)}let pt;const gm=new WeakSet;class BS{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,An&&An.active&&An.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gm.has(this)&&(gm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||DS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,K_(this),MS(this);const e=pt,t=zr;pt=this,zr=!0;try{return this.fn()}finally{FS(this),pt=e,zr=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)V0(e);this.deps=this.depsTail=void 0,K_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kg(this)&&this.run()}get dirty(){return kg(this)}}let OS=0,rc,oc;function DS(n,e=!1){if(n.flags|=8,e){n.next=oc,oc=n;return}n.next=rc,rc=n}function U0(){OS++}function G0(){if(--OS>0)return;if(oc){let e=oc;for(oc=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;rc;){let e=rc;for(rc=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function MS(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function FS(n){let e,t=n.depsTail,r=t;for(;r;){const o=r.prevDep;r.version===-1?(r===t&&(t=o),V0(r),UR(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=e,n.depsTail=t}function kg(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(LS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function LS(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===xc))return;n.globalVersion=xc;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!kg(n)){n.flags&=-3;return}const t=pt,r=zr;pt=n,zr=!0;try{MS(n);const o=n.fn(n._value);(e.version===0||Di(o,n._value))&&(n._value=o,e.version++)}catch(o){throw e.version++,o}finally{pt=t,zr=r,FS(n),n.flags&=-3}}function V0(n,e=!1){const{dep:t,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)V0(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function UR(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let zr=!0;const NS=[];function Wi(){NS.push(zr),zr=!1}function Ki(){const n=NS.pop();zr=n===void 0?!0:n}function K_(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=pt;pt=void 0;try{e()}finally{pt=t}}}let xc=0;class GR{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class z0{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!pt||!zr||pt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==pt)t=this.activeLink=new GR(pt,this),pt.deps?(t.prevDep=pt.depsTail,pt.depsTail.nextDep=t,pt.depsTail=t):pt.deps=pt.depsTail=t,$S(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=pt.depsTail,t.nextDep=void 0,pt.depsTail.nextDep=t,pt.depsTail=t,pt.deps===t&&(pt.deps=r)}return t}trigger(e){this.version++,xc++,this.notify(e)}notify(e){U0();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{G0()}}}function $S(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)$S(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Mh=new WeakMap,gs=Symbol(""),Eg=Symbol(""),wc=Symbol("");function vn(n,e,t){if(zr&&pt){let r=Mh.get(n);r||Mh.set(n,r=new Map);let o=r.get(t);o||(r.set(t,o=new z0),o.map=r,o.key=t),o.track()}}function Go(n,e,t,r,o,i){const s=Mh.get(n);if(!s){xc++;return}const a=l=>{l&&l.trigger()};if(U0(),e==="clear")s.forEach(a);else{const l=Se(n),c=l&&$0(t);if(l&&t==="length"){const u=Number(r);s.forEach((d,h)=>{(h==="length"||h===wc||!oi(h)&&h>=u)&&a(d)})}else switch((t!==void 0||s.has(void 0))&&a(s.get(t)),c&&a(s.get(wc)),e){case"add":l?c&&a(s.get("length")):(a(s.get(gs)),_a(n)&&a(s.get(Eg)));break;case"delete":l||(a(s.get(gs)),_a(n)&&a(s.get(Eg)));break;case"set":_a(n)&&a(s.get(gs));break}}G0()}function VR(n,e){const t=Mh.get(n);return t&&t.get(e)}function Hs(n){const e=ve(n);return e===n?e:(vn(e,"iterate",wc),Er(n)?e:e.map(yn))}function zf(n){return vn(n=ve(n),"iterate",wc),n}const zR={__proto__:null,[Symbol.iterator](){return bm(this,Symbol.iterator,yn)},concat(...n){return Hs(this).concat(...n.map(e=>Se(e)?Hs(e):e))},entries(){return bm(this,"entries",n=>(n[1]=yn(n[1]),n))},every(n,e){return Io(this,"every",n,e,void 0,arguments)},filter(n,e){return Io(this,"filter",n,e,t=>t.map(yn),arguments)},find(n,e){return Io(this,"find",n,e,yn,arguments)},findIndex(n,e){return Io(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Io(this,"findLast",n,e,yn,arguments)},findLastIndex(n,e){return Io(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Io(this,"forEach",n,e,void 0,arguments)},includes(...n){return vm(this,"includes",n)},indexOf(...n){return vm(this,"indexOf",n)},join(n){return Hs(this).join(n)},lastIndexOf(...n){return vm(this,"lastIndexOf",n)},map(n,e){return Io(this,"map",n,e,void 0,arguments)},pop(){return El(this,"pop")},push(...n){return El(this,"push",n)},reduce(n,...e){return X_(this,"reduce",n,e)},reduceRight(n,...e){return X_(this,"reduceRight",n,e)},shift(){return El(this,"shift")},some(n,e){return Io(this,"some",n,e,void 0,arguments)},splice(...n){return El(this,"splice",n)},toReversed(){return Hs(this).toReversed()},toSorted(n){return Hs(this).toSorted(n)},toSpliced(...n){return Hs(this).toSpliced(...n)},unshift(...n){return El(this,"unshift",n)},values(){return bm(this,"values",yn)}};function bm(n,e,t){const r=zf(n),o=r[e]();return r!==n&&!Er(n)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=t(i.value)),i}),o}const HR=Array.prototype;function Io(n,e,t,r,o,i){const s=zf(n),a=s!==n&&!Er(n),l=s[e];if(l!==HR[e]){const d=l.apply(n,i);return a?yn(d):d}let c=t;s!==n&&(a?c=function(d,h){return t.call(this,yn(d),h,n)}:t.length>2&&(c=function(d,h){return t.call(this,d,h,n)}));const u=l.call(s,c,r);return a&&o?o(u):u}function X_(n,e,t,r){const o=zf(n);let i=t;return o!==n&&(Er(n)?t.length>3&&(i=function(s,a,l){return t.call(this,s,a,l,n)}):i=function(s,a,l){return t.call(this,s,yn(a),l,n)}),o[e](i,...r)}function vm(n,e,t){const r=ve(n);vn(r,"iterate",wc);const o=r[e](...t);return(o===-1||o===!1)&&K0(t[0])?(t[0]=ve(t[0]),r[e](...t)):o}function El(n,e,t=[]){Wi(),U0();const r=ve(n)[e].apply(n,t);return G0(),Ki(),r}const jR=F0("__proto__,__v_isRef,__isVue"),US=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(oi));function WR(n){oi(n)||(n=String(n));const e=ve(this);return vn(e,"has",n),e.hasOwnProperty(n)}class GS{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(o?i?nB:jS:i?HS:zS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Se(e);if(!o){let l;if(s&&(l=zR[t]))return l;if(t==="hasOwnProperty")return WR}const a=Reflect.get(e,t,St(e)?e:r);return(oi(t)?US.has(t):jR(t))||(o||vn(e,"get",t),i)?a:St(a)?s&&$0(t)?a:a.value:_t(a)?o?j0(a):Fu(a):a}}class VS extends GS{constructor(e=!1){super(!1,e)}set(e,t,r,o){let i=e[t];if(!this._isShallow){const l=ws(i);if(!Er(r)&&!ws(r)&&(i=ve(i),r=ve(r)),!Se(e)&&St(i)&&!St(r))return l?!1:(i.value=r,!0)}const s=Se(e)&&$0(t)?Number(t)<e.length:Ye(e,t),a=Reflect.set(e,t,r,St(e)?e:o);return e===ve(o)&&(s?Di(r,i)&&Go(e,"set",t,r):Go(e,"add",t,r)),a}deleteProperty(e,t){const r=Ye(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&Go(e,"delete",t,void 0),o}has(e,t){const r=Reflect.has(e,t);return(!oi(t)||!US.has(t))&&vn(e,"has",t),r}ownKeys(e){return vn(e,"iterate",Se(e)?"length":gs),Reflect.ownKeys(e)}}class KR extends GS{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const XR=new VS,qR=new KR,YR=new VS(!0);const Ag=n=>n,Cd=n=>Reflect.getPrototypeOf(n);function ZR(n,e,t){return function(...r){const o=this.__v_raw,i=ve(o),s=_a(i),a=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,c=o[n](...r),u=t?Ag:e?Pg:yn;return!e&&vn(i,"iterate",l?Eg:gs),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Sd(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function JR(n,e){const t={get(o){const i=this.__v_raw,s=ve(i),a=ve(o);n||(Di(o,a)&&vn(s,"get",o),vn(s,"get",a));const{has:l}=Cd(s),c=e?Ag:n?Pg:yn;if(l.call(s,o))return c(i.get(o));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!n&&vn(ve(o),"iterate",gs),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=ve(i),a=ve(o);return n||(Di(o,a)&&vn(s,"has",o),vn(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,l=ve(a),c=e?Ag:n?Pg:yn;return!n&&vn(l,"iterate",gs),a.forEach((u,d)=>o.call(i,c(u),c(d),s))}};return Ut(t,n?{add:Sd("add"),set:Sd("set"),delete:Sd("delete"),clear:Sd("clear")}:{add(o){!e&&!Er(o)&&!ws(o)&&(o=ve(o));const i=ve(this);return Cd(i).has.call(i,o)||(i.add(o),Go(i,"add",o,o)),this},set(o,i){!e&&!Er(i)&&!ws(i)&&(i=ve(i));const s=ve(this),{has:a,get:l}=Cd(s);let c=a.call(s,o);c||(o=ve(o),c=a.call(s,o));const u=l.call(s,o);return s.set(o,i),c?Di(i,u)&&Go(s,"set",o,i):Go(s,"add",o,i),this},delete(o){const i=ve(this),{has:s,get:a}=Cd(i);let l=s.call(i,o);l||(o=ve(o),l=s.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return l&&Go(i,"delete",o,void 0),c},clear(){const o=ve(this),i=o.size!==0,s=o.clear();return i&&Go(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=ZR(o,n,e)}),t}function H0(n,e){const t=JR(n,e);return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(Ye(t,o)&&o in r?t:r,o,i)}const QR={get:H0(!1,!1)},eB={get:H0(!1,!0)},tB={get:H0(!0,!1)};const zS=new WeakMap,HS=new WeakMap,jS=new WeakMap,nB=new WeakMap;function rB(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oB(n){return n.__v_skip||!Object.isExtensible(n)?0:rB(AR(n))}function Fu(n){return ws(n)?n:W0(n,!1,XR,QR,zS)}function iB(n){return W0(n,!1,YR,eB,HS)}function j0(n){return W0(n,!0,qR,tB,jS)}function W0(n,e,t,r,o){if(!_t(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const s=oB(n);if(s===0)return n;const a=new Proxy(n,s===2?r:t);return o.set(n,a),a}function Mi(n){return ws(n)?Mi(n.__v_raw):!!(n&&n.__v_isReactive)}function ws(n){return!!(n&&n.__v_isReadonly)}function Er(n){return!!(n&&n.__v_isShallow)}function K0(n){return n?!!n.__v_raw:!1}function ve(n){const e=n&&n.__v_raw;return e?ve(e):n}function Hf(n){return!Ye(n,"__v_skip")&&Object.isExtensible(n)&&TS(n,"__v_skip",!0),n}const yn=n=>_t(n)?Fu(n):n,Pg=n=>_t(n)?j0(n):n;function St(n){return n?n.__v_isRef===!0:!1}function vt(n){return sB(n,!1)}function sB(n,e){return St(n)?n:new aB(n,e)}class aB{constructor(e,t){this.dep=new z0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ve(e),this._value=t?e:yn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Er(e)||ws(e);e=r?e:ve(e),Di(e,t)&&(this._rawValue=e,this._value=r?e:yn(e),this.dep.trigger())}}function ye(n){return St(n)?n.value:n}const lB={get:(n,e,t)=>e==="__v_raw"?n:ye(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return St(o)&&!St(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function WS(n){return Mi(n)?n:new Proxy(n,lB)}function KS(n){const e=Se(n)?new Array(n.length):{};for(const t in n)e[t]=uB(n,t);return e}class cB{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return VR(ve(this._object),this._key)}}function uB(n,e,t){const r=n[e];return St(r)?r:new cB(n,e,t)}class dB{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new z0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&pt!==this)return DS(this,!0),!0}get value(){const e=this.dep.track();return LS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hB(n,e,t=!1){let r,o;return Ie(n)?r=n:(r=n.get,o=n.set),new dB(r,o,t)}const Td={},Fh=new WeakMap;let as;function fB(n,e=!1,t=as){if(t){let r=Fh.get(t);r||Fh.set(t,r=[]),r.push(n)}}function pB(n,e,t=ct){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:l}=t,c=y=>o?y:Er(y)||o===!1||o===0?Vo(y,1):Vo(y);let u,d,h,f,p=!1,m=!1;if(St(n)?(d=()=>n.value,p=Er(n)):Mi(n)?(d=()=>c(n),p=!0):Se(n)?(m=!0,p=n.some(y=>Mi(y)||Er(y)),d=()=>n.map(y=>{if(St(y))return y.value;if(Mi(y))return c(y);if(Ie(y))return l?l(y,2):y()})):Ie(n)?e?d=l?()=>l(n,2):n:d=()=>{if(h){Wi();try{h()}finally{Ki()}}const y=as;as=u;try{return l?l(n,3,[f]):n(f)}finally{as=y}}:d=fo,e&&o){const y=d,w=o===!0?1/0:o;d=()=>Vo(y(),w)}const g=RS(),b=()=>{u.stop(),g&&N0(g.effects,u)};if(i&&e){const y=e;e=(...w)=>{y(...w),b()}}let _=m?new Array(n.length).fill(Td):Td;const v=y=>{if(!(!(u.flags&1)||!u.dirty&&!y))if(e){const w=u.run();if(o||p||(m?w.some((S,C)=>Di(S,_[C])):Di(w,_))){h&&h();const S=as;as=u;try{const C=[w,_===Td?void 0:m&&_[0]===Td?[]:_,f];l?l(e,3,C):e(...C),_=w}finally{as=S}}}else u.run()};return a&&a(v),u=new BS(d),u.scheduler=s?()=>s(v,!1):v,f=y=>fB(y,!1,u),h=u.onStop=()=>{const y=Fh.get(u);if(y){if(l)l(y,4);else for(const w of y)w();Fh.delete(u)}},e?r?v(!0):_=u.run():s?s(v.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Vo(n,e=1/0,t){if(e<=0||!_t(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,St(n))Vo(n.value,e,t);else if(Se(n))for(let r=0;r<n.length;r++)Vo(n[r],e,t);else if(xS(n)||_a(n))n.forEach(r=>{Vo(r,e,t)});else if(SS(n)){for(const r in n)Vo(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Vo(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lu(n,e,t,r){try{return r?n(...r):n()}catch(o){jf(o,e,t)}}function jr(n,e,t,r){if(Ie(n)){const o=Lu(n,e,t,r);return o&&wS(o)&&o.catch(i=>{jf(i,e,t)}),o}if(Se(n)){const o=[];for(let i=0;i<n.length;i++)o.push(jr(n[i],e,t,r));return o}}function jf(n,e,t,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||ct;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](n,l,c)===!1)return}a=a.parent}if(i){Wi(),Lu(i,null,10,[n,l,c]),Ki();return}}mB(n,t,o,r,s)}function mB(n,e,t,r=!0,o=!1){if(o)throw n;console.error(n)}const Pn=[];let ao=-1;const xa=[];let xi=null,oa=0;const XS=Promise.resolve();let Lh=null;function X0(n){const e=Lh||XS;return n?e.then(this?n.bind(this):n):e}function gB(n){let e=ao+1,t=Pn.length;for(;e<t;){const r=e+t>>>1,o=Pn[r],i=Cc(o);i<n||i===n&&o.flags&2?e=r+1:t=r}return e}function q0(n){if(!(n.flags&1)){const e=Cc(n),t=Pn[Pn.length-1];!t||!(n.flags&2)&&e>=Cc(t)?Pn.push(n):Pn.splice(gB(e),0,n),n.flags|=1,qS()}}function qS(){Lh||(Lh=XS.then(ZS))}function bB(n){Se(n)?xa.push(...n):xi&&n.id===-1?xi.splice(oa+1,0,n):n.flags&1||(xa.push(n),n.flags|=1),qS()}function q_(n,e,t=ao+1){for(;t<Pn.length;t++){const r=Pn[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Pn.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function YS(n){if(xa.length){const e=[...new Set(xa)].sort((t,r)=>Cc(t)-Cc(r));if(xa.length=0,xi){xi.push(...e);return}for(xi=e,oa=0;oa<xi.length;oa++){const t=xi[oa];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}xi=null,oa=0}}const Cc=n=>n.id==null?n.flags&2?-1:1/0:n.id;function ZS(n){try{for(ao=0;ao<Pn.length;ao++){const e=Pn[ao];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Lu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ao<Pn.length;ao++){const e=Pn[ao];e&&(e.flags&=-2)}ao=-1,Pn.length=0,YS(),Lh=null,(Pn.length||xa.length)&&ZS()}}let Qt=null,JS=null;function Nh(n){const e=Qt;return Qt=n,JS=n&&n.type.__scopeId||null,e}function q(n,e=Qt,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&ax(-1);const i=Nh(e);let s;try{s=n(...o)}finally{Nh(i),r._d&&ax(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Gt(n,e){if(Qt===null)return n;const t=Zf(Qt),r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[i,s,a,l=ct]=e[o];i&&(Ie(i)&&(i={mounted:i,updated:i}),i.deep&&Vo(s),r.push({dir:i,instance:t,value:s,oldValue:void 0,arg:a,modifiers:l}))}return n}function ts(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(Wi(),jr(l,t,8,[n.el,a,n,e]),Ki())}}const QS=Symbol("_vte"),e3=n=>n.__isTeleport,ic=n=>n&&(n.disabled||n.disabled===""),vB=n=>n&&(n.defer||n.defer===""),Y_=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Z_=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Ig=(n,e)=>{const t=n&&n.to;return Tt(t)?e?e(t):null:t},yB={name:"Teleport",__isTeleport:!0,process(n,e,t,r,o,i,s,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=c,b=ic(e.props);let{shapeFlag:_,children:v,dynamicChildren:y}=e;if(n==null){const w=e.el=m(""),S=e.anchor=m("");f(w,t,r),f(S,t,r);const C=(E,A)=>{_&16&&(o&&o.isCE&&(o.ce._teleportTarget=E),u(v,E,A,o,i,s,a,l))},k=()=>{const E=e.target=Ig(e.props,p),A=t3(E,e,m,f);E&&(s!=="svg"&&Y_(E)?s="svg":s!=="mathml"&&Z_(E)&&(s="mathml"),b||(C(E,A),mh(e,!1)))};b&&(C(t,S),mh(e,!0)),vB(e.props)?Nn(k,i):k()}else{e.el=n.el,e.targetStart=n.targetStart;const w=e.anchor=n.anchor,S=e.target=n.target,C=e.targetAnchor=n.targetAnchor,k=ic(n.props),E=k?t:S,A=k?w:C;if(s==="svg"||Y_(S)?s="svg":(s==="mathml"||Z_(S))&&(s="mathml"),y?(h(n.dynamicChildren,y,E,o,i,s,a),nv(n,e,!0)):l||d(n,e,E,A,o,i,s,a,!1),b)k?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):kd(e,t,w,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const P=e.target=Ig(e.props,p);P&&kd(e,P,null,c,0)}else k&&kd(e,S,C,c,1);mh(e,b)}},remove(n,e,t,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=n;if(d&&(o(c),o(u)),i&&o(l),s&16){const f=i||!ic(h);for(let p=0;p<a.length;p++){const m=a[p];r(m,e,t,f,!!m.dynamicChildren)}}},move:kd,hydrate:_B};function kd(n,e,t,{o:{insert:r},m:o},i=2){i===0&&r(n.targetAnchor,e,t);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=n,d=i===2;if(d&&r(s,e,t),(!d||ic(u))&&l&16)for(let h=0;h<c.length;h++)o(c[h],e,t,2);d&&r(a,e,t)}function _B(n,e,t,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){const h=e.target=Ig(e.props,l);if(h){const f=ic(e.props),p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(f)e.anchor=d(s(n),e,a(n),t,r,o,i),e.targetStart=p,e.targetAnchor=p&&s(p);else{e.anchor=s(n);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}}m=s(m)}e.targetAnchor||t3(h,e,u,c),d(p&&s(p),e,h,t,r,o,i)}mh(e,f)}return e.anchor&&s(e.anchor)}const xB=yB;function mh(n,e){const t=n.ctx;if(t&&t.ut){let r,o;for(e?(r=n.el,o=n.anchor):(r=n.targetStart,o=n.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}function t3(n,e,t,r){const o=e.targetStart=t(""),i=e.targetAnchor=t("");return o[QS]=i,n&&(r(o,n),r(i,n)),i}const wi=Symbol("_leaveCb"),Ed=Symbol("_enterCb");function n3(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nu(()=>{n.isMounted=!0}),d3(()=>{n.isUnmounting=!0}),n}const vr=[Function,Array],r3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vr,onEnter:vr,onAfterEnter:vr,onEnterCancelled:vr,onBeforeLeave:vr,onLeave:vr,onAfterLeave:vr,onLeaveCancelled:vr,onBeforeAppear:vr,onAppear:vr,onAfterAppear:vr,onAppearCancelled:vr},o3=n=>{const e=n.subTree;return e.component?o3(e.component):e},wB={name:"BaseTransition",props:r3,setup(n,{slots:e}){const t=Yf(),r=n3();return()=>{const o=e.default&&Y0(e.default(),!0);if(!o||!o.length)return;const i=i3(o),s=ve(n),{mode:a}=s;if(r.isLeaving)return ym(i);const l=J_(i);if(!l)return ym(i);let c=Sc(l,s,r,t,h=>c=h);l.type!==Bn&&Cs(l,c);const u=t.subTree,d=u&&J_(u);if(d&&d.type!==Bn&&!hs(l,d)&&o3(t).type!==Bn){const h=Sc(d,s,r,t);if(Cs(d,h),a==="out-in"&&l.type!==Bn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete h.afterLeave},ym(i);a==="in-out"&&l.type!==Bn&&(h.delayLeave=(f,p,m)=>{const g=s3(r,d);g[String(d.key)]=d,f[wi]=()=>{p(),f[wi]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return i}}};function i3(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==Bn){e=t;break}}return e}const CB=wB;function s3(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Sc(n,e,t,r,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:b,onAfterAppear:_,onAppearCancelled:v}=e,y=String(n.key),w=s3(t,n),S=(E,A)=>{E&&jr(E,r,9,A)},C=(E,A)=>{const P=A[1];S(E,A),Se(E)?E.every(I=>I.length<=1)&&P():E.length<=1&&P()},k={mode:s,persisted:a,beforeEnter(E){let A=l;if(!t.isMounted)if(i)A=g||l;else return;E[wi]&&E[wi](!0);const P=w[y];P&&hs(n,P)&&P.el[wi]&&P.el[wi](),S(A,[E])},enter(E){let A=c,P=u,I=d;if(!t.isMounted)if(i)A=b||c,P=_||u,I=v||d;else return;let $=!1;const V=E[Ed]=ee=>{$||($=!0,ee?S(I,[E]):S(P,[E]),k.delayedLeave&&k.delayedLeave(),E[Ed]=void 0)};A?C(A,[E,V]):V()},leave(E,A){const P=String(n.key);if(E[Ed]&&E[Ed](!0),t.isUnmounting)return A();S(h,[E]);let I=!1;const $=E[wi]=V=>{I||(I=!0,A(),V?S(m,[E]):S(p,[E]),E[wi]=void 0,w[P]===n&&delete w[P])};w[P]=n,f?C(f,[E,$]):$()},clone(E){const A=Sc(E,e,t,r,o);return o&&o(A),A}};return k}function ym(n){if(Wf(n))return n=Gi(n),n.children=null,n}function J_(n){if(!Wf(n))return e3(n.type)&&n.children?i3(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&Ie(t.default))return t.default()}}function Cs(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Cs(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Y0(n,e=!1,t){let r=[],o=0;for(let i=0;i<n.length;i++){let s=n[i];const a=t==null?s.key:String(t)+String(s.key!=null?s.key:i);s.type===oe?(s.patchFlag&128&&o++,r=r.concat(Y0(s.children,e,a))):(e||s.type!==Bn)&&r.push(a!=null?Gi(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rl(n,e){return Ie(n)?Ut({name:n.name},e,{setup:n}):n}function a3(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Rg(n,e,t,r,o=!1){if(Se(n)){n.forEach((p,m)=>Rg(p,e&&(Se(e)?e[m]:e),t,r,o));return}if(wa(r)&&!o)return;const i=r.shapeFlag&4?Zf(r.component):r.el,s=o?null:i,{i:a,r:l}=n,c=e&&e.r,u=a.refs===ct?a.refs={}:a.refs,d=a.setupState,h=ve(d),f=d===ct?()=>!1:p=>Ye(h,p);if(c!=null&&c!==l&&(Tt(c)?(u[c]=null,f(c)&&(d[c]=null)):St(c)&&(c.value=null)),Ie(l))Lu(l,a,12,[s,u]);else{const p=Tt(l),m=St(l);if(p||m){const g=()=>{if(n.f){const b=p?f(l)?d[l]:u[l]:l.value;o?Se(b)&&N0(b,i):Se(b)?b.includes(i)||b.push(i):p?(u[l]=[i],f(l)&&(d[l]=u[l])):(l.value=[i],n.k&&(u[n.k]=l.value))}else p?(u[l]=s,f(l)&&(d[l]=s)):m&&(l.value=s,n.k&&(u[n.k]=s))};s?(g.id=-1,Nn(g,t)):g()}}}Vf().requestIdleCallback;Vf().cancelIdleCallback;const wa=n=>!!n.type.__asyncLoader,Wf=n=>n.type.__isKeepAlive;function SB(n,e){l3(n,"a",e)}function TB(n,e){l3(n,"da",e)}function l3(n,e,t=sn){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(Kf(e,r,t),t){let o=t.parent;for(;o&&o.parent;)Wf(o.parent.vnode)&&kB(r,e,t,o),o=o.parent}}function kB(n,e,t,r){const o=Kf(e,n,r,!0);Z0(()=>{N0(r[e],o)},t)}function Kf(n,e,t=sn,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{Wi();const a=$u(t),l=jr(e,t,n,s);return a(),Ki(),l});return r?o.unshift(i):o.push(i),i}}const ii=n=>(e,t=sn)=>{(!Ec||n==="sp")&&Kf(n,(...r)=>e(...r),t)},c3=ii("bm"),Nu=ii("m"),EB=ii("bu"),u3=ii("u"),d3=ii("bum"),Z0=ii("um"),AB=ii("sp"),PB=ii("rtg"),IB=ii("rtc");function RB(n,e=sn){Kf("ec",n,e)}const J0="components",BB="directives";function X(n,e){return Q0(J0,n,!0,e)||n}const h3=Symbol.for("v-ndc");function re(n){return Tt(n)?Q0(J0,n,!1)||n:n||h3}function hn(n){return Q0(BB,n)}function Q0(n,e,t=!0,r=!1){const o=Qt||sn;if(o){const i=o.type;if(n===J0){const a=yO(i,!1);if(a&&(a===e||a===Ir(e)||a===Gf(Ir(e))))return i}const s=Q_(o[n]||i[n],e)||Q_(o.appContext[n],e);return!s&&r?i:s}}function Q_(n,e){return n&&(n[e]||n[Ir(e)]||n[Gf(Ir(e))])}function st(n,e,t,r){let o;const i=t,s=Se(n);if(s||Tt(n)){const a=s&&Mi(n);let l=!1;a&&(l=!Er(n),n=zf(n)),o=new Array(n.length);for(let c=0,u=n.length;c<u;c++)o[c]=e(l?yn(n[c]):n[c],c,void 0,i)}else if(typeof n=="number"){o=new Array(n);for(let a=0;a<n;a++)o[a]=e(a+1,a,void 0,i)}else if(_t(n))if(n[Symbol.iterator])o=Array.from(n,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(n);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=e(n[u],u,l,i)}}else o=[];return o}function Ui(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(Se(r))for(let o=0;o<r.length;o++)n[r[o].name]=r[o].fn;else r&&(n[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return n}function K(n,e,t={},r,o){if(Qt.ce||Qt.parent&&wa(Qt.parent)&&Qt.parent.ce)return e!=="default"&&(t.name=e),x(),N(oe,null,[W("slot",t,r&&r())],64);let i=n[e];i&&i._c&&(i._d=!1),x();const s=i&&f3(i(t)),a=t.key||s&&s.key,l=N(oe,{key:(a&&!oi(a)?a:`_${e}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&n._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function f3(n){return n.some(e=>kc(e)?!(e.type===Bn||e.type===oe&&!f3(e.children)):!0)?n:null}function Ad(n,e){const t={};for(const r in n)t[/[A-Z]/.test(r)?`on:${r}`:ph(r)]=n[r];return t}const Bg=n=>n?B3(n)?Zf(n):Bg(n.parent):null,sc=Ut(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Bg(n.parent),$root:n=>Bg(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>ev(n),$forceUpdate:n=>n.f||(n.f=()=>{q0(n.update)}),$nextTick:n=>n.n||(n.n=X0.bind(n.proxy)),$watch:n=>nO.bind(n)}),_m=(n,e)=>n!==ct&&!n.__isScriptSetup&&Ye(n,e),OB={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(_m(r,e))return s[e]=1,r[e];if(o!==ct&&Ye(o,e))return s[e]=2,o[e];if((c=n.propsOptions[0])&&Ye(c,e))return s[e]=3,i[e];if(t!==ct&&Ye(t,e))return s[e]=4,t[e];Og&&(s[e]=0)}}const u=sc[e];let d,h;if(u)return e==="$attrs"&&vn(n.attrs,"get",""),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==ct&&Ye(t,e))return s[e]=4,t[e];if(h=l.config.globalProperties,Ye(h,e))return h[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return _m(o,e)?(o[e]=t,!0):r!==ct&&Ye(r,e)?(r[e]=t,!0):Ye(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!t[s]||n!==ct&&Ye(n,s)||_m(e,s)||(a=i[0])&&Ye(a,s)||Ye(r,s)||Ye(sc,s)||Ye(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Ye(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function ex(n){return Se(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Og=!0;function DB(n){const e=ev(n),t=n.proxy,r=n.ctx;Og=!1,e.beforeCreate&&tx(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:g,beforeDestroy:b,beforeUnmount:_,destroyed:v,unmounted:y,render:w,renderTracked:S,renderTriggered:C,errorCaptured:k,serverPrefetch:E,expose:A,inheritAttrs:P,components:I,directives:$,filters:V}=e;if(c&&MB(c,r,null),s)for(const L in s){const ie=s[L];Ie(ie)&&(r[L]=ie.bind(t))}if(o){const L=o.call(t,t);_t(L)&&(n.data=Fu(L))}if(Og=!0,i)for(const L in i){const ie=i[L],te=Ie(ie)?ie.bind(t,t):Ie(ie.get)?ie.get.bind(t,t):fo,ue=!Ie(ie)&&Ie(ie.set)?ie.set.bind(t):fo,le=qr({get:te,set:ue});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>le.value,set:xe=>le.value=xe})}if(a)for(const L in a)p3(a[L],r,t,L);if(l){const L=Ie(l)?l.call(t):l;Reflect.ownKeys(L).forEach(ie=>{GB(ie,L[ie])})}u&&tx(u,n,"c");function F(L,ie){Se(ie)?ie.forEach(te=>L(te.bind(t))):ie&&L(ie.bind(t))}if(F(c3,d),F(Nu,h),F(EB,f),F(u3,p),F(SB,m),F(TB,g),F(RB,k),F(IB,S),F(PB,C),F(d3,_),F(Z0,y),F(AB,E),Se(A))if(A.length){const L=n.exposed||(n.exposed={});A.forEach(ie=>{Object.defineProperty(L,ie,{get:()=>t[ie],set:te=>t[ie]=te})})}else n.exposed||(n.exposed={});w&&n.render===fo&&(n.render=w),P!=null&&(n.inheritAttrs=P),I&&(n.components=I),$&&(n.directives=$),E&&a3(n)}function MB(n,e,t=fo){Se(n)&&(n=Dg(n));for(const r in n){const o=n[r];let i;_t(o)?"default"in o?i=Ca(o.from||r,o.default,!0):i=Ca(o.from||r):i=Ca(o),St(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[r]=i}}function tx(n,e,t){jr(Se(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function p3(n,e,t,r){let o=r.includes(".")?k3(t,r):()=>t[r];if(Tt(n)){const i=e[n];Ie(i)&&lr(o,i)}else if(Ie(n))lr(o,n.bind(t));else if(_t(n))if(Se(n))n.forEach(i=>p3(i,e,t,r));else{const i=Ie(n.handler)?n.handler.bind(t):e[n.handler];Ie(i)&&lr(o,i,n)}}function ev(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!t&&!r?l=e:(l={},o.length&&o.forEach(c=>$h(l,c,s,!0)),$h(l,e,s)),_t(e)&&i.set(e,l),l}function $h(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&$h(n,i,t,!0),o&&o.forEach(s=>$h(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const a=FB[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const FB={data:nx,props:rx,emits:rx,methods:Wl,computed:Wl,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:Wl,directives:Wl,watch:NB,provide:nx,inject:LB};function nx(n,e){return e?n?function(){return Ut(Ie(n)?n.call(this,this):n,Ie(e)?e.call(this,this):e)}:e:n}function LB(n,e){return Wl(Dg(n),Dg(e))}function Dg(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function En(n,e){return n?[...new Set([].concat(n,e))]:e}function Wl(n,e){return n?Ut(Object.create(null),n,e):e}function rx(n,e){return n?Se(n)&&Se(e)?[...new Set([...n,...e])]:Ut(Object.create(null),ex(n),ex(e??{})):e}function NB(n,e){if(!n)return e;if(!e)return n;const t=Ut(Object.create(null),n);for(const r in e)t[r]=En(n[r],e[r]);return t}function m3(){return{app:null,config:{isNativeTag:kR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $B=0;function UB(n,e){return function(r,o=null){Ie(r)||(r=Ut({},r)),o!=null&&!_t(o)&&(o=null);const i=m3(),s=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$B++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:wO,get config(){return i.config},set config(u){},use(u,...d){return s.has(u)||(u&&Ie(u.install)?(s.add(u),u.install(c,...d)):Ie(u)&&(s.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||W(r,o);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,u):n(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Zf(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(jr(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=bs;bs=c;try{return u()}finally{bs=d}}};return c}}let bs=null;function GB(n,e){if(sn){let t=sn.provides;const r=sn.parent&&sn.parent.provides;r===t&&(t=sn.provides=Object.create(r)),t[n]=e}}function Ca(n,e,t=!1){const r=sn||Qt;if(r||bs){const o=bs?bs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return t&&Ie(e)?e.call(r&&r.proxy):e}}function VB(){return!!(sn||Qt||bs)}const g3={},b3=()=>Object.create(g3),v3=n=>Object.getPrototypeOf(n)===g3;function zB(n,e,t,r=!1){const o={},i=b3();n.propsDefaults=Object.create(null),y3(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:iB(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function HB(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,a=ve(o),[l]=n.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Xf(n.emitsOptions,h))continue;const f=e[h];if(l)if(Ye(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const p=Ir(h);o[p]=Mg(l,a,p,f,n,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{y3(n,e,o,i)&&(c=!0);let u;for(const d in a)(!e||!Ye(e,d)&&((u=ji(d))===d||!Ye(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(o[d]=Mg(l,a,d,void 0,n,!0)):delete o[d]);if(i!==a)for(const d in i)(!e||!Ye(e,d))&&(delete i[d],c=!0)}c&&Go(n.attrs,"set","")}function y3(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,a;if(e)for(let l in e){if(nc(l))continue;const c=e[l];let u;o&&Ye(o,u=Ir(l))?!i||!i.includes(u)?t[u]=c:(a||(a={}))[u]=c:Xf(n.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(i){const l=ve(t),c=a||ct;for(let u=0;u<i.length;u++){const d=i[u];t[d]=Mg(o,l,d,c[d],n,!Ye(c,d))}}return s}function Mg(n,e,t,r,o,i){const s=n[t];if(s!=null){const a=Ye(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ie(l)){const{propsDefaults:c}=o;if(t in c)r=c[t];else{const u=$u(o);r=c[t]=l.call(null,e),u()}}else r=l;o.ce&&o.ce._setProp(t,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===ji(t))&&(r=!0))}return r}const jB=new WeakMap;function _3(n,e,t=!1){const r=t?jB:e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},a=[];let l=!1;if(!Ie(n)){const u=d=>{l=!0;const[h,f]=_3(d,e,!0);Ut(s,h),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!i&&!l)return _t(n)&&r.set(n,ya),ya;if(Se(i))for(let u=0;u<i.length;u++){const d=Ir(i[u]);ox(d)&&(s[d]=ct)}else if(i)for(const u in i){const d=Ir(u);if(ox(d)){const h=i[u],f=s[d]=Se(h)||Ie(h)?{type:h}:Ut({},h),p=f.type;let m=!1,g=!0;if(Se(p))for(let b=0;b<p.length;++b){const _=p[b],v=Ie(_)&&_.name;if(v==="Boolean"){m=!0;break}else v==="String"&&(g=!1)}else m=Ie(p)&&p.name==="Boolean";f[0]=m,f[1]=g,(m||Ye(f,"default"))&&a.push(d)}}const c=[s,a];return _t(n)&&r.set(n,c),c}function ox(n){return n[0]!=="$"&&!nc(n)}const x3=n=>n[0]==="_"||n==="$stable",tv=n=>Se(n)?n.map(lo):[lo(n)],WB=(n,e,t)=>{if(e._n)return e;const r=q((...o)=>tv(e(...o)),t);return r._c=!1,r},w3=(n,e,t)=>{const r=n._ctx;for(const o in n){if(x3(o))continue;const i=n[o];if(Ie(i))e[o]=WB(o,i,r);else if(i!=null){const s=tv(i);e[o]=()=>s}}},C3=(n,e)=>{const t=tv(e);n.slots.default=()=>t},S3=(n,e,t)=>{for(const r in e)(t||r!=="_")&&(n[r]=e[r])},KB=(n,e,t)=>{const r=n.slots=b3();if(n.vnode.shapeFlag&32){const o=e._;o?(S3(r,e,t),t&&TS(r,"_",o,!0)):w3(e,r)}else e&&C3(n,e)},XB=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=ct;if(r.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:S3(o,e,t):(i=!e.$stable,w3(e,o)),s=e}else e&&(C3(n,e),s={default:1});if(i)for(const a in o)!x3(a)&&s[a]==null&&delete o[a]},Nn=cO;function qB(n){return YB(n)}function YB(n,e){const t=Vf();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=fo,insertStaticContent:p}=n,m=(B,M,D,U=null,z=null,H=null,Y=void 0,Z=null,Q=!!M.dynamicChildren)=>{if(B===M)return;B&&!hs(B,M)&&(U=bt(B),xe(B,z,H,!0),B=null),M.patchFlag===-2&&(Q=!1,M.dynamicChildren=null);const{type:J,ref:me,shapeFlag:se}=M;switch(J){case qf:g(B,M,D,U);break;case Bn:b(B,M,D,U);break;case gh:B==null&&_(M,D,U,Y);break;case oe:I(B,M,D,U,z,H,Y,Z,Q);break;default:se&1?w(B,M,D,U,z,H,Y,Z,Q):se&6?$(B,M,D,U,z,H,Y,Z,Q):(se&64||se&128)&&J.process(B,M,D,U,z,H,Y,Z,Q,Ht)}me!=null&&z&&Rg(me,B&&B.ref,H,M||B,!M)},g=(B,M,D,U)=>{if(B==null)r(M.el=a(M.children),D,U);else{const z=M.el=B.el;M.children!==B.children&&c(z,M.children)}},b=(B,M,D,U)=>{B==null?r(M.el=l(M.children||""),D,U):M.el=B.el},_=(B,M,D,U)=>{[B.el,B.anchor]=p(B.children,M,D,U,B.el,B.anchor)},v=({el:B,anchor:M},D,U)=>{let z;for(;B&&B!==M;)z=h(B),r(B,D,U),B=z;r(M,D,U)},y=({el:B,anchor:M})=>{let D;for(;B&&B!==M;)D=h(B),o(B),B=D;o(M)},w=(B,M,D,U,z,H,Y,Z,Q)=>{M.type==="svg"?Y="svg":M.type==="math"&&(Y="mathml"),B==null?S(M,D,U,z,H,Y,Z,Q):E(B,M,z,H,Y,Z,Q)},S=(B,M,D,U,z,H,Y,Z)=>{let Q,J;const{props:me,shapeFlag:se,transition:ge,dirs:Te}=B;if(Q=B.el=s(B.type,H,me&&me.is,me),se&8?u(Q,B.children):se&16&&k(B.children,Q,null,U,z,xm(B,H),Y,Z),Te&&ts(B,null,U,"created"),C(Q,B,B.scopeId,Y,U),me){for(const ht in me)ht!=="value"&&!nc(ht)&&i(Q,ht,null,me[ht],H,U);"value"in me&&i(Q,"value",null,me.value,H),(J=me.onVnodeBeforeMount)&&no(J,U,B)}Te&&ts(B,null,U,"beforeMount");const ze=ZB(z,ge);ze&&ge.beforeEnter(Q),r(Q,M,D),((J=me&&me.onVnodeMounted)||ze||Te)&&Nn(()=>{J&&no(J,U,B),ze&&ge.enter(Q),Te&&ts(B,null,U,"mounted")},z)},C=(B,M,D,U,z)=>{if(D&&f(B,D),U)for(let H=0;H<U.length;H++)f(B,U[H]);if(z){let H=z.subTree;if(M===H||A3(H.type)&&(H.ssContent===M||H.ssFallback===M)){const Y=z.vnode;C(B,Y,Y.scopeId,Y.slotScopeIds,z.parent)}}},k=(B,M,D,U,z,H,Y,Z,Q=0)=>{for(let J=Q;J<B.length;J++){const me=B[J]=Z?Ci(B[J]):lo(B[J]);m(null,me,M,D,U,z,H,Y,Z)}},E=(B,M,D,U,z,H,Y)=>{const Z=M.el=B.el;let{patchFlag:Q,dynamicChildren:J,dirs:me}=M;Q|=B.patchFlag&16;const se=B.props||ct,ge=M.props||ct;let Te;if(D&&ns(D,!1),(Te=ge.onVnodeBeforeUpdate)&&no(Te,D,M,B),me&&ts(M,B,D,"beforeUpdate"),D&&ns(D,!0),(se.innerHTML&&ge.innerHTML==null||se.textContent&&ge.textContent==null)&&u(Z,""),J?A(B.dynamicChildren,J,Z,D,U,xm(M,z),H):Y||ie(B,M,Z,null,D,U,xm(M,z),H,!1),Q>0){if(Q&16)P(Z,se,ge,D,z);else if(Q&2&&se.class!==ge.class&&i(Z,"class",null,ge.class,z),Q&4&&i(Z,"style",se.style,ge.style,z),Q&8){const ze=M.dynamicProps;for(let ht=0;ht<ze.length;ht++){const et=ze[ht],tr=se[et],bn=ge[et];(bn!==tr||et==="value")&&i(Z,et,tr,bn,z,D)}}Q&1&&B.children!==M.children&&u(Z,M.children)}else!Y&&J==null&&P(Z,se,ge,D,z);((Te=ge.onVnodeUpdated)||me)&&Nn(()=>{Te&&no(Te,D,M,B),me&&ts(M,B,D,"updated")},U)},A=(B,M,D,U,z,H,Y)=>{for(let Z=0;Z<M.length;Z++){const Q=B[Z],J=M[Z],me=Q.el&&(Q.type===oe||!hs(Q,J)||Q.shapeFlag&70)?d(Q.el):D;m(Q,J,me,null,U,z,H,Y,!0)}},P=(B,M,D,U,z)=>{if(M!==D){if(M!==ct)for(const H in M)!nc(H)&&!(H in D)&&i(B,H,M[H],null,z,U);for(const H in D){if(nc(H))continue;const Y=D[H],Z=M[H];Y!==Z&&H!=="value"&&i(B,H,Z,Y,z,U)}"value"in D&&i(B,"value",M.value,D.value,z)}},I=(B,M,D,U,z,H,Y,Z,Q)=>{const J=M.el=B?B.el:a(""),me=M.anchor=B?B.anchor:a("");let{patchFlag:se,dynamicChildren:ge,slotScopeIds:Te}=M;Te&&(Z=Z?Z.concat(Te):Te),B==null?(r(J,D,U),r(me,D,U),k(M.children||[],D,me,z,H,Y,Z,Q)):se>0&&se&64&&ge&&B.dynamicChildren?(A(B.dynamicChildren,ge,D,z,H,Y,Z),(M.key!=null||z&&M===z.subTree)&&nv(B,M,!0)):ie(B,M,D,me,z,H,Y,Z,Q)},$=(B,M,D,U,z,H,Y,Z,Q)=>{M.slotScopeIds=Z,B==null?M.shapeFlag&512?z.ctx.activate(M,D,U,Y,Q):V(M,D,U,z,H,Y,Q):ee(B,M,Q)},V=(B,M,D,U,z,H,Y)=>{const Z=B.component=pO(B,U,z);if(Wf(B)&&(Z.ctx.renderer=Ht),mO(Z,!1,Y),Z.asyncDep){if(z&&z.registerDep(Z,F,Y),!B.el){const Q=Z.subTree=W(Bn);b(null,Q,M,D)}}else F(Z,B,M,D,z,H,Y)},ee=(B,M,D)=>{const U=M.component=B.component;if(aO(B,M,D))if(U.asyncDep&&!U.asyncResolved){L(U,M,D);return}else U.next=M,U.update();else M.el=B.el,U.vnode=M},F=(B,M,D,U,z,H,Y)=>{const Z=()=>{if(B.isMounted){let{next:se,bu:ge,u:Te,parent:ze,vnode:ht}=B;{const nr=T3(B);if(nr){se&&(se.el=ht.el,L(B,se,Y)),nr.asyncDep.then(()=>{B.isUnmounted||Z()});return}}let et=se,tr;ns(B,!1),se?(se.el=ht.el,L(B,se,Y)):se=ht,ge&&pm(ge),(tr=se.props&&se.props.onVnodeBeforeUpdate)&&no(tr,ze,se,ht),ns(B,!0);const bn=wm(B),Br=B.subTree;B.subTree=bn,m(Br,bn,d(Br.el),bt(Br),B,z,H),se.el=bn.el,et===null&&lO(B,bn.el),Te&&Nn(Te,z),(tr=se.props&&se.props.onVnodeUpdated)&&Nn(()=>no(tr,ze,se,ht),z)}else{let se;const{el:ge,props:Te}=M,{bm:ze,m:ht,parent:et,root:tr,type:bn}=B,Br=wa(M);if(ns(B,!1),ze&&pm(ze),!Br&&(se=Te&&Te.onVnodeBeforeMount)&&no(se,et,M),ns(B,!0),ge&&Zt){const nr=()=>{B.subTree=wm(B),Zt(ge,B.subTree,B,z,null)};Br&&bn.__asyncHydrate?bn.__asyncHydrate(ge,B,nr):nr()}else{tr.ce&&tr.ce._injectChildStyle(bn);const nr=B.subTree=wm(B);m(null,nr,D,U,B,z,H),M.el=nr.el}if(ht&&Nn(ht,z),!Br&&(se=Te&&Te.onVnodeMounted)){const nr=M;Nn(()=>no(se,et,nr),z)}(M.shapeFlag&256||et&&wa(et.vnode)&&et.vnode.shapeFlag&256)&&B.a&&Nn(B.a,z),B.isMounted=!0,M=D=U=null}};B.scope.on();const Q=B.effect=new BS(Z);B.scope.off();const J=B.update=Q.run.bind(Q),me=B.job=Q.runIfDirty.bind(Q);me.i=B,me.id=B.uid,Q.scheduler=()=>q0(me),ns(B,!0),J()},L=(B,M,D)=>{M.component=B;const U=B.vnode.props;B.vnode=M,B.next=null,HB(B,M.props,U,D),XB(B,M.children,D),Wi(),q_(B),Ki()},ie=(B,M,D,U,z,H,Y,Z,Q=!1)=>{const J=B&&B.children,me=B?B.shapeFlag:0,se=M.children,{patchFlag:ge,shapeFlag:Te}=M;if(ge>0){if(ge&128){ue(J,se,D,U,z,H,Y,Z,Q);return}else if(ge&256){te(J,se,D,U,z,H,Y,Z,Q);return}}Te&8?(me&16&&Me(J,z,H),se!==J&&u(D,se)):me&16?Te&16?ue(J,se,D,U,z,H,Y,Z,Q):Me(J,z,H,!0):(me&8&&u(D,""),Te&16&&k(se,D,U,z,H,Y,Z,Q))},te=(B,M,D,U,z,H,Y,Z,Q)=>{B=B||ya,M=M||ya;const J=B.length,me=M.length,se=Math.min(J,me);let ge;for(ge=0;ge<se;ge++){const Te=M[ge]=Q?Ci(M[ge]):lo(M[ge]);m(B[ge],Te,D,null,z,H,Y,Z,Q)}J>me?Me(B,z,H,!0,!1,se):k(M,D,U,z,H,Y,Z,Q,se)},ue=(B,M,D,U,z,H,Y,Z,Q)=>{let J=0;const me=M.length;let se=B.length-1,ge=me-1;for(;J<=se&&J<=ge;){const Te=B[J],ze=M[J]=Q?Ci(M[J]):lo(M[J]);if(hs(Te,ze))m(Te,ze,D,null,z,H,Y,Z,Q);else break;J++}for(;J<=se&&J<=ge;){const Te=B[se],ze=M[ge]=Q?Ci(M[ge]):lo(M[ge]);if(hs(Te,ze))m(Te,ze,D,null,z,H,Y,Z,Q);else break;se--,ge--}if(J>se){if(J<=ge){const Te=ge+1,ze=Te<me?M[Te].el:U;for(;J<=ge;)m(null,M[J]=Q?Ci(M[J]):lo(M[J]),D,ze,z,H,Y,Z,Q),J++}}else if(J>ge)for(;J<=se;)xe(B[J],z,H,!0),J++;else{const Te=J,ze=J,ht=new Map;for(J=ze;J<=ge;J++){const rr=M[J]=Q?Ci(M[J]):lo(M[J]);rr.key!=null&&ht.set(rr.key,J)}let et,tr=0;const bn=ge-ze+1;let Br=!1,nr=0;const kl=new Array(bn);for(J=0;J<bn;J++)kl[J]=0;for(J=Te;J<=se;J++){const rr=B[J];if(tr>=bn){xe(rr,z,H,!0);continue}let to;if(rr.key!=null)to=ht.get(rr.key);else for(et=ze;et<=ge;et++)if(kl[et-ze]===0&&hs(rr,M[et])){to=et;break}to===void 0?xe(rr,z,H,!0):(kl[to-ze]=J+1,to>=nr?nr=to:Br=!0,m(rr,M[to],D,null,z,H,Y,Z,Q),tr++)}const H_=Br?JB(kl):ya;for(et=H_.length-1,J=bn-1;J>=0;J--){const rr=ze+J,to=M[rr],j_=rr+1<me?M[rr+1].el:U;kl[J]===0?m(null,to,D,j_,z,H,Y,Z,Q):Br&&(et<0||J!==H_[et]?le(to,D,j_,2):et--)}}},le=(B,M,D,U,z=null)=>{const{el:H,type:Y,transition:Z,children:Q,shapeFlag:J}=B;if(J&6){le(B.component.subTree,M,D,U);return}if(J&128){B.suspense.move(M,D,U);return}if(J&64){Y.move(B,M,D,Ht);return}if(Y===oe){r(H,M,D);for(let se=0;se<Q.length;se++)le(Q[se],M,D,U);r(B.anchor,M,D);return}if(Y===gh){v(B,M,D);return}if(U!==2&&J&1&&Z)if(U===0)Z.beforeEnter(H),r(H,M,D),Nn(()=>Z.enter(H),z);else{const{leave:se,delayLeave:ge,afterLeave:Te}=Z,ze=()=>r(H,M,D),ht=()=>{se(H,()=>{ze(),Te&&Te()})};ge?ge(H,ze,ht):ht()}else r(H,M,D)},xe=(B,M,D,U=!1,z=!1)=>{const{type:H,props:Y,ref:Z,children:Q,dynamicChildren:J,shapeFlag:me,patchFlag:se,dirs:ge,cacheIndex:Te}=B;if(se===-2&&(z=!1),Z!=null&&Rg(Z,null,D,B,!0),Te!=null&&(M.renderCache[Te]=void 0),me&256){M.ctx.deactivate(B);return}const ze=me&1&&ge,ht=!wa(B);let et;if(ht&&(et=Y&&Y.onVnodeBeforeUnmount)&&no(et,M,B),me&6)ke(B.component,D,U);else{if(me&128){B.suspense.unmount(D,U);return}ze&&ts(B,null,M,"beforeUnmount"),me&64?B.type.remove(B,M,D,Ht,U):J&&!J.hasOnce&&(H!==oe||se>0&&se&64)?Me(J,M,D,!1,!0):(H===oe&&se&384||!z&&me&16)&&Me(Q,M,D),U&&lt(B)}(ht&&(et=Y&&Y.onVnodeUnmounted)||ze)&&Nn(()=>{et&&no(et,M,B),ze&&ts(B,null,M,"unmounted")},D)},lt=B=>{const{type:M,el:D,anchor:U,transition:z}=B;if(M===oe){gt(D,U);return}if(M===gh){y(B);return}const H=()=>{o(D),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(B.shapeFlag&1&&z&&!z.persisted){const{leave:Y,delayLeave:Z}=z,Q=()=>Y(D,H);Z?Z(B.el,H,Q):Q()}else H()},gt=(B,M)=>{let D;for(;B!==M;)D=h(B),o(B),B=D;o(M)},ke=(B,M,D)=>{const{bum:U,scope:z,job:H,subTree:Y,um:Z,m:Q,a:J}=B;ix(Q),ix(J),U&&pm(U),z.stop(),H&&(H.flags|=8,xe(Y,B,M,D)),Z&&Nn(Z,M),Nn(()=>{B.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Me=(B,M,D,U=!1,z=!1,H=0)=>{for(let Y=H;Y<B.length;Y++)xe(B[Y],M,D,U,z)},bt=B=>{if(B.shapeFlag&6)return bt(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const M=h(B.anchor||B.el),D=M&&M[QS];return D?h(D):M};let de=!1;const pn=(B,M,D)=>{B==null?M._vnode&&xe(M._vnode,null,null,!0):m(M._vnode||null,B,M,null,null,null,D),M._vnode=B,de||(de=!0,q_(),YS(),de=!1)},Ht={p:m,um:xe,m:le,r:lt,mt:V,mc:k,pc:ie,pbc:A,n:bt,o:n};let kn,Zt;return{render:pn,hydrate:kn,createApp:UB(pn,kn)}}function xm({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ns({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function ZB(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function nv(n,e,t=!1){const r=n.children,o=e.children;if(Se(r)&&Se(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Ci(o[i]),a.el=s.el),!t&&a.patchFlag!==-2&&nv(s,a)),a.type===qf&&(a.el=s.el)}}function JB(n){const e=n.slice(),t=[0];let r,o,i,s,a;const l=n.length;for(r=0;r<l;r++){const c=n[r];if(c!==0){if(o=t[t.length-1],n[o]<c){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)a=i+s>>1,n[t[a]]<c?i=a+1:s=a;c<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}function T3(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:T3(e)}function ix(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const QB=Symbol.for("v-scx"),eO=()=>Ca(QB);function tO(n,e){return rv(n,null,{flush:"post"})}function lr(n,e,t){return rv(n,e,t)}function rv(n,e,t=ct){const{immediate:r,deep:o,flush:i,once:s}=t,a=Ut({},t),l=e&&r||!e&&i!=="post";let c;if(Ec){if(i==="sync"){const f=eO();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=fo,f.resume=fo,f.pause=fo,f}}const u=sn;a.call=(f,p,m)=>jr(f,u,p,m);let d=!1;i==="post"?a.scheduler=f=>{Nn(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():q0(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=pB(n,e,a);return Ec&&(c?c.push(h):l&&h()),h}function nO(n,e,t){const r=this.proxy,o=Tt(n)?n.includes(".")?k3(r,n):()=>r[n]:n.bind(r,r);let i;Ie(e)?i=e:(i=e.handler,t=e);const s=$u(this),a=rv(o,i.bind(r),t);return s(),a}function k3(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}const rO=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Ir(e)}Modifiers`]||n[`${ji(e)}Modifiers`];function oO(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ct;let o=t;const i=e.startsWith("update:"),s=i&&rO(r,e.slice(7));s&&(s.trim&&(o=t.map(u=>Tt(u)?u.trim():u)),s.number&&(o=t.map(RR)));let a,l=r[a=ph(e)]||r[a=ph(Ir(e))];!l&&i&&(l=r[a=ph(ji(e))]),l&&jr(l,n,6,o);const c=r[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,jr(c,n,6,o)}}function E3(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},a=!1;if(!Ie(n)){const l=c=>{const u=E3(c,e,!0);u&&(a=!0,Ut(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!a?(_t(n)&&r.set(n,null),null):(Se(i)?i.forEach(l=>s[l]=null):Ut(s,i),_t(n)&&r.set(n,s),s)}function Xf(n,e){return!n||!Nf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ye(n,e[0].toLowerCase()+e.slice(1))||Ye(n,ji(e))||Ye(n,e))}function wm(n){const{type:e,vnode:t,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=n,g=Nh(n);let b,_;try{if(t.shapeFlag&4){const y=o||r,w=y;b=lo(c.call(w,y,u,d,f,h,p)),_=a}else{const y=e;b=lo(y.length>1?y(d,{attrs:a,slots:s,emit:l}):y(d,null)),_=e.props?a:iO(a)}}catch(y){ac.length=0,jf(y,n,1),b=W(Bn)}let v=b;if(_&&m!==!1){const y=Object.keys(_),{shapeFlag:w}=v;y.length&&w&7&&(i&&y.some(L0)&&(_=sO(_,i)),v=Gi(v,_,!1,!0))}return t.dirs&&(v=Gi(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(t.dirs):t.dirs),t.transition&&Cs(v,t.transition),b=v,Nh(g),b}const iO=n=>{let e;for(const t in n)(t==="class"||t==="style"||Nf(t))&&((e||(e={}))[t]=n[t]);return e},sO=(n,e)=>{const t={};for(const r in n)(!L0(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function aO(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?sx(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(s[h]!==r[h]&&!Xf(c,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?sx(r,s,c):!0:!!s;return!1}function sx(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!Xf(t,i))return!0}return!1}function lO({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const A3=n=>n.__isSuspense;function cO(n,e){e&&e.pendingBranch?Se(n)?e.effects.push(...n):e.effects.push(n):bB(n)}const oe=Symbol.for("v-fgt"),qf=Symbol.for("v-txt"),Bn=Symbol.for("v-cmt"),gh=Symbol.for("v-stc"),ac=[];let cr=null;function x(n=!1){ac.push(cr=n?null:[])}function uO(){ac.pop(),cr=ac[ac.length-1]||null}let Tc=1;function ax(n){Tc+=n,n<0&&cr&&(cr.hasOnce=!0)}function P3(n){return n.dynamicChildren=Tc>0?cr||ya:null,uO(),Tc>0&&cr&&cr.push(n),n}function R(n,e,t,r,o,i){return P3(G(n,e,t,r,o,i,!0))}function N(n,e,t,r,o){return P3(W(n,e,t,r,o,!0))}function kc(n){return n?n.__v_isVNode===!0:!1}function hs(n,e){return n.type===e.type&&n.key===e.key}const I3=({key:n})=>n??null,bh=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Tt(n)||St(n)||Ie(n)?{i:Qt,r:n,k:e,f:!!t}:n:null);function G(n,e=null,t=null,r=0,o=null,i=n===oe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&I3(e),ref:e&&bh(e),scopeId:JS,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Qt};return a?(ov(l,t),i&128&&n.normalize(l)):t&&(l.shapeFlag|=Tt(t)?8:16),Tc>0&&!s&&cr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&cr.push(l),l}const W=dO;function dO(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===h3)&&(n=Bn),kc(n)){const a=Gi(n,e,!0);return t&&ov(a,t),Tc>0&&!i&&cr&&(a.shapeFlag&6?cr[cr.indexOf(n)]=a:cr.push(a)),a.patchFlag=-2,a}if(_O(n)&&(n=n.__vccOpts),e){e=R3(e);let{class:a,style:l}=e;a&&!Tt(a)&&(e.class=ce(a)),_t(l)&&(K0(l)&&!Se(l)&&(l=Ut({},l)),e.style=nl(l))}const s=Tt(n)?1:A3(n)?128:e3(n)?64:_t(n)?4:Ie(n)?2:0;return G(n,e,t,r,o,s,i,!0)}function R3(n){return n?K0(n)||v3(n)?Ut({},n):n:null}function Gi(n,e,t=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:l}=n,c=e?T(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&I3(c),ref:e&&e.ref?t&&i?Se(i)?i.concat(bh(e)):[i,bh(e)]:bh(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==oe?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Gi(n.ssContent),ssFallback:n.ssFallback&&Gi(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&Cs(u,l.clone(u)),u}function On(n=" ",e=0){return W(qf,null,n,e)}function j(n="",e=!1){return e?(x(),N(Bn,null,n)):W(Bn,null,n)}function lo(n){return n==null||typeof n=="boolean"?W(Bn):Se(n)?W(oe,null,n.slice()):kc(n)?Ci(n):W(qf,null,String(n))}function Ci(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Gi(n)}function ov(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(Se(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),ov(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!v3(e)?e._ctx=Qt:o===3&&Qt&&(Qt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:Qt},t=32):(e=String(e),r&64?(t=16,e=[On(e)]):t=8);n.children=e,n.shapeFlag|=t}function T(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=ce([e.class,r.class]));else if(o==="style")e.style=nl([e.style,r.style]);else if(Nf(o)){const i=e[o],s=r[o];s&&i!==s&&!(Se(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function no(n,e,t,r=null){jr(n,e,7,[t,r])}const hO=m3();let fO=0;function pO(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||hO,i={uid:fO++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new PS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_3(r,o),emitsOptions:E3(r,o),emit:null,emitted:null,propsDefaults:ct,inheritAttrs:r.inheritAttrs,ctx:ct,data:ct,props:ct,attrs:ct,slots:ct,refs:ct,setupState:ct,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=oO.bind(null,i),n.ce&&n.ce(i),i}let sn=null;const Yf=()=>sn||Qt;let Uh,Fg;{const n=Vf(),e=(t,r)=>{let o;return(o=n[t])||(o=n[t]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};Uh=e("__VUE_INSTANCE_SETTERS__",t=>sn=t),Fg=e("__VUE_SSR_SETTERS__",t=>Ec=t)}const $u=n=>{const e=sn;return Uh(n),n.scope.on(),()=>{n.scope.off(),Uh(e)}},lx=()=>{sn&&sn.scope.off(),Uh(null)};function B3(n){return n.vnode.shapeFlag&4}let Ec=!1;function mO(n,e=!1,t=!1){e&&Fg(e);const{props:r,children:o}=n.vnode,i=B3(n);zB(n,r,i,e),KB(n,o,t);const s=i?gO(n,e):void 0;return e&&Fg(!1),s}function gO(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,OB);const{setup:r}=t;if(r){Wi();const o=n.setupContext=r.length>1?vO(n):null,i=$u(n),s=Lu(r,n,0,[n.props,o]),a=wS(s);if(Ki(),i(),(a||n.sp)&&!wa(n)&&a3(n),a){if(s.then(lx,lx),e)return s.then(l=>{cx(n,l,e)}).catch(l=>{jf(l,n,0)});n.asyncDep=s}else cx(n,s,e)}else O3(n,e)}function cx(n,e,t){Ie(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:_t(e)&&(n.setupState=WS(e)),O3(n,t)}let ux;function O3(n,e,t){const r=n.type;if(!n.render){if(!e&&ux&&!r.render){const o=r.template||ev(n).template;if(o){const{isCustomElement:i,compilerOptions:s}=n.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ut(Ut({isCustomElement:i,delimiters:a},s),l);r.render=ux(o,c)}}n.render=r.render||fo}{const o=$u(n);Wi();try{DB(n)}finally{Ki(),o()}}}const bO={get(n,e){return vn(n,"get",""),n[e]}};function vO(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,bO),slots:n.slots,emit:n.emit,expose:e}}function Zf(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(WS(Hf(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in sc)return sc[t](n)},has(e,t){return t in e||t in sc}})):n.proxy}function yO(n,e=!0){return Ie(n)?n.displayName||n.name:n.name||e&&n.__name}function _O(n){return Ie(n)&&"__vccOpts"in n}const qr=(n,e)=>hB(n,e,Ec);function xO(n,e,t){const r=arguments.length;return r===2?_t(e)&&!Se(e)?kc(e)?W(n,null,[e]):W(n,e):W(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&kc(t)&&(t=[t]),W(n,e,t))}const wO="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lg;const dx=typeof window<"u"&&window.trustedTypes;if(dx)try{Lg=dx.createPolicy("vue",{createHTML:n=>n})}catch{}const D3=Lg?n=>Lg.createHTML(n):n=>n,CO="http://www.w3.org/2000/svg",SO="http://www.w3.org/1998/Math/MathML",$o=typeof document<"u"?document:null,hx=$o&&$o.createElement("template"),TO={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e==="svg"?$o.createElementNS(CO,n):e==="mathml"?$o.createElementNS(SO,n):t?$o.createElement(n,{is:t}):$o.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>$o.createTextNode(n),createComment:n=>$o.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>$o.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{hx.innerHTML=D3(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=hx.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},fi="transition",Al="animation",Fa=Symbol("_vtc"),M3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F3=Ut({},r3,M3),kO=n=>(n.displayName="Transition",n.props=F3,n),ol=kO((n,{slots:e})=>xO(CB,L3(n),e)),rs=(n,e=[])=>{Se(n)?n.forEach(t=>t(...e)):n&&n(...e)},fx=n=>n?Se(n)?n.some(e=>e.length>1):n.length>1:!1;function L3(n){const e={};for(const I in n)I in M3||(e[I]=n[I]);if(n.css===!1)return e;const{name:t="v",type:r,duration:o,enterFromClass:i=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,p=EO(o),m=p&&p[0],g=p&&p[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:v,onLeave:y,onLeaveCancelled:w,onBeforeAppear:S=b,onAppear:C=_,onAppearCancelled:k=v}=e,E=(I,$,V)=>{vi(I,$?u:a),vi(I,$?c:s),V&&V()},A=(I,$)=>{I._isLeaving=!1,vi(I,d),vi(I,f),vi(I,h),$&&$()},P=I=>($,V)=>{const ee=I?C:_,F=()=>E($,I,V);rs(ee,[$,F]),px(()=>{vi($,I?l:i),No($,I?u:a),fx(ee)||mx($,r,m,F)})};return Ut(e,{onBeforeEnter(I){rs(b,[I]),No(I,i),No(I,s)},onBeforeAppear(I){rs(S,[I]),No(I,l),No(I,c)},onEnter:P(!1),onAppear:P(!0),onLeave(I,$){I._isLeaving=!0;const V=()=>A(I,$);No(I,d),No(I,h),$3(),px(()=>{I._isLeaving&&(vi(I,d),No(I,f),fx(y)||mx(I,r,g,V))}),rs(y,[I,V])},onEnterCancelled(I){E(I,!1),rs(v,[I])},onAppearCancelled(I){E(I,!0),rs(k,[I])},onLeaveCancelled(I){A(I),rs(w,[I])}})}function EO(n){if(n==null)return null;if(_t(n))return[Cm(n.enter),Cm(n.leave)];{const e=Cm(n);return[e,e]}}function Cm(n){return BR(n)}function No(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Fa]||(n[Fa]=new Set)).add(e)}function vi(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[Fa];t&&(t.delete(e),t.size||(n[Fa]=void 0))}function px(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let AO=0;function mx(n,e,t,r){const o=n._endId=++AO,i=()=>{o===n._endId&&r()};if(t!=null)return setTimeout(i,t);const{type:s,timeout:a,propCount:l}=N3(n,e);if(!s)return r();const c=s+"end";let u=0;const d=()=>{n.removeEventListener(c,h),i()},h=f=>{f.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,h)}function N3(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),o=r(`${fi}Delay`),i=r(`${fi}Duration`),s=gx(o,i),a=r(`${Al}Delay`),l=r(`${Al}Duration`),c=gx(a,l);let u=null,d=0,h=0;e===fi?s>0&&(u=fi,d=s,h=i.length):e===Al?c>0&&(u=Al,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?fi:Al:null,h=u?u===fi?i.length:l.length:0);const f=u===fi&&/\b(transform|all)(,|$)/.test(r(`${fi}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function gx(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>bx(t)+bx(n[r])))}function bx(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function $3(){return document.body.offsetHeight}function PO(n,e,t){const r=n[Fa];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Gh=Symbol("_vod"),U3=Symbol("_vsh"),G3={beforeMount(n,{value:e},{transition:t}){n[Gh]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Pl(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),Pl(n,!0),r.enter(n)):r.leave(n,()=>{Pl(n,!1)}):Pl(n,e))},beforeUnmount(n,{value:e}){Pl(n,e)}};function Pl(n,e){n.style.display=e?n[Gh]:"none",n[U3]=!e}const V3=Symbol("");function IO(n){const e=Yf();if(!e)return;const t=e.ut=(o=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Vh(i,o))},r=()=>{const o=n(e.proxy);e.ce?Vh(e.ce,o):Ng(e.subTree,o),t(o)};c3(()=>{tO(r)}),Nu(()=>{const o=new MutationObserver(r);o.observe(e.subTree.el.parentNode,{childList:!0}),Z0(()=>o.disconnect())})}function Ng(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{Ng(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Vh(n.el,e);else if(n.type===oe)n.children.forEach(t=>Ng(t,e));else if(n.type===gh){let{el:t,anchor:r}=n;for(;t&&(Vh(t,e),t!==r);)t=t.nextSibling}}function Vh(n,e){if(n.nodeType===1){const t=n.style;let r="";for(const o in e)t.setProperty(`--${o}`,e[o]),r+=`--${o}: ${e[o]};`;t[V3]=r}}const RO=/(^|;)\s*display\s*:/;function BO(n,e,t){const r=n.style,o=Tt(t);let i=!1;if(t&&!o){if(e)if(Tt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&vh(r,a,"")}else for(const s in e)t[s]==null&&vh(r,s,"");for(const s in t)s==="display"&&(i=!0),vh(r,s,t[s])}else if(o){if(e!==t){const s=r[V3];s&&(t+=";"+s),r.cssText=t,i=RO.test(t)}}else e&&n.removeAttribute("style");Gh in n&&(n[Gh]=i?r.display:"",n[U3]&&(r.display="none"))}const vx=/\s*!important$/;function vh(n,e,t){if(Se(t))t.forEach(r=>vh(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=OO(n,e);vx.test(t)?n.setProperty(ji(r),t.replace(vx,""),"important"):n[r]=t}}const yx=["Webkit","Moz","ms"],Sm={};function OO(n,e){const t=Sm[e];if(t)return t;let r=Ir(e);if(r!=="filter"&&r in n)return Sm[e]=r;r=Gf(r);for(let o=0;o<yx.length;o++){const i=yx[o]+r;if(i in n)return Sm[e]=i}return e}const _x="http://www.w3.org/1999/xlink";function xx(n,e,t,r,o,i=NR(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(_x,e.slice(6,e.length)):n.setAttributeNS(_x,e,t):t==null||i&&!kS(t)?n.removeAttribute(e):n.setAttribute(e,i?"":oi(t)?String(t):t)}function wx(n,e,t,r,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?D3(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let s=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=kS(t):t==null&&a==="string"?(t="",s=!0):a==="number"&&(t=0,s=!0)}try{n[e]=t}catch{}s&&n.removeAttribute(o||e)}function DO(n,e,t,r){n.addEventListener(e,t,r)}function MO(n,e,t,r){n.removeEventListener(e,t,r)}const Cx=Symbol("_vei");function FO(n,e,t,r,o=null){const i=n[Cx]||(n[Cx]={}),s=i[e];if(r&&s)s.value=r;else{const[a,l]=LO(e);if(r){const c=i[e]=UO(r,o);DO(n,a,c,l)}else s&&(MO(n,a,s,l),i[e]=void 0)}}const Sx=/(?:Once|Passive|Capture)$/;function LO(n){let e;if(Sx.test(n)){e={};let r;for(;r=n.match(Sx);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ji(n.slice(2)),e]}let Tm=0;const NO=Promise.resolve(),$O=()=>Tm||(NO.then(()=>Tm=0),Tm=Date.now());function UO(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;jr(GO(r,t.value),e,5,[r])};return t.value=n,t.attached=$O(),t}function GO(n,e){if(Se(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const Tx=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,VO=(n,e,t,r,o,i)=>{const s=o==="svg";e==="class"?PO(n,r,s):e==="style"?BO(n,t,r):Nf(e)?L0(e)||FO(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zO(n,e,r,s))?(wx(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&xx(n,e,r,s,i,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Tt(r))?wx(n,Ir(e),r,i,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),xx(n,e,r,s))};function zO(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&Tx(e)&&Ie(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Tx(e)&&Tt(t)?!1:e in n}const z3=new WeakMap,H3=new WeakMap,zh=Symbol("_moveCb"),kx=Symbol("_enterCb"),HO=n=>(delete n.props.mode,n),jO=HO({name:"TransitionGroup",props:Ut({},F3,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Yf(),r=n3();let o,i;return u3(()=>{if(!o.length)return;const s=n.moveClass||`${n.name||"v"}-move`;if(!YO(o[0].el,t.vnode.el,s))return;o.forEach(KO),o.forEach(XO);const a=o.filter(qO);$3(),a.forEach(l=>{const c=l.el,u=c.style;No(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[zh]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[zh]=null,vi(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=ve(n),a=L3(s);let l=s.tag||oe;if(o=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(o.push(u),Cs(u,Sc(u,a,r,t)),z3.set(u,u.el.getBoundingClientRect()))}i=e.default?Y0(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&Cs(u,Sc(u,a,r,t))}return W(l,null,i)}}}),WO=jO;function KO(n){const e=n.el;e[zh]&&e[zh](),e[kx]&&e[kx]()}function XO(n){H3.set(n,n.el.getBoundingClientRect())}function qO(n){const e=z3.get(n),t=H3.get(n),r=e.left-t.left,o=e.top-t.top;if(r||o){const i=n.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",n}}function YO(n,e,t){const r=n.cloneNode(),o=n[Fa];o&&o.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=N3(r);return i.removeChild(r),s}const ZO=["ctrl","shift","alt","meta"],JO={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>ZO.some(t=>n[`${t}Key`]&&!e.includes(t))},j3=(n,e)=>{const t=n._withMods||(n._withMods={}),r=e.join(".");return t[r]||(t[r]=(o,...i)=>{for(let s=0;s<e.length;s++){const a=JO[e[s]];if(a&&a(o,e))return}return n(o,...i)})},QO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},km=(n,e)=>{const t=n._withKeys||(n._withKeys={}),r=e.join(".");return t[r]||(t[r]=o=>{if(!("key"in o))return;const i=ji(o.key);if(e.some(s=>s===i||QO[s]===i))return n(o)})},eD=Ut({patchProp:VO},TO);let Ex;function tD(){return Ex||(Ex=qB(eD))}const nD=(...n)=>{const e=tD().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=oD(r);if(!o)return;const i=e._component;!Ie(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=t(o,!1,rD(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function rD(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function oD(n){return Tt(n)?document.querySelector(n):n}function Uu(){const n=new Map;return{on(e,t){let r=n.get(e);return r?r.push(t):r=[t],n.set(e,r),this},off(e,t){let r=n.get(e);return r&&r.splice(r.indexOf(t)>>>0,1),this},emit(e,t){let r=n.get(e);r&&r.slice().map(o=>{o(t)})},clear(){n.clear()}}}var xr=Uu(),iD=Symbol(),sD={install:function(e){var t={add:function(o){xr.emit("add",o)},remove:function(o){xr.emit("remove",o)},removeGroup:function(o){xr.emit("remove-group",o)},removeAllGroups:function(){xr.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(iD,t)}},aD=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let W3;const Jf=n=>W3=n,K3=Symbol();function $g(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var lc;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(lc||(lc={}));function lD(){const n=IS(!0),e=n.run(()=>vt({}));let t=[],r=[];const o=Hf({install(i){Jf(o),o._a=i,i.provide(K3,o),i.config.globalProperties.$pinia=o,r.forEach(s=>t.push(s)),r=[]},use(i){return!this._a&&!aD?r.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return o}const X3=()=>{};function Ax(n,e,t,r=X3){n.push(e);const o=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),r())};return!t&&RS()&&$R(o),o}function js(n,...e){n.slice().forEach(t=>{t(...e)})}const cD=n=>n(),Px=Symbol(),Em=Symbol();function Ug(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,r)=>n.set(r,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],o=n[t];$g(o)&&$g(r)&&n.hasOwnProperty(t)&&!St(r)&&!Mi(r)?n[t]=Ug(o,r):n[t]=r}return n}const uD=Symbol();function dD(n){return!$g(n)||!n.hasOwnProperty(uD)}const{assign:yi}=Object;function hD(n){return!!(St(n)&&n.effect)}function fD(n,e,t,r){const{state:o,actions:i,getters:s}=e,a=t.state.value[n];let l;function c(){a||(t.state.value[n]=o?o():{});const u=KS(t.state.value[n]);return yi(u,i,Object.keys(s||{}).reduce((d,h)=>(d[h]=Hf(qr(()=>{Jf(t);const f=t._s.get(n);return s[h].call(f,f)})),d),{}))}return l=q3(n,c,e,t,r,!0),l}function q3(n,e,t={},r,o,i){let s;const a=yi({actions:{}},t),l={deep:!0};let c,u,d=[],h=[],f;const p=r.state.value[n];!i&&!p&&(r.state.value[n]={}),vt({});let m;function g(k){let E;c=u=!1,typeof k=="function"?(k(r.state.value[n]),E={type:lc.patchFunction,storeId:n,events:f}):(Ug(r.state.value[n],k),E={type:lc.patchObject,payload:k,storeId:n,events:f});const A=m=Symbol();X0().then(()=>{m===A&&(c=!0)}),u=!0,js(d,E,r.state.value[n])}const b=i?function(){const{state:E}=t,A=E?E():{};this.$patch(P=>{yi(P,A)})}:X3;function _(){s.stop(),d=[],h=[],r._s.delete(n)}const v=(k,E="")=>{if(Px in k)return k[Em]=E,k;const A=function(){Jf(r);const P=Array.from(arguments),I=[],$=[];function V(L){I.push(L)}function ee(L){$.push(L)}js(h,{args:P,name:A[Em],store:w,after:V,onError:ee});let F;try{F=k.apply(this&&this.$id===n?this:w,P)}catch(L){throw js($,L),L}return F instanceof Promise?F.then(L=>(js(I,L),L)).catch(L=>(js($,L),Promise.reject(L))):(js(I,F),F)};return A[Px]=!0,A[Em]=E,A},y={_p:r,$id:n,$onAction:Ax.bind(null,h),$patch:g,$reset:b,$subscribe(k,E={}){const A=Ax(d,k,E.detached,()=>P()),P=s.run(()=>lr(()=>r.state.value[n],I=>{(E.flush==="sync"?u:c)&&k({storeId:n,type:lc.direct,events:f},I)},yi({},l,E)));return A},$dispose:_},w=Fu(y);r._s.set(n,w);const C=(r._a&&r._a.runWithContext||cD)(()=>r._e.run(()=>(s=IS()).run(()=>e({action:v}))));for(const k in C){const E=C[k];if(St(E)&&!hD(E)||Mi(E))i||(p&&dD(E)&&(St(E)?E.value=p[k]:Ug(E,p[k])),r.state.value[n][k]=E);else if(typeof E=="function"){const A=v(E,k);C[k]=A,a.actions[k]=E}}return yi(w,C),yi(ve(w),C),Object.defineProperty(w,"$state",{get:()=>r.state.value[n],set:k=>{g(E=>{yi(E,k)})}}),r._p.forEach(k=>{yi(w,s.run(()=>k({store:w,app:r._a,pinia:r,options:a})))}),p&&i&&t.hydrate&&t.hydrate(w.$state,p),c=!0,u=!0,w}/*! #__NO_SIDE_EFFECTS__ */function Y3(n,e,t){let r,o;const i=typeof e=="function";typeof n=="string"?(r=n,o=i?t:e):(o=n,r=n.id);function s(a,l){const c=VB();return a=a||(c?Ca(K3,null):null),a&&Jf(a),a=W3,a._s.has(r)||(i?q3(r,e,o,a):fD(r,o,a)),a._s.get(r)}return s.$id=r,s}const Ix=[{name:"C",index:0},{name:"C#",index:1},{name:"D",index:2},{name:"D#",index:3},{name:"E",index:4},{name:"F",index:5},{name:"F#",index:6},{name:"G",index:7},{name:"G#",index:8},{name:"A",index:9},{name:"A#",index:10},{name:"B",index:11}];var Z3=(n=>(n.HammerOn="h",n.PullOff="p",n.SlideUp="S",n.SlideDown="s",n.Bend="b",n.Harmonic="^",n.PalmMute="x",n.Vibrato="v",n.Tie="=",n))(Z3||{});const Mr=class Mr{constructor(e,t,r=[],o=NaN,i=NaN){ne(this,"_element");ne(this,"fretNumber");ne(this,"techniques");ne(this,"active",!1);ne(this,"rightHandFinger",NaN);ne(this,"leftHandFinger",NaN);ne(this,"score",()=>this.track().score());ne(this,"track",()=>this.bar().track());ne(this,"bar",()=>this.voice().bar());ne(this,"voice",()=>this.element().voice());ne(this,"element",()=>this._element);ne(this,"next",()=>this.element()._notes[Math.min(this.index()+1,this.element()._notes.length-1)]);ne(this,"prev",()=>this.element()._notes[Math.max(this.index()-1,0)]);ne(this,"first",()=>this.element()._notes[0]);ne(this,"last",()=>this.element()._notes[this.element()._notes.length-1]);ne(this,"isRest",()=>isNaN(this.fretNumber));ne(this,"pitch",()=>{const t=this.track().instrument.tuning[this.index()],r=Mr.toNoteIndex(t)+this.fretNumber;return Mr.toNoteName(r)});ne(this,"debug",(e="note")=>{console.log(e,{index:this.index(),note:{fretNumber:this.fretNumber,tailCount:this._element.tailCount(),tailTypeName:this._element.tailTypeName(),location:this._element.location(),duration:this._element.beatDuration()},element:this._element.index()+"/"+this.voice()._elements.length,voice:this.voice().index()+"/"+this.bar()._voices.length,bar:this.bar().index()+"/"+this.track()._bars.length,track:this.track().index()+"/"+this.score()._tracks.length})});ne(this,"index",()=>this._element._notes.indexOf(ve(this)));ne(this,"move",e=>{let t=this.index(),r=this._element.index();const o=Math.max(this.voice().index(),0);let i=this.bar().index();switch(e){case"ArrowUp":return t=Math.max(t-1,0),this._element._notes[t];case"ArrowDown":return t=Math.min(t+1,this._element._notes.length-1),this._element._notes[t];case"ArrowRight":if(r==this.voice()._elements.length-1)if(this.voice().isComplete()){if(i==this.track()._bars.length-1)return this.track().addBar()._voices[o]._elements[0]._notes[t];{const s=this.track()._bars[i+1]._voices[o]._elements[0];debugger;return s.duration=this._element.duration.clone(),s._notes[t]}}else{const s=this.voice().addElement();debugger;return s.duration=this._element.duration.clone(),s._notes[t]}else return this.voice()._elements[r+1]._notes[t];case"ArrowLeft":if(r==0){if(i==0)return this;{i-=1;const s=this.track()._bars[i];s._voices[o].empty()&&s._voices[o].addElement();const a=s._voices[o]._elements.length-1,l=s._voices[o]._elements[a];console.log("nextElement",l,t);const c=l._notes[t];return console.log("bar",c.bar().index()),console.log("voice",c.voice().index()),console.log("element",c._element.index()),console.log("note",c.index()),console.log("nextNote",c),c}}else return r=Math.max(r-1,0),this.voice()._elements[r]._notes[t]}});this._element=e,this.fretNumber=t,this.techniques=r,this.leftHandFinger=o!==null?NaN:o,this.rightHandFinger=i!==null?NaN:i}leftHand(){switch(this.leftHandFinger){case 0:return"T";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";default:return""}}toggleTechnique(e){this.techniques.includes(e)?(console.log("removing",e),this.techniques=this.techniques.filter(t=>t!==e)):(console.log("adding",e),this.techniques.push(e))}rightHand(){switch(this.rightHandFinger){case 0:return"p";case 1:return"i";case 2:return"m";case 3:return"a";case 4:return"c";default:return""}}toJSON(){return Object.assign({fretNumber:this.fretNumber,techniques:this.techniques},isNaN(this.leftHandFinger)?{}:{leftHandFinger:this.leftHandFinger},isNaN(this.rightHandFinger)?{}:{rightHandFinger:this.rightHandFinger})}static fromJSON(e,t){return new Mr(e,t.fretNumber??NaN,t.techniques,t.leftHandFinger,t.rightHandFinger)}};ne(Mr,"toKeyIndex",e=>{var t;return((t=Ix.find(r=>r.name===e))==null?void 0:t.index)??-1}),ne(Mr,"toKeyName",e=>{var t;return((t=Ix.find(r=>r.index===e))==null?void 0:t.name)??"z0"}),ne(Mr,"toNoteIndex",e=>{const t=Number(e.slice(-1));return Mr.toKeyIndex(e.slice(0,-1))+12*t}),ne(Mr,"toNoteName",e=>{const t=Math.floor(e/12),r=e%12;return Mr.toKeyName(r)+t});let Hh=Mr;const J3="15.0.4",Rx=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),Bx=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Gg=(n,e)=>({startTime:e,type:"setValue",value:n}),Q3=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),eT=(n,e,{startTime:t,target:r,timeConstant:o})=>r+(e-r)*Math.exp((t-n)/o),ua=n=>n.type==="exponentialRampToValue",jh=n=>n.type==="linearRampToValue",Si=n=>ua(n)||jh(n),iv=n=>n.type==="setValue",Uo=n=>n.type==="setValueCurve",Wh=(n,e,t,r)=>{const o=n[e];return o===void 0?r:Si(o)||iv(o)?o.value:Uo(o)?o.values[o.values.length-1]:eT(t,Wh(n,e-1,o.startTime,r),o)},Ox=(n,e,t,r,o)=>t===void 0?[r.insertTime,o]:Si(t)?[t.endTime,t.value]:iv(t)?[t.startTime,t.value]:Uo(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Wh(n,e-1,t.startTime,o)],Vg=n=>n.type==="cancelAndHold",zg=n=>n.type==="cancelScheduledValues",pi=n=>Vg(n)||zg(n)?n.cancelTime:ua(n)||jh(n)?n.endTime:n.startTime,Dx=(n,e,t,{endTime:r,value:o})=>t===o?o:0<t&&0<o||t<0&&o<0?t*(o/t)**((n-e)/(r-e)):0,Mx=(n,e,t,{endTime:r,value:o})=>t+(n-e)/(r-e)*(o-t),pD=(n,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?n[t]:(1-(e-t))*n[t]+(1-(r-e))*n[r]},mD=(n,{duration:e,startTime:t,values:r})=>{const o=(n-t)/e*(r.length-1);return pD(r,o)},Pd=n=>n.type==="setTarget";class gD{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=pi(e);if(Vg(e)||zg(e)){const r=this._automationEvents.findIndex(i=>zg(e)&&Uo(i)?i.startTime+i.duration>=t:pi(i)>=t),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Vg(e)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Si(o)){if(i!==void 0&&Pd(i))throw new Error("The internal list is malformed.");const s=i===void 0?o.insertTime:Uo(i)?i.startTime+i.duration:pi(i),a=i===void 0?this._defaultValue:Uo(i)?i.values[i.values.length-1]:i.value,l=ua(o)?Dx(t,s,a,o):Mx(t,s,a,o),c=ua(o)?Rx(l,t,this._currenTime):Bx(l,t,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&Pd(i)&&this._automationEvents.push(Gg(this.getValue(t),t)),i!==void 0&&Uo(i)&&i.startTime+i.duration>t){const s=t-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(s*a)),c=s/(l-1)*a,u=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const h=c*d%1;u[d]=i.values[d-1]*(1-h)+i.values[d]*h}this._automationEvents[this._automationEvents.length-1]=Q3(u,i.startTime,s)}}}else{const r=this._automationEvents.findIndex(s=>pi(s)>t),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Uo(o)&&pi(o)+o.duration>t)return!1;const i=ua(e)?Rx(e.value,e.endTime,this._currenTime):jh(e)?Bx(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(Uo(e)&&t+e.duration>pi(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>pi(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),o=r[0];Pd(o)&&r.unshift(Gg(Wh(this._automationEvents,t-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(s=>pi(s)>e),r=this._automationEvents[t],o=(t===-1?this._automationEvents.length:t)-1,i=this._automationEvents[o];if(i!==void 0&&Pd(i)&&(r===void 0||!Si(r)||r.insertTime>e))return eT(e,Wh(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&iv(i)&&(r===void 0||!Si(r)))return i.value;if(i!==void 0&&Uo(i)&&(r===void 0||!Si(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?mD(e,i):i.values[i.values.length-1];if(i!==void 0&&Si(i)&&(r===void 0||!Si(r)))return i.value;if(r!==void 0&&ua(r)){const[s,a]=Ox(this._automationEvents,o,i,r,this._defaultValue);return Dx(e,s,a,r)}if(r!==void 0&&jh(r)){const[s,a]=Ox(this._automationEvents,o,i,r,this._defaultValue);return Mx(e,s,a,r)}return this._defaultValue}}const bD=n=>({cancelTime:n,type:"cancelAndHold"}),vD=n=>({cancelTime:n,type:"cancelScheduledValues"}),yD=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),_D=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),xD=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),wD=()=>new DOMException("","AbortError"),CD=n=>(e,t,[r,o,i],s)=>{n(e[o],[t,r,i],a=>a[0]===t&&a[1]===r,s)},SD=n=>(e,t,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);n.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},TD=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},La=new WeakSet,tT=new WeakMap,sv=new WeakMap,nT=new WeakMap,av=new WeakMap,Qf=new WeakMap,rT=new WeakMap,Hg=new WeakMap,jg=new WeakMap,Wg=new WeakMap,oT={construct(){return oT}},kD=n=>{try{const e=new Proxy(n,oT);new e}catch{return!1}return!0},Fx=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Lx=(n,e)=>{const t=[];let r=n.replace(/^[\s]+/,""),o=r.match(Fx);for(;o!==null;){const i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());t.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Fx)}return[t.join(";"),r]},Nx=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},$x=n=>{if(!kD(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},ED=(n,e,t,r,o,i,s,a,l,c,u,d,h)=>{let f=0;return(p,m,g={credentials:"omit"})=>{const b=u.get(p);if(b!==void 0&&b.has(m))return Promise.resolve();const _=c.get(p);if(_!==void 0){const w=_.get(m);if(w!==void 0)return w}const v=i(p),y=v.audioWorklet===void 0?o(m).then(([w,S])=>{const[C,k]=Lx(w,S),E=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return t(E)}).then(()=>{const w=h._AWGS.pop();if(w===void 0)throw new SyntaxError;r(v.currentTime,v.sampleRate,()=>w(class{},void 0,(S,C)=>{if(S.trim()==="")throw e();const k=jg.get(v);if(k!==void 0){if(k.has(S))throw e();$x(C),Nx(C.parameterDescriptors),k.set(S,C)}else $x(C),Nx(C.parameterDescriptors),jg.set(v,new Map([[S,C]]))},v.sampleRate,void 0,void 0))}):Promise.all([o(m),Promise.resolve(n(d,d))]).then(([[w,S],C])=>{const k=f+1;f=k;const[E,A]=Lx(w,S),V=`${E};((AudioWorkletProcessor,registerProcessor)=>{${A}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,ee=new Blob([V],{type:"application/javascript; charset=utf-8"}),F=URL.createObjectURL(ee);return v.audioWorklet.addModule(F,g).then(()=>{if(a(v))return v;const L=s(v);return L.audioWorklet.addModule(F,g).then(()=>L)}).then(L=>{if(l===null)throw new SyntaxError;try{new l(L,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(F))});return _===void 0?c.set(p,new Map([[m,y]])):_.set(m,y),y.then(()=>{const w=u.get(p);w===void 0?u.set(p,new Set([m])):w.add(m)}).finally(()=>{const w=c.get(p);w!==void 0&&w.delete(m)}),y}},Wr=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},ep=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return n.delete(r),r},iT=(n,e,t,r)=>{const o=Wr(n,e),i=ep(o,s=>s[0]===t&&s[1]===r);return o.size===0&&n.delete(e),i},Gu=n=>Wr(rT,n),Na=n=>{if(La.has(n))throw new Error("The AudioNode is already stored.");La.add(n),Gu(n).forEach(e=>e(!0))},sT=n=>"port"in n,Vu=n=>{if(!La.has(n))throw new Error("The AudioNode is not stored.");La.delete(n),Gu(n).forEach(e=>e(!1))},Kg=(n,e)=>{!sT(n)&&e.every(t=>t.size===0)&&Vu(n)},AD=(n,e,t,r,o,i,s,a,l,c,u,d,h)=>{const f=new WeakMap;return(p,m,g,b,_)=>{const{activeInputs:v,passiveInputs:y}=i(m),{outputs:w}=i(p),S=a(p),C=k=>{const E=l(m),A=l(p);if(k){const P=iT(y,p,g,b);n(v,p,P,!1),!_&&!d(p)&&t(A,E,g,b),h(m)&&Na(m)}else{const P=r(v,p,g,b);e(y,b,P,!1),!_&&!d(p)&&o(A,E,g,b);const I=s(m);if(I===0)u(m)&&Kg(m,v);else{const $=f.get(m);$!==void 0&&clearTimeout($),f.set(m,setTimeout(()=>{u(m)&&Kg(m,v)},I*1e3))}}};return c(w,[m,g,b],k=>k[0]===m&&k[1]===g&&k[2]===b,!0)?(S.add(C),u(p)?n(v,p,[g,b,C],!0):e(y,b,[p,g,C],!0),!0):!1}},PD=n=>(e,t,[r,o,i],s)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[o,t,i]])):n(a,[o,t,i],l=>l[0]===o&&l[1]===t,s)},ID=n=>(e,t)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const o=()=>{t.removeEventListener("ended",o),t.disconnect(r),r.disconnect()};t.addEventListener("ended",o)},RD=n=>(e,t)=>{n(e).add(t)},BD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},OD=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=o(a),u={...BD,...l},d=r(c,u),h=i(c)?e():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Sn=(n,e)=>n.context===e,DD=(n,e,t)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Sn(a,s)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=n(s,c)}return r.set(s,a),await t(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},Kh=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},To=()=>new DOMException("","IndexSizeError"),lv=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(r){throw r.code===12?To():r}})(n.getChannelData)},MD={numberOfChannels:1},FD=(n,e,t,r,o,i,s,a)=>{let l=null;return class aT{constructor(u){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:h,sampleRate:f}={...MD,...u};l===null&&(l=new o(1,1,44100));const p=r!==null&&e(i,i)?new r({length:d,numberOfChannels:h,sampleRate:f}):l.createBuffer(h,d,f);if(p.numberOfChannels===0)throw t();return typeof p.copyFromChannel!="function"?(s(p),lv(p)):e(Kh,()=>Kh(p))||a(p),n.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===aT.prototype||n.has(u)}}},Gn=-34028234663852886e22,In=-Gn,Ko=n=>La.has(n),LD={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ND=(n,e,t,r,o,i,s,a)=>class extends n{constructor(c,u){const d=i(c),h={...LD,...u},f=o(d,h),p=s(d),m=p?e():null;super(c,!1,f,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=t(this,p,f.playbackRate,In,Gn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?c:d}get playbackRate(){return this._playbackRate}start(c=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(c,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,u]:[c,u,d]),this.context.state!=="closed"){Na(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Ko(this)&&Vu(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},$D=(n,e,t,r,o)=>()=>{const i=new WeakMap;let s=null,a=null;const l=async(c,u)=>{let d=t(c);const h=Sn(d,u);if(!h){const f={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,f),s!==null&&d.start(...s),a!==null&&d.stop(a)}return i.set(u,d),h?await n(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await o(c,u,d),d};return{set start(c){s=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},UD=n=>"playbackRate"in n,GD=n=>"frequency"in n&&"gain"in n,VD=n=>"offset"in n,zD=n=>!("frequency"in n)&&"gain"in n,HD=n=>"detune"in n&&"frequency"in n&&!("gain"in n),jD=n=>"pan"in n,Dn=n=>Wr(tT,n),zu=n=>Wr(nT,n),Xg=(n,e)=>{const{activeInputs:t}=Dn(n);t.forEach(o=>o.forEach(([i])=>{e.includes(n)||Xg(i,[...e,n])}));const r=UD(n)?[n.playbackRate]:sT(n)?Array.from(n.parameters.values()):GD(n)?[n.Q,n.detune,n.frequency,n.gain]:VD(n)?[n.offset]:zD(n)?[n.gain]:HD(n)?[n.detune,n.frequency]:jD(n)?[n.pan]:[];for(const o of r){const i=zu(o);i!==void 0&&i.activeInputs.forEach(([s])=>Xg(s,e))}Ko(n)&&Vu(n)},lT=n=>{Xg(n.destination,[])},WD=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),KD=(n,e,t,r,o,i,s,a,l)=>class extends n{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?t():p}if(d===null)throw r();if(!WD(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw t();super(d,2);const{latencyHint:h}=u,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/f:h==="interactive"||h===void 0?256/f:h==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(h*f/128)))*128/f,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),lT(this)}))}createMediaElementSource(u){return new o(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new s(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},XD=(n,e,t,r,o,i,s,a)=>class extends n{constructor(c,u){const d=i(c),h=s(d),f=o(d,u,h),p=h?e(a):null;super(c,!1,f,p),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},qD=n=>{const e=new WeakMap,t=async(r,o)=>{const i=o.destination;return e.set(o,i),await n(r,o,i),i};return{render(r,o){const i=e.get(o);return i!==void 0?Promise.resolve(i):t(r,o)}}},YD=(n,e,t,r,o,i,s,a)=>(l,c)=>{const u=c.listener,d=()=>{const w=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=s(c);let k=!1,E=[0,0,-1,0,1,0],A=[0,0,0];const P=()=>{if(k)return;k=!0;const ee=r(c,256,9,0);ee.onaudioprocess=({inputBuffer:F})=>{const L=[i(F,w,0),i(F,w,1),i(F,w,2),i(F,w,3),i(F,w,4),i(F,w,5)];L.some((te,ue)=>te!==E[ue])&&(u.setOrientation(...L),E=L);const ie=[i(F,w,6),i(F,w,7),i(F,w,8)];ie.some((te,ue)=>te!==A[ue])&&(u.setPosition(...ie),A=ie)},S.connect(ee)},I=ee=>F=>{F!==E[ee]&&(E[ee]=F,u.setOrientation(...E))},$=ee=>F=>{F!==A[ee]&&(A[ee]=F,u.setPosition(...A))},V=(ee,F,L)=>{const ie=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F});ie.connect(S,0,ee),ie.start(),Object.defineProperty(ie.offset,"defaultValue",{get(){return F}});const te=n({context:l},C,ie.offset,In,Gn);return a(te,"value",ue=>()=>ue.call(te),ue=>le=>{try{ue.call(te,le)}catch(xe){if(xe.code!==9)throw xe}P(),C&&L(le)}),te.cancelAndHoldAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.cancelAndHoldAtTime),te.cancelScheduledValues=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.cancelScheduledValues),te.exponentialRampToValueAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.exponentialRampToValueAtTime),te.linearRampToValueAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.linearRampToValueAtTime),te.setTargetAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.setTargetAtTime),te.setValueAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.setValueAtTime),te.setValueCurveAtTime=(ue=>C?()=>{throw o()}:(...le)=>{const xe=ue.apply(te,le);return P(),xe})(te.setValueCurveAtTime),te};return{forwardX:V(0,0,I(0)),forwardY:V(1,0,I(1)),forwardZ:V(2,-1,I(2)),positionX:V(6,0,$(0)),positionY:V(7,0,$(1)),positionZ:V(8,0,$(2)),upX:V(3,0,I(3)),upY:V(4,1,I(4)),upZ:V(5,0,I(5))}},{forwardX:h,forwardY:f,forwardZ:p,positionX:m,positionY:g,positionZ:b,upX:_,upY:v,upZ:y}=u.forwardX===void 0?d():u;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return m},get positionY(){return g},get positionZ(){return b},get upX(){return _},get upY(){return v},get upZ(){return y}}},Xh=n=>"context"in n,Hu=n=>Xh(n[0]),Ms=(n,e,t,r)=>{for(const o of n)if(t(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Ux=(n,e,[t,r],o)=>{Ms(n,[e,t,r],i=>i[0]===e&&i[1]===t,o)},Gx=(n,[e,t,r],o)=>{const i=n.get(e);i===void 0?n.set(e,new Set([[t,r]])):Ms(i,[t,r],s=>s[0]===t,o)},il=n=>"inputs"in n,qh=(n,e,t,r)=>{if(il(e)){const o=e.inputs[r];return n.connect(o,t,0),[o,t,0]}return n.connect(e,t,r),[e,t,r]},cT=(n,e,t)=>{for(const r of n)if(r[0]===e&&r[1]===t)return n.delete(r),r;return null},ZD=(n,e,t)=>ep(n,r=>r[0]===e&&r[1]===t),uT=(n,e)=>{if(!Gu(n).delete(e))throw new Error("Missing the expected event listener.")},dT=(n,e,t)=>{const r=Wr(n,e),o=ep(r,i=>i[0]===t);return r.size===0&&n.delete(e),o},Yh=(n,e,t,r)=>{il(e)?n.disconnect(e.inputs[r],t,0):n.disconnect(e,t,r)},yt=n=>Wr(sv,n),Ac=n=>Wr(av,n),Ss=n=>Hg.has(n),yh=n=>!La.has(n),Vx=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=n.createScriptProcessor(256,1,1),o=n.createGain(),i=n.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const a=n.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(n.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?t(!0):t(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(n.destination)},a.start()}}),Am=(n,e)=>{const t=new Map;for(const r of n)for(const o of r){const i=t.get(o);t.set(o,i===void 0?1:i+1)}t.forEach((r,o)=>e(o,r))},Zh=n=>"context"in n,JD=n=>{const e=new Map;n.connect=(t=>(r,o=0,i=0)=>{const s=Zh(r)?t(r,o,i):t(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:o}]):a.every(l=>l.input!==i||l.output!==o)&&a.push({input:i,output:o}),s})(n.connect.bind(n)),n.disconnect=(t=>(r,o,i)=>{if(t.apply(n),r===void 0)e.clear();else if(typeof r=="number")for(const[s,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(s):e.set(s,l)}else if(e.has(r))if(o===void 0)e.delete(r);else{const s=e.get(r);if(s!==void 0){const a=s.filter(l=>l.output!==o&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[s,a]of e)a.forEach(l=>{Zh(s)?n.connect(s,l.output,l.input):n.connect(s,l.output)})})(n.disconnect)},QD=(n,e,t,r)=>{const{activeInputs:o,passiveInputs:i}=zu(e),{outputs:s}=Dn(n),a=Gu(n),l=c=>{const u=yt(n),d=Ac(e);if(c){const h=dT(i,n,t);Ux(o,n,h,!1),!r&&!Ss(n)&&u.connect(d,t)}else{const h=ZD(o,n,t);Gx(i,h,!1),!r&&!Ss(n)&&u.disconnect(d,t)}};return Ms(s,[e,t],c=>c[0]===e&&c[1]===t,!0)?(a.add(l),Ko(n)?Ux(o,n,[t,l],!0):Gx(i,[n,t,l],!0),!0):!1},eM=(n,e,t,r)=>{const{activeInputs:o,passiveInputs:i}=Dn(e),s=cT(o[r],n,t);return s===null?[iT(i,n,t,r)[2],!1]:[s[2],!0]},tM=(n,e,t)=>{const{activeInputs:r,passiveInputs:o}=zu(e),i=cT(r,n,t);return i===null?[dT(o,n,t)[1],!1]:[i[2],!0]},cv=(n,e,t,r,o)=>{const[i,s]=eM(n,t,r,o);if(i!==null&&(uT(n,i),s&&!e&&!Ss(n)&&Yh(yt(n),yt(t),r,o)),Ko(t)){const{activeInputs:a}=Dn(t);Kg(t,a)}},uv=(n,e,t,r)=>{const[o,i]=tM(n,t,r);o!==null&&(uT(n,o),i&&!e&&!Ss(n)&&yt(n).disconnect(Ac(t),r))},nM=(n,e)=>{const t=Dn(n),r=[];for(const o of t.outputs)Hu(o)?cv(n,e,...o):uv(n,e,...o),r.push(o[0]);return t.outputs.clear(),r},rM=(n,e,t)=>{const r=Dn(n),o=[];for(const i of r.outputs)i[1]===t&&(Hu(i)?cv(n,e,...i):uv(n,e,...i),o.push(i[0]),r.outputs.delete(i));return o},oM=(n,e,t,r,o)=>{const i=Dn(n);return Array.from(i.outputs).filter(s=>s[0]===t&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(Hu(s)?cv(n,e,...s):uv(n,e,...s),i.outputs.delete(s),s[0]))},iM=(n,e,t,r,o,i,s,a,l,c,u,d,h,f,p,m)=>class extends c{constructor(b,_,v,y){super(v),this._context=b,this._nativeAudioNode=v;const w=u(b);d(w)&&t(Vx,()=>Vx(w,m))!==!0&&JD(v),sv.set(this,v),rT.set(this,new Set),b.state!=="closed"&&_&&Na(this),n(this,y,v)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(b){this._nativeAudioNode.channelCount=b}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(b){this._nativeAudioNode.channelCountMode=b}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(b){this._nativeAudioNode.channelInterpretation=b}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(b,_=0,v=0){if(_<0||_>=this._nativeAudioNode.numberOfOutputs)throw o();const y=u(this._context),w=p(y);if(h(b)||f(b))throw i();if(Xh(b)){const k=yt(b);try{const A=qh(this._nativeAudioNode,k,_,v),P=yh(this);(w||P)&&this._nativeAudioNode.disconnect(...A),this.context.state!=="closed"&&!P&&yh(b)&&Na(b)}catch(A){throw A.code===12?i():A}if(e(this,b,_,v,w)){const A=l([this],b);Am(A,r(w))}return b}const S=Ac(b);if(S.name==="playbackRate"&&S.maxValue===1024)throw s();try{this._nativeAudioNode.connect(S,_),(w||yh(this))&&this._nativeAudioNode.disconnect(S,_)}catch(k){throw k.code===12?i():k}if(QD(this,b,_,w)){const k=l([this],b);Am(k,r(w))}}disconnect(b,_,v){let y;const w=u(this._context),S=p(w);if(b===void 0)y=nM(this,S);else if(typeof b=="number"){if(b<0||b>=this.numberOfOutputs)throw o();y=rM(this,S,b)}else{if(_!==void 0&&(_<0||_>=this.numberOfOutputs)||Xh(b)&&v!==void 0&&(v<0||v>=b.numberOfInputs))throw o();if(y=oM(this,S,b,_,v),y.length===0)throw i()}for(const C of y){const k=l([this],C);Am(k,a)}}},sM=(n,e,t,r,o,i,s,a,l,c,u,d,h)=>(f,p,m,g=null,b=null)=>{const _=m.value,v=new gD(_),y=p?r(v):null,w={get defaultValue(){return _},get maxValue(){return g===null?m.maxValue:g},get minValue(){return b===null?m.minValue:b},get value(){return m.value},set value(S){m.value=S,w.setValueAtTime(S,f.context.currentTime)},cancelAndHoldAtTime(S){if(typeof m.cancelAndHoldAtTime=="function")y===null&&v.flush(f.context.currentTime),v.add(o(S)),m.cancelAndHoldAtTime(S);else{const C=Array.from(v).pop();y===null&&v.flush(f.context.currentTime),v.add(o(S));const k=Array.from(v).pop();m.cancelScheduledValues(S),C!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?m.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?m.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&m.setValueCurveAtTime(k.values,k.startTime,k.duration))}return w},cancelScheduledValues(S){return y===null&&v.flush(f.context.currentTime),v.add(i(S)),m.cancelScheduledValues(S),w},exponentialRampToValueAtTime(S,C){if(S===0)throw new RangeError;if(!Number.isFinite(C)||C<0)throw new RangeError;const k=f.context.currentTime;return y===null&&v.flush(k),Array.from(v).length===0&&(v.add(c(_,k)),m.setValueAtTime(_,k)),v.add(s(S,C)),m.exponentialRampToValueAtTime(S,C),w},linearRampToValueAtTime(S,C){const k=f.context.currentTime;return y===null&&v.flush(k),Array.from(v).length===0&&(v.add(c(_,k)),m.setValueAtTime(_,k)),v.add(a(S,C)),m.linearRampToValueAtTime(S,C),w},setTargetAtTime(S,C,k){return y===null&&v.flush(f.context.currentTime),v.add(l(S,C,k)),m.setTargetAtTime(S,C,k),w},setValueAtTime(S,C){return y===null&&v.flush(f.context.currentTime),v.add(c(S,C)),m.setValueAtTime(S,C),w},setValueCurveAtTime(S,C,k){const E=S instanceof Float32Array?S:new Float32Array(S);if(d!==null&&d.name==="webkitAudioContext"){const A=C+k,P=f.context.sampleRate,I=Math.ceil(C*P),$=Math.floor(A*P),V=$-I,ee=new Float32Array(V);for(let L=0;L<V;L+=1){const ie=(E.length-1)/k*((I+L)/P-C),te=Math.floor(ie),ue=Math.ceil(ie);ee[L]=te===ue?E[te]:(1-(ie-te))*E[te]+(1-(ue-ie))*E[ue]}y===null&&v.flush(f.context.currentTime),v.add(u(ee,C,k)),m.setValueCurveAtTime(ee,C,k);const F=$/P;F<A&&h(w,ee[ee.length-1],F),h(w,E[E.length-1],A)}else y===null&&v.flush(f.context.currentTime),v.add(u(E,C,k)),m.setValueCurveAtTime(E,C,k);return w}};return t.set(w,m),e.set(w,f),n(w,y),w},aM=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:r,value:o}=t;e.exponentialRampToValueAtTime(o,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:o}=t;e.linearRampToValueAtTime(o,r)}else if(t.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=t;e.setTargetAtTime(o,r,i)}else if(t.type==="setValue"){const{startTime:r,value:o}=t;e.setValueAtTime(o,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=t;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});class hT{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,o)=>e.call(t,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const lM={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},cM=(n,e,t,r,o,i,s,a,l,c,u,d,h,f)=>class extends e{constructor(m,g,b){var _;const v=a(m),y=l(v),w=u({...lM,...b});h(w);const S=jg.get(v),C=S==null?void 0:S.get(g),k=y||v.state!=="closed"?v:(_=s(v))!==null&&_!==void 0?_:v,E=o(k,y?null:m.baseLatency,c,g,C,w),A=y?r(g,w,C):null;super(m,!0,E,A);const P=[];E.parameters.forEach(($,V)=>{const ee=t(this,y,$);P.push([V,ee])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new hT(P),y&&n(v,this);const{activeInputs:I}=i(this);d(E,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const g=typeof m=="function"?f(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=g;const b=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=b!==null&&b===g?m:b}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Jh(n,e,t,r,o){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],r,o);else{const i=n.getChannelData(r);if(e[t].byteLength===0)e[t]=i.slice(o,o+128);else{const s=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(s)}}}const fT=(n,e,t,r,o)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],r,o):e[t].byteLength!==0&&n.getChannelData(r).set(e[t],o)},Qh=(n,e)=>{const t=[];for(let r=0;r<n;r+=1){const o=[],i=typeof e=="number"?e:e[r];for(let s=0;s<i;s+=1)o.push(new Float32Array(128));t.push(o)}return t},uM=(n,e)=>{const t=Wr(Wg,n),r=yt(e);return Wr(t,r)},dM=async(n,e,t,r,o,i,s)=>{const a=e===null?Math.ceil(n.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=o.reduce((g,b)=>g+b,0),u=c===0?null:t.createBuffer(c,a,t.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const d=Dn(n),h=await uM(t,n),f=Qh(r.numberOfInputs,r.channelCount),p=Qh(r.numberOfOutputs,o),m=Array.from(n.parameters.keys()).reduce((g,b)=>({...g,[b]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(r.numberOfInputs>0&&e!==null)for(let b=0;b<r.numberOfInputs;b+=1)for(let _=0;_<r.channelCount;_+=1)Jh(e,f[b],_,_,g);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:b},_)=>{Jh(e,m,b,l+_,g)});for(let b=0;b<r.numberOfInputs;b+=1)for(let _=0;_<o[b];_+=1)p[b][_].byteLength===0&&(p[b][_]=new Float32Array(128));try{const b=f.map((v,y)=>d.activeInputs[y].size===0?[]:v),_=s(g/t.sampleRate,t.sampleRate,()=>h.process(b,p,m));if(u!==null)for(let v=0,y=0;v<r.numberOfOutputs;v+=1){for(let w=0;w<o[v];w+=1)fT(u,p[v],w,y+w,g);y+=o[v]}if(!_)break}catch(b){n.dispatchEvent(new ErrorEvent("processorerror",{colno:b.colno,filename:b.filename,lineno:b.lineno,message:b.message}));break}}return u},hM=(n,e,t,r,o,i,s,a,l,c,u,d,h,f,p,m)=>(g,b,_)=>{const v=new WeakMap;let y=null;const w=async(S,C)=>{let k=u(S),E=null;const A=Sn(k,C),P=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(d===null){const I=P.reduce((F,L)=>F+L,0),$=o(C,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),V=[];for(let F=0;F<S.numberOfOutputs;F+=1)V.push(r(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:P[F]}));const ee=s(C,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1});ee.connect=e.bind(null,V),ee.disconnect=l.bind(null,V),E=[$,V,ee]}else A||(k=new d(C,g));if(v.set(C,E===null?k:E[2]),E!==null){if(y===null){if(_===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=S.channelCount*S.numberOfInputs,ie=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length,te=L+ie;y=dM(S,te===0?null:await(async()=>{const le=new h(te,Math.ceil(S.context.length/128)*128,C.sampleRate),xe=[],lt=[];for(let Me=0;Me<b.numberOfInputs;Me+=1)xe.push(s(le,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),lt.push(o(le,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const gt=await Promise.all(Array.from(S.parameters.values()).map(async Me=>{const bt=i(le,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Me.value});return await f(le,Me,bt.offset),bt})),ke=r(le,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+ie)});for(let Me=0;Me<b.numberOfInputs;Me+=1){xe[Me].connect(lt[Me]);for(let bt=0;bt<b.channelCount;bt+=1)lt[Me].connect(ke,bt,Me*b.channelCount+bt)}for(const[Me,bt]of gt.entries())bt.connect(ke,0,L+Me),bt.start(0);return ke.connect(le.destination),await Promise.all(xe.map(Me=>p(S,le,Me))),m(le)})(),C,b,P,_,c)}const I=await y,$=t(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,ee,F]=E;I!==null&&($.buffer=I,$.start(0)),$.connect(V);for(let L=0,ie=0;L<S.numberOfOutputs;L+=1){const te=ee[L];for(let ue=0;ue<P[L];ue+=1)V.connect(te,ie+ue,ue);ie+=P[L]}return F}if(A)for(const[I,$]of S.parameters.entries())await n(C,$,k.parameters.get(I));else for(const[I,$]of S.parameters.entries())await f(C,$,k.parameters.get(I));return await p(S,C,k),k};return{render(S,C){a(C,S);const k=v.get(C);return k!==void 0?Promise.resolve(k):w(S,C)}}},fM=(n,e,t,r,o,i,s,a,l,c,u,d,h,f,p,m,g,b,_,v)=>class extends p{constructor(w,S){super(w,S),this._nativeContext=w,this._audioWorklet=n===void 0?void 0:{addModule:(C,k)=>n(this,C,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(w,S,C){return new t({length:S,numberOfChannels:w,sampleRate:C})}createBufferSource(){return new r(this)}createChannelMerger(w=6){return new i(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new s(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(w,S){return new f(this,{feedback:S,feedforward:w})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(w,S,C={disableNormalization:!1}){return new b(this,{...C,imag:S,real:w})}createStereoPanner(){return new _(this)}createWaveShaper(){return new v(this)}decodeAudioData(w,S,C){return c(this._nativeContext,w).then(k=>(typeof S=="function"&&S(k),k),k=>{throw typeof C=="function"&&C(k),k})}},pM={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},mM=(n,e,t,r,o,i,s,a)=>class extends n{constructor(c,u){const d=i(c),h={...pM,...u},f=o(d,h),p=s(d),m=p?t():null;super(c,!1,f,m),this._Q=e(this,p,f.Q,In,Gn),this._detune=e(this,p,f.detune,1200*Math.log2(In),-1200*Math.log2(In)),this._frequency=e(this,p,f.frequency,c.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(In),Gn),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,d)}catch(h){throw h.code===11?r():h}if(c.length!==u.length||u.length!==d.length)throw r()}},gM=(n,e,t,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=t(a);const u=Sn(c,l);if(!u){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,d)}return i.set(l,c),u?(await n(l,a.Q,c.Q),await n(l,a.detune,c.detune),await n(l,a.frequency,c.frequency),await n(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},bM=(n,e)=>(t,r)=>{const o=e.get(t);if(o!==void 0)return o;const i=n.get(t);if(i!==void 0)return i;try{const s=r();return s instanceof Promise?(n.set(t,s),s.catch(()=>!1).then(a=>(n.delete(t),e.set(t,a),a))):(e.set(t,s),s)}catch{return e.set(t,!1),!1}},vM={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},yM=(n,e,t,r,o)=>class extends n{constructor(s,a){const l=r(s),c={...vM,...a},u=t(l,c),d=o(l)?e():null;super(s,!1,u,d)}},_M=(n,e,t)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Sn(a,s)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=n(s,c)}return r.set(s,a),await t(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},xM={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},wM=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=r(a),u=i({...xM,...l}),d=t(c,u),h=o(c)?e():null;super(a,!1,d,h)}},CM=(n,e,t)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Sn(a,s)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=n(s,c)}return r.set(s,a),await t(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},SM=n=>(e,t,r)=>n(t,e,r),TM=n=>(e,t,r=0,o=0)=>{const i=e[r];if(i===void 0)throw n();return Zh(t)?i.connect(t,0,o):i.connect(t,0)},kM=n=>(e,t)=>{const r=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},EM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},AM=(n,e,t,r,o,i,s)=>class extends n{constructor(l,c){const u=o(l),d={...EM,...c},h=r(u,d),f=i(u),p=f?t():null;super(l,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,In,Gn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?s(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){Na(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Ko(this)&&Vu(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},PM=(n,e,t,r,o)=>()=>{const i=new WeakMap;let s=null,a=null;const l=async(c,u)=>{let d=t(c);const h=Sn(d,u);if(!h){const f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,f),s!==null&&d.start(s),a!==null&&d.stop(a)}return i.set(u,d),h?await n(u,c.offset,d.offset):await r(u,c.offset,d.offset),await o(c,u,d),d};return{set start(c){s=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},IM=n=>e=>(n[0]=e,n[0]),RM={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},BM=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=r(a),u={...RM,...l},d=t(c,u),f=o(c)?e():null;super(a,!1,d,f),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},OM=(n,e,t)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Sn(a,s)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=n(s,c)}return r.set(s,a),il(a)?await t(i,s,a.inputs[0]):await t(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},DM=(n,e)=>(t,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,o)}catch(i){throw i.name==="SyntaxError"?n():i}},MM=()=>new DOMException("","DataCloneError"),zx=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const o=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>o();try{e.postMessage(n,[n])}catch{}finally{o()}})},FM=(n,e,t,r,o,i,s,a,l,c,u)=>(d,h)=>{const f=s(d)?d:i(d);if(o.has(h)){const p=t();return Promise.reject(p)}try{o.add(h)}catch{}return e(l,()=>l(f))?f.decodeAudioData(h).then(p=>(zx(h).catch(()=>{}),e(a,()=>a(p))||u(p),n.add(p),p)):new Promise((p,m)=>{const g=async()=>{try{await zx(h)}catch{}},b=_=>{m(_),g()};try{f.decodeAudioData(h,_=>{typeof _.copyFromChannel!="function"&&(c(_),lv(_)),n.add(_),g().then(()=>p(_))},_=>{b(_===null?r():_)})}catch(_){b(_)}})},LM=(n,e,t,r,o,i,s,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),h=a(d);if(u===c){if(e.delete(l),!h&&s(l)){const f=r(l),{outputs:p}=t(l);for(const m of p)if(Hu(m)){const g=r(m[0]);n(f,g,m[1],m[2])}else{const g=o(m[0]);f.connect(g,m[1])}}}else e.set(l,u-c)},NM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},$M=(n,e,t,r,o,i,s)=>class extends n{constructor(l,c){const u=o(l),d={...NM,...c},h=r(u,d),f=i(u),p=f?t(d.maxDelayTime):null;super(l,!1,h,p),this._delayTime=e(this,f,h.delayTime),s(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},UM=(n,e,t,r,o)=>i=>{const s=new WeakMap,a=async(l,c)=>{let u=t(l);const d=Sn(u,c);if(!d){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(c,h)}return s.set(c,u),d?await n(c,l.delayTime,u.delayTime):await r(c,l.delayTime,u.delayTime),await o(l,c,u),u};return{render(l,c){const u=s.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},GM=n=>(e,t,r,o)=>n(e[o],i=>i[0]===t&&i[1]===r),VM=n=>(e,t)=>{n(e).delete(t)},zM=n=>"delayTime"in n,HM=(n,e,t)=>function r(o,i){const s=Xh(i)?i:t(n,i);if(zM(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];const{outputs:a}=e(s);return Array.from(a).map(l=>r([...o,s],l[0])).reduce((l,c)=>l.concat(c),[])},Id=(n,e,t)=>{const r=e[t];if(r===void 0)throw n();return r},jM=n=>(e,t=void 0,r=void 0,o=0)=>t===void 0?e.forEach(i=>i.disconnect()):typeof t=="number"?Id(n,e,t).disconnect():Zh(t)?r===void 0?e.forEach(i=>i.disconnect(t)):o===void 0?Id(n,e,r).disconnect(t,0):Id(n,e,r).disconnect(t,0,o):r===void 0?e.forEach(i=>i.disconnect(t)):Id(n,e,r).disconnect(t,0),WM={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},KM=(n,e,t,r,o,i,s,a)=>class extends n{constructor(c,u){const d=i(c),h={...WM,...u},f=r(d,h),p=s(d),m=p?t():null;super(c,!1,f,m),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},XM=(n,e,t,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=t(a);const u=Sn(c,l);if(!u){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,d)}return i.set(l,c),u?(await n(l,a.attack,c.attack),await n(l,a.knee,c.knee),await n(l,a.ratio,c.ratio),await n(l,a.release,c.release),await n(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},qM=()=>new DOMException("","EncodingError"),YM=n=>e=>new Promise((t,r)=>{if(n===null){r(new SyntaxError);return}const o=n.document.head;if(o===null)r(new SyntaxError);else{const i=n.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),l=n.onerror,c=()=>{n.onerror=l,URL.revokeObjectURL(a)};n.onerror=(u,d,h,f,p)=>{if(d===a||d===n.location.href&&h===1&&f===1)return c(),r(p),!1;if(l!==null)return l(u,d,h,f,p)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),t()},i.src=a,i.type="module",o.appendChild(i)}}),ZM=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=n(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(t,i,o)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,o){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,i===void 0?null:i,o)}},JM=n=>(e,t,r)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},QM=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},e7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},t7=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=o(a),u={...e7,...l},d=r(c,u),h=i(c),f=h?t():null;super(a,!1,d,f),this._gain=e(this,h,d.gain,In,Gn)}get gain(){return this._gain}},n7=(n,e,t,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=t(a);const u=Sn(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,d)}return i.set(l,c),u?await n(l,a.gain,c.gain):await r(l,a.gain,c.gain),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},r7=(n,e)=>t=>e(n,t),o7=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},i7=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},s7=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},a7=n=>e=>n.get(e),ln=()=>new DOMException("","InvalidStateError"),l7=n=>e=>{const t=n.get(e);if(t===void 0)throw ln();return t},c7=(n,e)=>t=>{let r=n.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),n.set(t,r),r},u7=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},tp=()=>new DOMException("","InvalidAccessError"),d7=n=>{n.getFrequencyResponse=(e=>(t,r,o)=>{if(t.length!==r.length||r.length!==o.length)throw tp();return e.call(n,t,r,o)})(n.getFrequencyResponse)},h7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},f7=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=r(a),u=o(c),d={...h7,...l},h=e(c,u?null:a.baseLatency,d),f=u?t(d.feedback,d.feedforward):null;super(a,!1,h,f),d7(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},pT=(n,e,t,r,o,i,s,a,l,c,u)=>{const d=c.length;let h=a;for(let f=0;f<d;f+=1){let p=t[0]*c[f];for(let m=1;m<o;m+=1){const g=h-m&l-1;p+=t[m]*i[g],p-=n[m]*s[g]}for(let m=o;m<r;m+=1)p+=t[m]*i[h-m&l-1];for(let m=o;m<e;m+=1)p-=n[m]*s[h-m&l-1];i[h]=c[f],s[h]=p,h=h+1&l-1,u[f]=p}return h},p7=(n,e,t,r)=>{const o=t instanceof Float64Array?t:new Float64Array(t),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,l=Math.min(s,a);if(o[0]!==1){for(let p=0;p<s;p+=1)i[p]/=o[0];for(let p=1;p<a;p+=1)o[p]/=o[0]}const c=32,u=new Float32Array(c),d=new Float32Array(c),h=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),f=n.numberOfChannels;for(let p=0;p<f;p+=1){const m=n.getChannelData(p),g=h.getChannelData(p);u.fill(0),d.fill(0),pT(o,s,i,a,l,u,d,0,c,m,g)}return h},m7=(n,e,t,r,o)=>(i,s)=>{const a=new WeakMap;let l=null;const c=async(u,d)=>{let h=null,f=e(u);const p=Sn(f,d);if(d.createIIRFilter===void 0?h=n(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=d.createIIRFilter(s,i)),a.set(d,h===null?f:h),h!==null){if(l===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new t(u.context.destination.channelCount,u.context.length,d.sampleRate);l=(async()=>{await r(u,g,g.destination);const b=await o(g);return p7(b,d,i,s)})()}const m=await l;return h.buffer=m,h.start(0),h}return await r(u,d,f),f};return{render(u,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):c(u,d)}}},g7=(n,e,t,r,o,i)=>s=>(a,l)=>{const c=n.get(a);if(c===void 0){if(!s&&i(a)){const u=r(a),{outputs:d}=t(a);for(const h of d)if(Hu(h)){const f=r(h[0]);e(u,f,h[1],h[2])}else{const f=o(h[0]);u.disconnect(f,h[1])}}n.set(a,l)}else n.set(a,c+l)},b7=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},v7=(n,e)=>t=>n.has(t)||e(t),y7=(n,e)=>t=>n.has(t)||e(t),_7=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},x7=n=>e=>n!==null&&e instanceof n,w7=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,C7=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,S7=(n,e)=>t=>n(t)||e(t),T7=n=>e=>n!==null&&e instanceof n,k7=n=>n!==null&&n.isSecureContext,E7=(n,e,t,r)=>class extends n{constructor(i,s){const a=t(i),l=e(a,s);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},A7={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},P7=(n,e,t,r)=>class extends n{constructor(i,s){const a=t(i);if(r(a))throw new TypeError;const l={...A7,...s},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},I7=(n,e,t,r)=>class extends n{constructor(i,s){const a=t(i),l=e(a,s);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},R7=(n,e,t)=>class extends n{constructor(o,i){const s=t(o),a=e(s,i);super(o,!0,a,null)}},B7=(n,e,t,r,o,i)=>class extends t{constructor(a,l){super(a),this._nativeContext=a,Qf.set(this,a),r(a)&&o.set(a,new Set),this._destination=new n(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Pc=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},O7=(n,e)=>(t,r,o)=>{const i=new Set;return t.connect=(s=>(a,l=0,c=0)=>{const u=i.size===0;if(e(a))return s.call(t,a,l,c),n(i,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),u&&r(),a;s.call(t,a,l),n(i,[a,l],d=>d[0]===a&&d[1]===l,!0),u&&r()})(t.connect),t.disconnect=(s=>(a,l,c)=>{const u=i.size>0;if(a===void 0)s.apply(t),i.clear();else if(typeof a=="number"){s.call(t,a);for(const h of i)h[1]===a&&i.delete(h)}else{e(a)?s.call(t,a,l,c):s.call(t,a,l);for(const h of i)h[0]===a&&(l===void 0||h[1]===l)&&(c===void 0||h[2]===c)&&i.delete(h)}const d=i.size===0;u&&d&&o()})(t.disconnect),t},wt=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t]&&(n[t]=r)},en=(n,e)=>{wt(n,e,"channelCount"),wt(n,e,"channelCountMode"),wt(n,e,"channelInterpretation")},Hx=n=>typeof n.getFloatTimeDomainData=="function",D7=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const r=Math.max(t.length,n.fftSize);for(let o=0;o<r;o+=1)e[o]=(t[o]-128)*.0078125;return e}},M7=(n,e)=>(t,r)=>{const o=t.createAnalyser();if(en(o,r),!(r.maxDecibels>r.minDecibels))throw e();return wt(o,r,"fftSize"),wt(o,r,"maxDecibels"),wt(o,r,"minDecibels"),wt(o,r,"smoothingTimeConstant"),n(Hx,()=>Hx(o))||D7(o),o},F7=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Bt=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t].value&&(n[t].value=r)},L7=n=>{n.start=(e=>{let t=!1;return(r=0,o=0,i)=>{if(t)throw ln();e.call(n,r,o,i),t=!0}})(n.start)},dv=n=>{n.start=(e=>(t=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,r,o)})(n.start)},hv=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},N7=(n,e,t,r,o,i,s,a,l,c,u)=>(d,h)=>{const f=d.createBufferSource();return en(f,h),Bt(f,h,"playbackRate"),wt(f,h,"buffer"),wt(f,h,"loop"),wt(f,h,"loopEnd"),wt(f,h,"loopStart"),e(t,()=>t(d))||L7(f),e(r,()=>r(d))||l(f),e(o,()=>o(d))||c(f,d),e(i,()=>i(d))||dv(f),e(s,()=>s(d))||u(f,d),e(a,()=>a(d))||hv(f),n(d,f),f},$7=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,U7=(n,e)=>(t,r,o)=>{const i=t.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const s=n(t,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(s,"channelCount",a=>()=>a.call(s),a=>l=>{a.call(s,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(s,"channelCountMode",a=>()=>a.call(s),a=>l=>{a.call(s,l),i.channelCountMode=l}),e(s,"channelInterpretation",a=>()=>a.call(s),a=>l=>{a.call(s,l),i.channelInterpretation=l}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s},G7=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,V7=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},z7=(n,e,t,r,o)=>(i,s,a,l,c,u)=>{if(a!==null)try{const d=new a(i,l,u),h=new Map;let f=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&d.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(g!==null){const b=h.get(m[1]);b!==void 0?m[1]=b:(m[1]=_=>{_.type==="error"?(Object.defineProperties(_,{type:{value:"processorerror"}}),g(_)):g(new ErrorEvent(m[0],{..._}))},h.set(g,m[1]))}}return p.call(d,"error",m[1],m[2]),p.call(d,...m)})(d.addEventListener),d.removeEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=h.get(m[1]);g!==void 0&&(h.delete(m[1]),m[1]=g)}return p.call(d,"error",m[1],m[2]),p.call(d,m[0],m[1],m[2])})(d.removeEventListener),u.numberOfOutputs!==0){const p=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),o(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(c===void 0)throw r();return V7(u),e(i,s,c,u)},mT=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),H7=n=>new Promise((e,t)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),t(i)},o.postMessage(n)}),j7=async(n,e)=>{const t=await H7(e);return new n(t)},W7=(n,e,t,r)=>{let o=Wg.get(n);o===void 0&&(o=new WeakMap,Wg.set(n,o));const i=j7(t,r);return o.set(e,i),i},K7=(n,e,t,r,o,i,s,a,l,c,u,d,h)=>(f,p,m,g)=>{if(g.numberOfInputs===0&&g.numberOfOutputs===0)throw l();const b=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(b.some(D=>D<1))throw l();if(b.length!==g.numberOfOutputs)throw e();if(g.channelCountMode!=="explicit")throw l();const _=g.channelCount*g.numberOfInputs,v=b.reduce((D,U)=>D+U,0),y=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(_+y>6||v>6)throw l();const w=new MessageChannel,S=[],C=[];for(let D=0;D<g.numberOfInputs;D+=1)S.push(s(f,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),C.push(o(f,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const k=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:D,maxValue:U,minValue:z,name:H}of m.parameterDescriptors){const Y=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.parameterData[H]!==void 0?g.parameterData[H]:D===void 0?0:D});Object.defineProperties(Y.offset,{defaultValue:{get:()=>D===void 0?0:D},maxValue:{get:()=>U===void 0?In:U},minValue:{get:()=>z===void 0?Gn:z}}),k.push(Y)}const E=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+y)}),A=mT(p,f.sampleRate),P=a(f,A,_+y,Math.max(1,v)),I=o(f,{channelCount:Math.max(1,v),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,v)}),$=[];for(let D=0;D<g.numberOfOutputs;D+=1)$.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[D]}));for(let D=0;D<g.numberOfInputs;D+=1){S[D].connect(C[D]);for(let U=0;U<g.channelCount;U+=1)C[D].connect(E,U,D*g.channelCount+U)}const V=new hT(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:D},U)=>{const z=k[U];return z.connect(E,0,_+U),z.start(0),[D,z.offset]}));E.connect(P);let ee=g.channelInterpretation,F=null;const L=g.numberOfOutputs===0?[P]:$,ie={get bufferSize(){return A},get channelCount(){return g.channelCount},set channelCount(D){throw t()},get channelCountMode(){return g.channelCountMode},set channelCountMode(D){throw t()},get channelInterpretation(){return ee},set channelInterpretation(D){for(const U of S)U.channelInterpretation=D;ee=D},get context(){return P.context},get inputs(){return S},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(D){typeof F=="function"&&ie.removeEventListener("processorerror",F),F=typeof D=="function"?D:null,typeof F=="function"&&ie.addEventListener("processorerror",F)},get parameters(){return V},get port(){return w.port2},addEventListener(...D){return P.addEventListener(D[0],D[1],D[2])},connect:n.bind(null,L),disconnect:c.bind(null,L),dispatchEvent(...D){return P.dispatchEvent(D[0])},removeEventListener(...D){return P.removeEventListener(D[0],D[1],D[2])}},te=new Map;w.port1.addEventListener=(D=>(...U)=>{if(U[0]==="message"){const z=typeof U[1]=="function"?U[1]:typeof U[1]=="object"&&U[1]!==null&&typeof U[1].handleEvent=="function"?U[1].handleEvent:null;if(z!==null){const H=te.get(U[1]);H!==void 0?U[1]=H:(U[1]=Y=>{u(f.currentTime,f.sampleRate,()=>z(Y))},te.set(z,U[1]))}}return D.call(w.port1,U[0],U[1],U[2])})(w.port1.addEventListener),w.port1.removeEventListener=(D=>(...U)=>{if(U[0]==="message"){const z=te.get(U[1]);z!==void 0&&(te.delete(U[1]),U[1]=z)}return D.call(w.port1,U[0],U[1],U[2])})(w.port1.removeEventListener);let ue=null;Object.defineProperty(w.port1,"onmessage",{get:()=>ue,set:D=>{typeof ue=="function"&&w.port1.removeEventListener("message",ue),ue=typeof D=="function"?D:null,typeof ue=="function"&&(w.port1.addEventListener("message",ue),w.port1.start())}}),m.prototype.port=w.port1;let le=null;W7(f,ie,m,g).then(D=>le=D);const lt=Qh(g.numberOfInputs,g.channelCount),gt=Qh(g.numberOfOutputs,b),ke=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((D,{name:U})=>({...D,[U]:new Float32Array(128)}),{});let Me=!0;const bt=()=>{g.numberOfOutputs>0&&P.disconnect(I);for(let D=0,U=0;D<g.numberOfOutputs;D+=1){const z=$[D];for(let H=0;H<b[D];H+=1)I.disconnect(z,U+H,H);U+=b[D]}},de=new Map;P.onaudioprocess=({inputBuffer:D,outputBuffer:U})=>{if(le!==null){const z=d(ie);for(let H=0;H<A;H+=128){for(let Y=0;Y<g.numberOfInputs;Y+=1)for(let Z=0;Z<g.channelCount;Z+=1)Jh(D,lt[Y],Z,Z,H);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:Y},Z)=>{Jh(D,ke,Y,_+Z,H)});for(let Y=0;Y<g.numberOfInputs;Y+=1)for(let Z=0;Z<b[Y];Z+=1)gt[Y][Z].byteLength===0&&(gt[Y][Z]=new Float32Array(128));try{const Y=lt.map((Q,J)=>{if(z[J].size>0)return de.set(J,A/128),Q;const se=de.get(J);return se===void 0?[]:(Q.every(ge=>ge.every(Te=>Te===0))&&(se===1?de.delete(J):de.set(J,se-1)),Q)});Me=u(f.currentTime+H/f.sampleRate,f.sampleRate,()=>le.process(Y,gt,ke));for(let Q=0,J=0;Q<g.numberOfOutputs;Q+=1){for(let me=0;me<b[Q];me+=1)fT(U,gt[Q],me,J+me,H);J+=b[Q]}}catch(Y){Me=!1,ie.dispatchEvent(new ErrorEvent("processorerror",{colno:Y.colno,filename:Y.filename,lineno:Y.lineno,message:Y.message}))}if(!Me){for(let Y=0;Y<g.numberOfInputs;Y+=1){S[Y].disconnect(C[Y]);for(let Z=0;Z<g.channelCount;Z+=1)C[H].disconnect(E,Z,Y*g.channelCount+Z)}if(m.parameterDescriptors!==void 0){const Y=m.parameterDescriptors.length;for(let Z=0;Z<Y;Z+=1){const Q=k[Z];Q.disconnect(E,0,_+Z),Q.stop()}}E.disconnect(P),P.onaudioprocess=null,pn?bt():Zt();break}}}};let pn=!1;const Ht=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),kn=()=>P.connect(Ht).connect(f.destination),Zt=()=>{P.disconnect(Ht),Ht.disconnect()},B=()=>{if(Me){Zt(),g.numberOfOutputs>0&&P.connect(I);for(let D=0,U=0;D<g.numberOfOutputs;D+=1){const z=$[D];for(let H=0;H<b[D];H+=1)I.connect(z,U+H,H);U+=b[D]}}pn=!0},M=()=>{Me&&(kn(),bt()),pn=!1};return kn(),h(ie,B,M)},gT=(n,e)=>{const t=n.createBiquadFilter();return en(t,e),Bt(t,e,"Q"),Bt(t,e,"detune"),Bt(t,e,"frequency"),Bt(t,e,"gain"),wt(t,e,"type"),t},X7=(n,e)=>(t,r)=>{const o=t.createChannelMerger(r.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,o),en(o,r),o},q7=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw ln()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw ln()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw ln()}})},ju=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return en(t,e),q7(t),t},Y7=(n,e,t,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return t(i,s);const a=i.createConstantSource();return en(a,s),Bt(a,s,"offset"),e(r,()=>r(i))||dv(a),e(o,()=>o(i))||hv(a),n(i,a),a},sl=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),Z7=(n,e,t,r)=>(o,{offset:i,...s})=>{const a=o.createBuffer(1,2,44100),l=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=t(o,{...s,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(p){c.channelCount=p},get channelCountMode(){return c.channelCountMode},set channelCountMode(p){c.channelCountMode=p},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(p){c.channelInterpretation=p},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},h=()=>l.connect(c),f=()=>l.disconnect(c);return n(o,l),r(sl(d,c),h,f)},J7=(n,e)=>(t,r)=>{const o=t.createConvolver();if(en(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),wt(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw n();return i.call(o,s)}),r.channelCountMode==="max"))throw n();return e(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw n();return i.call(o,s)}),o},bT=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return en(t,e),Bt(t,e,"delayTime"),t},Q7=n=>(e,t)=>{const r=e.createDynamicsCompressor();if(en(r,t),t.channelCount>2||t.channelCountMode==="max")throw n();return Bt(r,t,"attack"),Bt(r,t,"knee"),Bt(r,t,"ratio"),Bt(r,t,"release"),Bt(r,t,"threshold"),r},Xn=(n,e)=>{const t=n.createGain();return en(t,e),Bt(t,e,"gain"),t},e9=n=>(e,t,r)=>{if(e.createIIRFilter===void 0)return n(e,t,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return en(o,r),o};function t9(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function n9(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function jx(n,e){let t=[0,0];for(let r=n.length-1;r>=0;r-=1)t=n9(t,e),t[0]+=n[r];return t}const r9=(n,e,t,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const d=mT(i,o.sampleRate),h=c instanceof Float64Array?c:new Float64Array(c),f=u instanceof Float64Array?u:new Float64Array(u),p=h.length,m=f.length,g=Math.min(p,m);if(p===0||p>20)throw r();if(h[0]===0)throw e();if(m===0||m>20)throw r();if(f[0]===0)throw e();if(h[0]!==1){for(let k=0;k<m;k+=1)f[k]/=h[0];for(let k=1;k<p;k+=1)h[k]/=h[0]}const b=t(o,d,s,s);b.channelCount=s,b.channelCountMode=a,b.channelInterpretation=l;const _=32,v=[],y=[],w=[];for(let k=0;k<s;k+=1){v.push(0);const E=new Float32Array(_),A=new Float32Array(_);E.fill(0),A.fill(0),y.push(E),w.push(A)}b.onaudioprocess=k=>{const E=k.inputBuffer,A=k.outputBuffer,P=E.numberOfChannels;for(let I=0;I<P;I+=1){const $=E.getChannelData(I),V=A.getChannelData(I);v[I]=pT(h,p,f,m,g,y[I],w[I],v[I],_,$,V)}};const S=o.sampleRate/2;return sl({get bufferSize(){return d},get channelCount(){return b.channelCount},set channelCount(k){b.channelCount=k},get channelCountMode(){return b.channelCountMode},set channelCountMode(k){b.channelCountMode=k},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(k){b.channelInterpretation=k},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},addEventListener(...k){return b.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return b.dispatchEvent(k[0])},getFrequencyResponse(k,E,A){if(k.length!==E.length||E.length!==A.length)throw n();const P=k.length;for(let I=0;I<P;I+=1){const $=-Math.PI*(k[I]/S),V=[Math.cos($),Math.sin($)],ee=jx(f,V),F=jx(h,V),L=t9(ee,F);E[I]=Math.sqrt(L[0]*L[0]+L[1]*L[1]),A[I]=Math.atan2(L[1],L[0])}},removeEventListener(...k){return b.removeEventListener(k[0],k[1],k[2])}},b)},o9=(n,e)=>n.createMediaElementSource(e.mediaElement),i9=(n,e)=>{const t=n.createMediaStreamDestination();return en(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},s9=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);const r=t.slice(0,1),o=n.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},a9=(n,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=t.createMediaStreamSource(o);if(r.kind!=="audio")throw n();if(e(t))throw new TypeError;return i},l9=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,c9=(n,e,t,r,o,i)=>(s,a)=>{const l=s.createOscillator();return en(l,a),Bt(l,a,"detune"),Bt(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):wt(l,a,"type"),e(t,()=>t(s))||dv(l),e(r,()=>r(s))||i(l,s),e(o,()=>o(s))||hv(l),n(s,l),l},u9=n=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?n(e,t):(en(r,t),Bt(r,t,"orientationX"),Bt(r,t,"orientationY"),Bt(r,t,"orientationZ"),Bt(r,t,"positionX"),Bt(r,t,"positionY"),Bt(r,t,"positionZ"),wt(r,t,"coneInnerAngle"),wt(r,t,"coneOuterAngle"),wt(r,t,"coneOuterGain"),wt(r,t,"distanceModel"),wt(r,t,"maxDistance"),wt(r,t,"panningModel"),wt(r,t,"refDistance"),wt(r,t,"rolloffFactor"),r)},d9=(n,e,t,r,o,i,s,a,l,c)=>(u,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:g,orientationY:b,orientationZ:_,panningModel:v,positionX:y,positionY:w,positionZ:S,refDistance:C,rolloffFactor:k,...E})=>{const A=u.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw s();en(A,E);const P={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=t(u,{...P,channelInterpretation:"speakers",numberOfInputs:6}),$=r(u,{...E,gain:1}),V=r(u,{...P,gain:1}),ee=r(u,{...P,gain:0}),F=r(u,{...P,gain:0}),L=r(u,{...P,gain:0}),ie=r(u,{...P,gain:0}),te=r(u,{...P,gain:0}),ue=o(u,256,6,1),le=i(u,{...P,curve:new Float32Array([1,1]),oversample:"none"});let xe=[g,b,_],lt=[y,w,S];const gt=new Float32Array(1);ue.onaudioprocess=({inputBuffer:de})=>{const pn=[l(de,gt,0),l(de,gt,1),l(de,gt,2)];pn.some((kn,Zt)=>kn!==xe[Zt])&&(A.setOrientation(...pn),xe=pn);const Ht=[l(de,gt,3),l(de,gt,4),l(de,gt,5)];Ht.some((kn,Zt)=>kn!==lt[Zt])&&(A.setPosition(...Ht),lt=Ht)},Object.defineProperty(ee.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0});const ke={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(de){if(de>2)throw s();$.channelCount=de,A.channelCount=de},get channelCountMode(){return A.channelCountMode},set channelCountMode(de){if(de==="max")throw s();$.channelCountMode=de,A.channelCountMode=de},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(de){$.channelInterpretation=de,A.channelInterpretation=de},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(de){A.coneInnerAngle=de},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(de){A.coneOuterAngle=de},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();A.coneOuterGain=de},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(de){A.distanceModel=de},get inputs(){return[$]},get maxDistance(){return A.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;A.maxDistance=de},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return ee.gain},get orientationZ(){return F.gain},get panningModel(){return A.panningModel},set panningModel(de){A.panningModel=de},get positionX(){return L.gain},get positionY(){return ie.gain},get positionZ(){return te.gain},get refDistance(){return A.refDistance},set refDistance(de){if(de<0)throw new RangeError;A.refDistance=de},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;A.rolloffFactor=de},addEventListener(...de){return $.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return $.dispatchEvent(de[0])},removeEventListener(...de){return $.removeEventListener(de[0],de[1],de[2])}};d!==ke.coneInnerAngle&&(ke.coneInnerAngle=d),h!==ke.coneOuterAngle&&(ke.coneOuterAngle=h),f!==ke.coneOuterGain&&(ke.coneOuterGain=f),p!==ke.distanceModel&&(ke.distanceModel=p),m!==ke.maxDistance&&(ke.maxDistance=m),g!==ke.orientationX.value&&(ke.orientationX.value=g),b!==ke.orientationY.value&&(ke.orientationY.value=b),_!==ke.orientationZ.value&&(ke.orientationZ.value=_),v!==ke.panningModel&&(ke.panningModel=v),y!==ke.positionX.value&&(ke.positionX.value=y),w!==ke.positionY.value&&(ke.positionY.value=w),S!==ke.positionZ.value&&(ke.positionZ.value=S),C!==ke.refDistance&&(ke.refDistance=C),k!==ke.rolloffFactor&&(ke.rolloffFactor=k),(xe[0]!==1||xe[1]!==0||xe[2]!==0)&&A.setOrientation(...xe),(lt[0]!==0||lt[1]!==0||lt[2]!==0)&&A.setPosition(...lt);const Me=()=>{$.connect(A),n($,le,0,0),le.connect(V).connect(I,0,0),le.connect(ee).connect(I,0,1),le.connect(F).connect(I,0,2),le.connect(L).connect(I,0,3),le.connect(ie).connect(I,0,4),le.connect(te).connect(I,0,5),I.connect(ue).connect(u.destination)},bt=()=>{$.disconnect(A),a($,le,0,0),le.disconnect(V),V.disconnect(I),le.disconnect(ee),ee.disconnect(I),le.disconnect(F),F.disconnect(I),le.disconnect(L),L.disconnect(I),le.disconnect(ie),ie.disconnect(I),le.disconnect(te),te.disconnect(I),I.disconnect(ue),ue.disconnect(u.destination)};return c(sl(ke,A),Me,bt)},h9=n=>(e,{disableNormalization:t,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=e.createPeriodicWave(s,i,{disableNormalization:t});if(Array.from(r).length<2)throw n();return a},Wu=(n,e,t,r)=>n.createScriptProcessor(e,t,r),f9=(n,e)=>(t,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,r);const i=t.createStereoPanner();return en(i,r),Bt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw e()}}),i},p9=(n,e,t,r,o,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},d=(p,m,g,b)=>{const _=new Float32Array(16385),v=new Float32Array(16385);for(let E=0;E<16385;E+=1){const A=E/16384*l;_[E]=Math.cos(A),v[E]=Math.sin(A)}const y=t(p,{...c,gain:0}),w=r(p,{...u,curve:_}),S=r(p,{...u,curve:a}),C=t(p,{...c,gain:0}),k=r(p,{...u,curve:v});return{connectGraph(){m.connect(y),m.connect(S.inputs===void 0?S:S.inputs[0]),m.connect(C),S.connect(g),g.connect(w.inputs===void 0?w:w.inputs[0]),g.connect(k.inputs===void 0?k:k.inputs[0]),w.connect(y.gain),k.connect(C.gain),y.connect(b,0,0),C.connect(b,0,1)},disconnectGraph(){m.disconnect(y),m.disconnect(S.inputs===void 0?S:S.inputs[0]),m.disconnect(C),S.disconnect(g),g.disconnect(w.inputs===void 0?w:w.inputs[0]),g.disconnect(k.inputs===void 0?k:k.inputs[0]),w.disconnect(y.gain),k.disconnect(C.gain),y.disconnect(b,0,0),C.disconnect(b,0,1)}}},h=(p,m,g,b)=>{const _=new Float32Array(16385),v=new Float32Array(16385),y=new Float32Array(16385),w=new Float32Array(16385),S=Math.floor(16385/2);for(let L=0;L<16385;L+=1)if(L>S){const ie=(L-S)/(16384-S)*l;_[L]=Math.cos(ie),v[L]=Math.sin(ie),y[L]=0,w[L]=1}else{const ie=L/(16384-S)*l;_[L]=1,v[L]=0,y[L]=Math.cos(ie),w[L]=Math.sin(ie)}const C=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=t(p,{...c,gain:0}),E=r(p,{...u,curve:_}),A=t(p,{...c,gain:0}),P=r(p,{...u,curve:v}),I=r(p,{...u,curve:a}),$=t(p,{...c,gain:0}),V=r(p,{...u,curve:y}),ee=t(p,{...c,gain:0}),F=r(p,{...u,curve:w});return{connectGraph(){m.connect(C),m.connect(I.inputs===void 0?I:I.inputs[0]),C.connect(k,0),C.connect(A,0),C.connect($,1),C.connect(ee,1),I.connect(g),g.connect(E.inputs===void 0?E:E.inputs[0]),g.connect(P.inputs===void 0?P:P.inputs[0]),g.connect(V.inputs===void 0?V:V.inputs[0]),g.connect(F.inputs===void 0?F:F.inputs[0]),E.connect(k.gain),P.connect(A.gain),V.connect($.gain),F.connect(ee.gain),k.connect(b,0,0),$.connect(b,0,0),A.connect(b,0,1),ee.connect(b,0,1)},disconnectGraph(){m.disconnect(C),m.disconnect(I.inputs===void 0?I:I.inputs[0]),C.disconnect(k,0),C.disconnect(A,0),C.disconnect($,1),C.disconnect(ee,1),I.disconnect(g),g.disconnect(E.inputs===void 0?E:E.inputs[0]),g.disconnect(P.inputs===void 0?P:P.inputs[0]),g.disconnect(V.inputs===void 0?V:V.inputs[0]),g.disconnect(F.inputs===void 0?F:F.inputs[0]),E.disconnect(k.gain),P.disconnect(A.gain),V.disconnect($.gain),F.disconnect(ee.gain),k.disconnect(b,0,0),$.disconnect(b,0,0),A.disconnect(b,0,1),ee.disconnect(b,0,1)}}},f=(p,m,g,b,_)=>{if(m===1)return d(p,g,b,_);if(m===2)return h(p,g,b,_);throw o()};return(p,{channelCount:m,channelCountMode:g,pan:b,..._})=>{if(g==="max")throw o();const v=n(p,{..._,channelCount:1,channelCountMode:g,numberOfInputs:2}),y=t(p,{..._,channelCount:m,channelCountMode:g,gain:1}),w=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:b});let{connectGraph:S,disconnectGraph:C}=f(p,m,y,w,v);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return y.channelCount},set channelCount(I){y.channelCount!==I&&(E&&C(),{connectGraph:S,disconnectGraph:C}=f(p,I,y,w,v),E&&S()),y.channelCount=I},get channelCountMode(){return y.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw o();y.channelCountMode=I},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(I){y.channelInterpretation=I},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get pan(){return w.gain},addEventListener(...I){return y.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return y.dispatchEvent(I[0])},removeEventListener(...I){return y.removeEventListener(I[0],I[1],I[2])}};let E=!1;const A=()=>{S(),E=!0},P=()=>{C(),E=!1};return i(sl(k,v),A,P)}},m9=(n,e,t,r,o,i,s)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return t(a,l);en(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();wt(c,{curve:u},"curve"),wt(c,l,"oversample");let d=null,h=!1;return s(c,"curve",m=>()=>m.call(c),m=>g=>(m.call(c,g),h&&(r(g)&&d===null?d=n(a,c):!r(g)&&d!==null&&(d(),d=null)),g)),o(c,()=>{h=!0,r(c.curve)&&(d=n(a,c))},()=>{h=!1,d!==null&&(d(),d=null)})},g9=(n,e,t,r,o)=>(i,{curve:s,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();en(c,l),en(u,l);const d=t(i,{...l,gain:1}),h=t(i,{...l,gain:-1}),f=t(i,{...l,gain:1}),p=t(i,{...l,gain:-1});let m=null,g=!1,b=null;const _={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(w){d.channelCount=w,h.channelCount=w,c.channelCount=w,f.channelCount=w,u.channelCount=w,p.channelCount=w},get channelCountMode(){return c.channelCountMode},set channelCountMode(w){d.channelCountMode=w,h.channelCountMode=w,c.channelCountMode=w,f.channelCountMode=w,u.channelCountMode=w,p.channelCountMode=w},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(w){d.channelInterpretation=w,h.channelInterpretation=w,c.channelInterpretation=w,f.channelInterpretation=w,u.channelInterpretation=w,p.channelInterpretation=w},get context(){return c.context},get curve(){return b},set curve(w){if(w!==null&&w.length<2)throw e();if(w===null)c.curve=w,u.curve=w;else{const S=w.length,C=new Float32Array(S+2-S%2),k=new Float32Array(S+2-S%2);C[0]=w[0],k[0]=-w[S-1];const E=Math.ceil((S+1)/2),A=(S+1)/2-1;for(let P=1;P<E;P+=1){const I=P/E*A,$=Math.floor(I),V=Math.ceil(I);C[P]=$===V?w[$]:(1-(I-$))*w[$]+(1-(V-I))*w[V],k[P]=$===V?-w[S-1-$]:-((1-(I-$))*w[S-1-$])-(1-(V-I))*w[S-1-V]}C[E]=S%2===1?w[E-1]:(w[E-2]+w[E-1])/2,c.curve=C,u.curve=k}b=w,g&&(r(b)&&m===null?m=n(i,d):m!==null&&(m(),m=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(w){c.oversample=w,u.oversample=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])}};s!==null&&(_.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==_.oversample&&(_.oversample=a);const v=()=>{d.connect(c).connect(f),d.connect(h).connect(u).connect(p).connect(f),g=!0,r(b)&&(m=n(i,d))},y=()=>{d.disconnect(c),c.disconnect(f),d.disconnect(h),h.disconnect(u),u.disconnect(p),p.disconnect(f),g=!1,m!==null&&(m(),m=null)};return o(sl(_,f),v,y)},Ln=()=>new DOMException("","NotSupportedError"),b9={numberOfChannels:1},v9=(n,e,t,r,o)=>class extends n{constructor(s,a,l){let c;if(typeof s=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:s,sampleRate:l};else if(typeof s=="object")c=s;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:d,sampleRate:h}={...b9,...c},f=r(d,u,h);e(Pc,()=>Pc(f))||f.addEventListener("statechange",(()=>{let p=0;const m=g=>{this._state==="running"&&(p>0?(f.removeEventListener("statechange",m),g.stopImmediatePropagation(),this._waitForThePromiseToSettle(g)):p+=1)};return m})()),super(f,d),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,lT(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}},y9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},_9=(n,e,t,r,o,i,s)=>class extends n{constructor(l,c){const u=o(l),d={...y9,...c},h=t(u,d),f=i(u),p=f?r():null,m=l.sampleRate/2;super(l,!1,h,p),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,m,-m),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?s(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){Na(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Ko(this)&&Vu(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},x9=(n,e,t,r,o)=>()=>{const i=new WeakMap;let s=null,a=null,l=null;const c=async(u,d)=>{let h=t(u);const f=Sn(h,d);if(!f){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:s===null?void 0:s,type:h.type};h=e(d,p),a!==null&&h.start(a),l!==null&&h.stop(l)}return i.set(d,h),f?(await n(d,u.detune,h.detune),await n(d,u.frequency,h.frequency)):(await r(d,u.detune,h.detune),await r(d,u.frequency,h.frequency)),await o(u,d,h),h};return{set periodicWave(u){s=u},set start(u){a=u},set stop(u){l=u},render(u,d){const h=i.get(d);return h!==void 0?Promise.resolve(h):c(u,d)}}},w9={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},C9=(n,e,t,r,o,i,s)=>class extends n{constructor(l,c){const u=o(l),d={...w9,...c},h=t(u,d),f=i(u),p=f?r():null;super(l,!1,h,p),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,In,Gn),this._orientationY=e(this,f,h.orientationY,In,Gn),this._orientationZ=e(this,f,h.orientationZ,In,Gn),this._positionX=e(this,f,h.positionX,In,Gn),this._positionY=e(this,f,h.positionY,In,Gn),this._positionZ=e(this,f,h.positionZ,In,Gn),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},S9=(n,e,t,r,o,i,s,a,l,c)=>()=>{const u=new WeakMap;let d=null;const h=async(f,p)=>{let m=null,g=i(f);const b={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},_={...b,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},v=Sn(g,p);if("bufferSize"in g)m=r(p,{...b,gain:1});else if(!v){const y={..._,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=o(p,y)}if(u.set(p,m===null?g:m),m!==null){if(d===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const P=new s(6,f.context.length,p.sampleRate),I=e(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(P.destination),d=(async()=>{const $=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(V,ee)=>{const F=t(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee===0?1:0});return await a(P,V,F.offset),F}));for(let V=0;V<6;V+=1)$[V].connect(I,0,V),$[V].start(0);return c(P)})()}const y=await d,w=r(p,{...b,gain:1});await l(f,p,w);const S=[];for(let P=0;P<y.numberOfChannels;P+=1)S.push(y.getChannelData(P));let C=[S[0][0],S[1][0],S[2][0]],k=[S[3][0],S[4][0],S[5][0]],E=r(p,{...b,gain:1}),A=o(p,{..._,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]});w.connect(E).connect(A.inputs[0]),A.connect(m);for(let P=128;P<y.length;P+=128){const I=[S[0][P],S[1][P],S[2][P]],$=[S[3][P],S[4][P],S[5][P]];if(I.some((V,ee)=>V!==C[ee])||$.some((V,ee)=>V!==k[ee])){C=I,k=$;const V=P/p.sampleRate;E.gain.setValueAtTime(0,V),E=r(p,{...b,gain:0}),A=o(p,{..._,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),E.gain.setValueAtTime(1,V),w.connect(E).connect(A.inputs[0]),A.connect(m)}}return m}return v?(await n(p,f.orientationX,g.orientationX),await n(p,f.orientationY,g.orientationY),await n(p,f.orientationZ,g.orientationZ),await n(p,f.positionX,g.positionX),await n(p,f.positionY,g.positionY),await n(p,f.positionZ,g.positionZ)):(await a(p,f.orientationX,g.orientationX),await a(p,f.orientationY,g.orientationY),await a(p,f.orientationZ,g.orientationZ),await a(p,f.positionX,g.positionX),await a(p,f.positionY,g.positionY),await a(p,f.positionZ,g.positionZ)),il(g)?await l(f,p,g.inputs[0]):await l(f,p,g),g};return{render(f,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):h(f,p)}}},T9={disableNormalization:!1},k9=(n,e,t,r)=>class vT{constructor(i,s){const a=e(i),l=r({...T9,...s}),c=n(a,l);return t.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===vT.prototype||t.has(i)}},E9=(n,e)=>(t,r,o)=>(n(r).replay(o),e(r,t,o)),A9=(n,e,t)=>async(r,o,i)=>{const s=n(r);await Promise.all(s.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const h=await e(c).render(c,o),f=r.context.destination;!t(c)&&(r!==f||!t(r))&&h.connect(i,u,l)})).reduce((a,l)=>[...a,...l],[]))},P9=(n,e,t)=>async(r,o,i)=>{const s=e(r);await Promise.all(Array.from(s.activeInputs).map(async([a,l])=>{const u=await n(a).render(a,o);t(a)||u.connect(i,l)}))},I9=(n,e,t,r)=>o=>n(Pc,()=>Pc(o))?Promise.resolve(n(r,r)).then(i=>{if(!i){const s=t(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const s=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()}),R9=n=>(e,t)=>{n.set(e,t)},B9=n=>(e,t)=>n.set(e,t),O9=(n,e,t,r,o,i,s,a)=>(l,c)=>t(l).render(l,c).then(()=>Promise.all(Array.from(r(c)).map(u=>t(u).render(u,c)))).then(()=>o(c)).then(u=>(typeof u.copyFromChannel!="function"?(s(u),lv(u)):e(i,()=>i(u))||a(u),n.add(u),u)),D9={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},M9=(n,e,t,r,o,i)=>class extends n{constructor(a,l){const c=o(a),u={...D9,...l},d=t(c,u),h=i(c),f=h?r():null;super(a,!1,d,f),this._pan=e(this,h,d.pan)}get pan(){return this._pan}},F9=(n,e,t,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=t(a);const u=Sn(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,d)}return i.set(l,c),u?await n(l,a.pan,c.pan):await r(l,a.pan,c.pan),il(c)?await o(a,l,c.inputs[0]):await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},L9=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},N9=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(t);let i=!1,s=!1;try{await r.audioWorklet.addModule(o);const a=new n(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(o)}return i&&!s},$9=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{t.oncomplete=()=>{r.disconnect(),o(t.currentTime!==0)},t.startRendering()})},U9=()=>new DOMException("","UnknownError"),G9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},V9=(n,e,t,r,o,i,s)=>class extends n{constructor(l,c){const u=o(l),d={...G9,...c},h=t(u,d),p=i(u)?r():null;super(l,!0,h,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},z9=(n,e,t)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Sn(a,s)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=n(s,c)}return r.set(s,a),il(a)?await t(i,s,a.inputs[0]):await t(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},H9=()=>typeof window>"u"?null:window,j9=(n,e)=>t=>{t.copyFromChannel=(r,o,i=0)=>{const s=n(i),a=n(o);if(a>=t.numberOfChannels)throw e();const l=t.length,c=t.getChannelData(a),u=r.length;for(let d=s<0?-s:0;d+s<l&&d<u;d+=1)r[d]=c[d+s]},t.copyToChannel=(r,o,i=0)=>{const s=n(i),a=n(o);if(a>=t.numberOfChannels)throw e();const l=t.length,c=t.getChannelData(a),u=r.length;for(let d=s<0?-s:0;d+s<l&&d<u;d+=1)c[d+s]=r[d]}},W9=n=>e=>{e.copyFromChannel=(t=>(r,o,i=0)=>{const s=n(i),a=n(o);if(s<e.length)return t.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(t=>(r,o,i=0)=>{const s=n(i),a=n(o);if(s<e.length)return t.call(e,r,a,s)})(e.copyToChannel)},K9=n=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),n(e,"buffer",o=>()=>{const i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))},X9=(n,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const o=t.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)o.connect(r,0,l)},()=>o.disconnect(r))},yT=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),_T=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},Ku=(n,e,t,r)=>{let o=n;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:i,set:s}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(n,e,{get:t(i),set:r(s)})},q9=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),Y9=n=>({...n,channelCount:n.numberOfOutputs}),Z9=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},xT=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;xT(n,e,t+1e-7)}},J9=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Q9=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},eF=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},fv=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},wT=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},pv=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},tF=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},nF=n=>{n.start=(e=>(t=0,r=0,o)=>{const i=n.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,s,o)})(n.start)},CT=(n,e)=>{const t=e.createGain();n.connect(t);const r=(o=>()=>{o.call(n,t),n.removeEventListener("ended",r)})(n.disconnect);n.addEventListener("ended",r),sl(n,t),n.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(n,s)}catch{t.gain.setValueAtTime(0,s)}else o.call(n,s),i=!0}})(n.stop)},al=(n,e)=>t=>{const r={value:n};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},rF=CD(Ms),oF=PD(Ms),iF=GM(ep),ST=new WeakMap,sF=i7(ST),Yr=bM(new Map,new WeakMap),xo=H9(),TT=M7(Yr,To),mv=o7(Dn),gn=A9(Dn,mv,Ss),aF=DD(TT,yt,gn),mt=l7(Qf),si=l9(xo),at=T7(si),kT=new WeakMap,ET=ZM(al),Xu=$7(xo),gv=x7(Xu),bv=w7(xo),AT=C7(xo),Ic=G7(xo),zt=iM(SD(tT),AD(rF,oF,qh,iF,Yh,Dn,sF,Gu,yt,Ms,Ko,Ss,yh),Yr,g7(Hg,Yh,Dn,yt,Ac,Ko),To,tp,Ln,LM(qh,Hg,Dn,yt,Ac,mt,Ko,at),HM(kT,Dn,Wr),ET,mt,gv,bv,AT,at,Ic),lF=OD(zt,aF,To,TT,mt,at),vv=new WeakSet,Wx=F7(xo),PT=IM(new Uint32Array(1)),yv=j9(PT,To),_v=W9(PT),IT=FD(vv,Yr,Ln,Wx,si,L9(Wx),yv,_v),np=ID(Xn),RT=P9(mv,zu,Ss),ko=SM(RT),ll=N7(np,Yr,J9,Q9,eF,fv,wT,pv,nF,K9(Ku),CT),Eo=E9(s7(zu),RT),cF=$D(ko,ll,yt,Eo,gn),Zr=sM(TD(nT),kT,av,aM,bD,vD,yD,_D,xD,Gg,Q3,Xu,xT),uF=ND(zt,cF,Zr,ln,ll,mt,at,al),dF=XD(zt,qD,To,ln,U7(Xn,Ku),mt,at,gn),hF=gM(ko,gT,yt,Eo,gn),Fs=B9(ST),fF=mM(zt,Zr,hF,tp,gT,mt,at,Fs),Xi=O7(Ms,bv),pF=X9(ln,Xi),qi=X7(Xu,pF),mF=_M(qi,yt,gn),gF=yM(zt,mF,qi,mt,at),bF=CM(ju,yt,gn),vF=wM(zt,bF,ju,mt,at,Y9),yF=Z7(np,ll,Xn,Xi),cl=Y7(np,Yr,yF,fv,pv),_F=PM(ko,cl,yt,Eo,gn),xF=AM(zt,Zr,_F,cl,mt,at,al),BT=J7(Ln,Ku),wF=OM(BT,yt,gn),CF=BM(zt,wF,BT,mt,at,Fs),SF=UM(ko,bT,yt,Eo,gn),TF=$M(zt,Zr,SF,bT,mt,at,Fs),OT=Q7(Ln),kF=XM(ko,OT,yt,Eo,gn),EF=KM(zt,Zr,kF,OT,Ln,mt,at,Fs),AF=n7(ko,Xn,yt,Eo,gn),PF=t7(zt,Zr,AF,Xn,mt,at),IF=r9(tp,ln,Wu,Ln),rp=I9(Yr,Xn,Wu,$9(Xn,si)),RF=m7(ll,yt,si,gn,rp),BF=e9(IF),OF=f7(zt,BF,RF,mt,at,Fs),DF=YD(Zr,qi,cl,Wu,Ln,yT,at,Ku),DT=new WeakMap,MF=B7(dF,DF,ET,at,DT,al),MT=c9(np,Yr,fv,wT,pv,CT),FF=x9(ko,MT,yt,Eo,gn),LF=_9(zt,Zr,MT,FF,mt,at,al),FT=kM(ll),NF=g9(FT,ln,Xn,_T,Xi),op=m9(FT,ln,NF,_T,Xi,Xu,Ku),$F=d9(qh,ln,qi,Xn,Wu,op,Ln,Yh,yT,Xi),LT=u9($F),UF=S9(ko,qi,cl,Xn,LT,yt,si,Eo,gn,rp),GF=C9(zt,Zr,LT,UF,mt,at,Fs),VF=h9(To),zF=k9(VF,mt,new WeakSet,Z9),HF=p9(qi,ju,Xn,op,Ln,Xi),NT=f9(HF,Ln),jF=F9(ko,NT,yt,Eo,gn),WF=M9(zt,Zr,NT,jF,mt,at),KF=z9(op,yt,gn),XF=V9(zt,ln,op,KF,mt,at,Fs),$T=k7(xo),xv=JM(xo),UT=new WeakMap,qF=c7(UT,si),YF=$T?ED(Yr,Ln,YM(xo),xv,QM(wD),mt,qF,at,Ic,new WeakMap,new WeakMap,N9(Ic,si),xo):void 0,ZF=S7(gv,at),JF=FM(vv,Yr,MM,qM,new WeakSet,mt,ZF,Kh,Pc,yv,_v),GT=fM(YF,lF,IT,uF,fF,gF,vF,xF,CF,JF,TF,EF,PF,OF,MF,LF,GF,zF,WF,XF),QF=E7(zt,o9,mt,at),eL=P7(zt,i9,mt,at),tL=I7(zt,s9,mt,at),nL=a9(ln,at),rL=R7(zt,nL,mt),oL=KD(GT,ln,Ln,U9,QF,eL,tL,rL,Xu),wv=u7(DT),iL=RD(wv),VT=TM(To),sL=VM(wv),zT=jM(To),HT=new WeakMap,aL=r7(HT,Wr),lL=K7(VT,To,ln,qi,ju,cl,Xn,Wu,Ln,zT,xv,aL,Xi),cL=z7(ln,lL,Xn,Ln,Xi),uL=hM(ko,VT,ll,qi,ju,cl,Xn,sL,zT,xv,yt,Ic,si,Eo,gn,rp),dL=a7(UT),hL=R9(HT),Kx=$T?cM(iL,zt,Zr,uL,cL,Dn,dL,mt,at,Ic,q9,hL,tF,al):void 0,fL=DM(Ln,si),pL=O9(vv,Yr,mv,wv,rp,Kh,yv,_v),mL=v9(GT,Yr,ln,fL,pL),gL=b7(Qf,gv),bL=v7(sv,bv),vL=y7(av,AT),yL=_7(Qf,at);function hr(n){return n===void 0}function Fe(n){return n!==void 0}function _L(n){return typeof n=="function"}function wo(n){return typeof n=="number"}function Fi(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function jT(n){return typeof n=="boolean"}function Ar(n){return Array.isArray(n)}function Yo(n){return typeof n=="string"}function Rd(n){return Yo(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function De(n,e){if(!n)throw new Error(e)}function Vi(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function WT(n){!n.isOffline&&n.state!=="running"&&Cv('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let KT=!1,Xx=!1;function qx(n){KT=n}function xL(n){hr(n)&&KT&&!Xx&&(Xx=!0,Cv("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let XT=console;function wL(...n){XT.log(...n)}function Cv(...n){XT.warn(...n)}function CL(n){return new oL(n)}function SL(n,e,t){return new mL(n,e,t)}const ar=typeof self=="object"?self:null,TL=ar&&(ar.hasOwnProperty("AudioContext")||ar.hasOwnProperty("webkitAudioContext"));function kL(n,e,t){return De(Fe(Kx),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(ar==null?void 0:ar.BaseAudioContext)?ar==null?void 0:ar.AudioWorkletNode:Kx)(n,e,t)}function Jr(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function qt(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}let EL=class{constructor(e,t,r,o){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}};function Ts(n){return vL(n)}function Li(n){return bL(n)}function _h(n){return yL(n)}function ia(n){return gL(n)}function AL(n){return n instanceof IT}function PL(n,e){return n==="value"||Ts(e)||Li(e)||AL(e)}function Sa(n,...e){if(!e.length)return n;const t=e.shift();if(Fi(n)&&Fi(t))for(const r in t)PL(r,t[r])?n[r]=t[r]:Fi(t[r])?(n[r]||Object.assign(n,{[r]:{}}),Sa(n[r],t[r])):Object.assign(n,{[r]:t[r]});return Sa(n,...e)}function IL(n,e){return n.length===e.length&&n.every((t,r)=>e[r]===t)}function Re(n,e,t=[],r){const o={},i=Array.from(e);if(Fi(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(n,a))||(Sa(o,{[r]:i[0]}),t.splice(t.indexOf(r),1),i.shift())),i.length===1&&Fi(i[0]))Sa(o,i[0]);else for(let s=0;s<t.length;s++)Fe(i[s])&&(o[t[s]]=i[s]);return Sa(n,o)}function RL(n){return n.constructor.getDefaults()}function po(n,e){return hr(n)?e:n}function Yx(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class ai{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ar&&this.toString()===ar.TONE_DEBUG_CLASS)&&wL(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ai.version=J3;const Sv=1e-6;function $a(n,e){return n>e+Sv}function qg(n,e){return $a(n,e)||Lr(n,e)}function ef(n,e){return n+Sv<e}function Lr(n,e){return Math.abs(n-e)<Sv}function BL(n,e,t){return Math.max(Math.min(n,t),e)}class Pr extends ai{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Re(Pr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(De(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];De(qg(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Lr(this._timeline[t].time,e)){for(let r=t;r>=0&&Lr(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&qg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let i=o;if(o>0&&this._timeline[o-1][t]<=e)return o-1;for(;r<i;){let s=Math.floor(r+(i-r)/2);const a=this._timeline[s],l=this._timeline[s+1];if(Lr(a[t],e)){for(let c=s;c<this._timeline.length;c++){const u=this._timeline[c];if(Lr(u[t],e))s=c;else break}return s}else{if(ef(a[t],e)&&$a(l[t],e))return s;$a(a[t],e)?i=s:r=s+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let o=this._search(e),i=this._search(t);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===t&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Lr(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&Lr(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{t(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const qT=[];function ip(n){qT.push(n)}function OL(n){qT.forEach(e=>e(n))}const YT=[];function sp(n){YT.push(n)}function DL(n){YT.forEach(e=>e(n))}class qu extends ai{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(o=>{hr(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(t)}),this}once(e,t){const r=(...o)=>{t(...o),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(o=>{if(hr(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(hr(t))this._events[o]=[];else{const i=this._events[o];for(let s=i.length-1;s>=0;s--)i[s]===t&&i.splice(s,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(qu.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class ZT extends qu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Yu extends ZT{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Pr,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Re(Yu.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=CL({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new EL(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(OL(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return De(ia(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return De(ia(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return De(ia(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){De(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){De(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){De(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){De(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return kL(this.rawContext,e,t)}addAudioWorkletModule(e){return qt(this,void 0,void 0,function*(){De(Fe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return qt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ia(this._context)?this._context.resume():Promise.resolve()}close(){return qt(this,void 0,void 0,function*(){ia(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&DL(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=t,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,o=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+t})};return o(),r}}class ML extends ZT{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return qt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Dt(n,e){Ar(e)?e.forEach(t=>Dt(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function JT(n,e){Ar(e)?e.forEach(t=>JT(n,t)):Object.defineProperty(n,e,{writable:!0})}const rt=()=>{};class ft extends ai{constructor(){super(),this.name="ToneAudioBuffer",this.onload=rt;const e=Re(ft.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Yo(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:rt,onload:rt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ur().sampleRate}set(e){return e instanceof ft?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return qt(this,void 0,void 0,function*(){const t=ft.load(e).then(r=>{this.set(r),this.onload(this)});ft.downloads.push(t);try{yield t}finally{const r=ft.downloads.indexOf(t);ft.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ar(e)&&e[0].length>0,r=t?e.length:1,o=t?e[0].length:e.length,i=ur(),s=i.createBuffer(r,o,i.sampleRate),a=!t&&r===1?[e]:e;for(let l=0;l<r;l++)s.copyToChannel(a[l],l);return this._buffer=s,this}toMono(e){if(wo(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const i=this.toArray(o);for(let s=0;s<i.length;s++)t[s]+=i[s]}t=t.map(o=>o/r),this.fromArray(t)}return this}toArray(e){if(wo(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){De(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),o=Math.floor(t*this.sampleRate);De(r<o,"The start time must be less than the end time");const i=o-r,s=ur().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)s.copyToChannel(this.getChannelData(a).subarray(r,o),a);return new ft(s)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ft().fromArray(e)}static fromUrl(e){return qt(this,void 0,void 0,function*(){return yield new ft().load(e)})}static load(e){return qt(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const l=t[1].split("|");let c=l[0];for(const u of l)if(ft.supportsType(u)){c=u;break}e=e.replace(t[0],c)}const r=ft.baseUrl===""||ft.baseUrl.endsWith("/")?ft.baseUrl:ft.baseUrl+"/",o=document.createElement("a");o.href=r+e,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(o.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const s=yield i.arrayBuffer();return yield ur().decodeAudioData(s)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return qt(this,void 0,void 0,function*(){for(yield Promise.resolve();ft.downloads.length;)yield ft.downloads[0]})}}ft.baseUrl="";ft.downloads=[];class Tv extends Yu{constructor(){super({clockSource:"offline",context:_h(arguments[0])?arguments[0]:SL(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:_h(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=_h(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return qt(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return qt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new ft(t)})}close(){return Promise.resolve()}}const QT=new ML;let fs=QT;function ur(){return fs===QT&&TL&&FL(new Yu),fs}function FL(n,e=!1){e&&fs.dispose(),ia(n)?fs=new Yu(n):_h(n)?fs=new Tv(n):fs=n}function LL(){return fs.resume()}if(ar&&!ar.TONE_SILENCE_LOGGING){const e=` * Tone.js v${J3} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function NL(n){return Math.pow(10,n/20)}function $L(n){return 20*(Math.log(n)/Math.LN10)}function ek(n){return Math.pow(2,n/12)}let ap=440;function UL(){return ap}function GL(n){ap=n}function Yg(n){return Math.round(tk(n))}function tk(n){return 69+12*Math.log2(n/ap)}function VL(n){return ap*Math.pow(2,(n-69)/12)}class kv extends ai{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),o=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof kv&&this.fromType(this._val),hr(this._val))return this._noArg();if(Yo(this._val)&&hr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Fi(this._val)){let e=0;for(const t in this._val)if(Fe(this._val[t])){const r=this._val[t],o=new this.constructor(this.context,t).valueOf()*r;e+=o}return e}if(Fe(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Yo(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Sr extends kv{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Sr(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),a=Math.round(o/r)*r-o;return o+a*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let i=1;i<9;i++){const s=Math.pow(2,i);t.push(s+"n."),t.push(s+"n"),t.push(s+"t")}t.push("0");let r=t[0],o=new Sr(this.context,t[0]).toSeconds();return t.forEach(i=>{const s=new Sr(this.context,i).toSeconds();Math.abs(s-e)<Math.abs(o-e)&&(r=i,o=s)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let o=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,t,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Yg(this.toFrequency())}_now(){return this.context.now()}}function Zx(n,e){return new Sr(ur(),n,e)}class Tr extends Sr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return UL()}static set A4(e){GL(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Tr.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const o=zL[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?o:Tr.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new Tr(this.context,this.valueOf()*ek(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Yg(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Tr.A4);let r=Math.round(12*t)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),HL[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return VL(e)}static ftom(e){return Yg(e)}}const zL={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},HL=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ta extends Sr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class wn extends ai{constructor(){super();const e=Re(wn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:ur()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return xL(e),new Sr(this.context,e).toSeconds()}toFrequency(e){return new Tr(this.context,e).toFrequency()}toTicks(e){return new Ta(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{hr(e[r])&&delete t[r]}),t}get(){const e=RL(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];Fe(r)&&Fe(r.value)&&Fe(r.setValueAtTime)?e[t]=r.value:r instanceof wn?e[t]=r._getPartialProperties(e[t]):Ar(r)||wo(r)||Yo(r)||jT(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Fe(this[t])&&(this[t]&&Fe(this[t].value)&&Fe(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof wn?this[t].set(e[t]):this[t]=e[t])}),this}}class Zu extends Pr{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return Vi(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let o=r;o>=0;o--){const i=this._timeline[o];if(i.state===e)return i}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const i=this._timeline[o];if(i.state===e)return i}}}class kt extends wn{constructor(){const e=Re(kt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,De(Fe(e.param)&&(Ts(e.param)||e.param instanceof kt),"param must be an AudioParam");!Ts(e.param);)e.param=e.param._param;this._swappable=Fe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Pr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Fe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(wn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Fe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Fe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Fe(this.maxValue)&&Fe(this.minValue)&&Vi(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?NL(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?$L(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),o=this._fromType(e);return De(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),o=this._events.get(t);let i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const s=this._events.getBefore(o.time);let a;s===null?a=this._initialValue:a=s.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,a,o.value,o.constant,t))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=o.value;if(o.type==="setTargetAtTime"){const a=this._events.getBefore(o.time);a===null?s=this._initialValue:s=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,s,r.time,r.value,t):i=this._exponentialInterpolate(o.time,s,r.time,r.value,t)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),o=this.toSeconds(t);return De(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Lr(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(t);return De(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,o),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const o=this._fromType(e);De(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(o),De(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,t,r,o=1){r=this.toSeconds(r),t=this.toSeconds(t);const i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),t);const s=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*o;this.linearRampToValueAtTime(this._toType(l),t+a*s)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return De(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));De(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const o=this._events.get(t),i=this._events.getAfter(t);return o&&Lr(o.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),i=o?o.time:t+2,s=(i-t)/10;for(let a=t;a<i;a+=s)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){De(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,o,i){return r+(t-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,t,r,o,i){return t+(o-t)*((i-e)/(r-e))}_exponentialInterpolate(e,t,r,o,i){return t*Math.pow(o/t,(i-e)/(r-e))}}class $e extends wn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Fe(this.input)?Ts(this.input)||this.input instanceof kt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Fe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Fe(e)&&(e instanceof $e||Li(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();De(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return ul(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Cv("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return jL(this,e,t,r),this}chain(...e){return Zg(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Fe(this.input)&&(this.input instanceof $e?this.input.dispose():Li(this.input)&&this.input.disconnect()),Fe(this.output)&&(this.output instanceof $e?this.output.dispose():Li(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Zg(...n){const e=n.shift();n.reduce((t,r)=>(t instanceof $e?t.connect(r):Li(t)&&ul(t,r),r),e)}function ul(n,e,t=0,r=0){for(De(Fe(n),"Cannot connect from undefined node"),De(Fe(e),"Cannot connect to undefined node"),(e instanceof $e||Li(e))&&De(e.numberOfInputs>0,"Cannot connect to node with no inputs"),De(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof $e||e instanceof kt;)Fe(e.input)&&(e=e.input);for(;n instanceof $e;)Fe(n.output)&&(n=n.output);Ts(e)?n.connect(e,t):n.connect(e,t,r)}function jL(n,e,t=0,r=0){if(Fe(e))for(;e instanceof $e;)e=e.input;for(;!Li(n);)Fe(n.output)&&(n=n.output);Ts(e)?n.disconnect(e,t):Li(e)?n.disconnect(e,t,r):n.disconnect()}class Cn extends $e{constructor(){const e=Re(Cn.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new kt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Dt(this,"gain")}static getDefaults(){return Object.assign($e.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ua extends $e{constructor(e){super(e),this.onended=rt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Cn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign($e.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:rt})}_startGain(e,t=1){De(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){De(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==rt&&(this.onended(this),this.onended=rt,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),De(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=rt,this}}class Ev extends Ua{constructor(){const e=Re(Ev.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ul(this._source,this._gainNode),this.offset=new kt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ua.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class cn extends $e{constructor(){const e=Re(cn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ev({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($e.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Av(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,o){return this._param.setValueCurveAtTime(e,t,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Av(n,e,t,r){(e instanceof kt||Ts(e)||e instanceof cn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof cn&&(e.overridden=!0)),ul(n,e,t,r)}class Pv extends kt{constructor(){const e=Re(Pv.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Pr(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(kt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const o=this._fromType(e),i=this._events.get(t),s=Math.round(Math.max(1/r,1));for(let a=0;a<=s;a++){const l=r*a+t,c=this._exponentialApproach(i.time,i.value,o,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),o=this._events.get(t),i=Math.round(Math.max((t-o.time)*10,1)),s=(t-o.time)/i;for(let a=0;a<=i;a++){const l=s*a+o.time,c=this._exponentialInterpolate(o.time,o.value,t,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(hr(e.ticks)){const s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+o)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),o=this.getTicksAtTime(t);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const o=this._fromType(this.getValueAtTime(t.time)),s=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-t.time),a=Math.sqrt(Math.pow(o,2)-2*s*(t.ticks-e)),l=(-o+a)/s,c=(-o-a)/s;return(l>0?l:c)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Iv extends cn{constructor(){const e=Re(Iv.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Pv({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(cn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Rv extends wn{constructor(){const e=Re(Rv.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Zu,this._tickOffset=new Pr,this._ticksAtTime=new Pr,this._secondsAtTime=new Pr,this.frequency=new Iv({context:this.context,units:e.units,value:e.frequency}),Dt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},wn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Fe(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),o=this._ticksAtTime.get(t),i={state:"paused",time:t};this._state.add(i);let s=o||r,a=o?o.ticks:0,l=null;return this._state.forEachBetween(s.time,t+this.sampleTime,c=>{let u=s.time;const d=this._tickOffset.get(c.time);d&&d.time>=s.time&&(a=d.ticks,u=d.time),s.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),s=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const o=this._secondsAtTime.get(e);let i=o||t,s=o?o.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const u=this._tickOffset.get(l.time);u&&u.time>=i.time&&(s=u.seconds,c=u.time),i.state==="started"&&l.state!=="started"&&(s+=l.time-c,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:s})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),s}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),o=this._state.get(t),i=Math.max(r.time,o.time),s=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,t,r){let o=this._state.get(e);this._state.forEachBetween(e,t,s=>{o&&o.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),s.time-this.sampleTime,r),o=s});let i=null;if(o&&o.state==="started"){const s=Math.max(o.time,e),a=this.frequency.getTicksAtTime(s),l=this.frequency.getTicksAtTime(o.time),c=a-l;let u=Math.ceil(c)-c;u=Lr(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<t;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class lp extends wn{constructor(){const e=Re(lp.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=rt,this._lastUpdate=0,this._state=new Zu("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Rv({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Dt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(wn.getDefaults(),{callback:rt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){WT(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}qu.mixin(lp);class dl extends $e{constructor(){const e=Re(dl.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Cn({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Dt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign($e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Bv extends $e{constructor(){const e=Re(Bv.getDefaults(),arguments);super(e),this.name="Destination",this.input=new dl({context:this.context}),this.output=new Cn({context:this.context}),this.volume=this.input.volume,Zg(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Zg(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ip(n=>{n.destination=new Bv({context:n})});sp(n=>{n.destination.dispose()});class WL extends $e{constructor(){super(...arguments),this.name="Listener",this.positionX=new kt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new kt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new kt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new kt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new kt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new kt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new kt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new kt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new kt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($e.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ip(n=>{n.listener=new WL({context:n})});sp(n=>{n.listener.dispose()});class Ov extends ai{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Re(Ov.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:rt,onload:rt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return De(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=rt,o=rt){return Yo(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ft(this.baseUrl+t,r,o))):this._buffers.set(e.toString(),new ft(t,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Jt extends Ta{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class KL extends wn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Pr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ip(n=>{n.draw=new KL({context:n})});sp(n=>{n.draw.dispose()});class XL extends ai{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){De(Fe(e.time),"Events must have a time property"),De(Fe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new qL(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,o=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),t!==null?r?t.left=o:t.right=o:this._setRoot(o)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),t!==null?r?t.left=o:t.right=o:this._setRoot(o)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let o=1;o<t.length;o++)t[o].low>r.low&&(r=t[o]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(o=>{o.event&&t(o.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&t(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class qL{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class YL extends ai{constructor(e){super(),this.name="TimelineValue",this._timeline=new Pr({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ga extends $e{constructor(){super(Re(Ga.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Av(this,e,t,r),this}}class Ju extends Ga{constructor(){const e=Re(Ju.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ar(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):_L(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(cn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let o=0,i=t;o<i;o++){const s=o/(i-1)*2-1;r[o]=e(s,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));De(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Dv extends Ga{constructor(){const e=Re(Dv.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Ju({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ga.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class zi{constructor(e,t){this.id=zi._eventId++,this._remainderTime=0;const r=Object.assign(zi.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:rt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}zi._eventId=0;class Mv extends zi{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Mv.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},zi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return ef(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Jt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){ef(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Jt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);$a(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class cp extends wn{constructor(){const e=Re(cp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new YL(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Pr,this._repeatedEvents=new XL,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new lp({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Dt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(wn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new Jt(this.context,this._swingTicks*2/3).toSeconds()*o}qx(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),qx(!1)}schedule(e,t){const r=new zi(this,{callback:e,time:new Ta(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,o=1/0){const i=new Mv(this,{callback:e,duration:new Sr(this.context,o).toTicks(),interval:new Sr(this.context,t).toTicks(),time:new Ta(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const r=new zi(this,{callback:e,once:!0,time:new Ta(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new Jt(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return Fe(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ar(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Sr(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Sr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Jt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Jt(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),i=t+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),o=e-r%e;return this._clock.nextTickTime(o,t)}}syncSignal(e,t){const r=this.now();let o=this.bpm,i=1/(60/o.getValueAtTime(r)/this.PPQ),s=[];if(e.units==="time"){const l=.015625/i,c=new Cn(l),u=new Dv(-1),d=new Cn(l);o.chain(c,u,d),o=d,i=1/i,s=[c,u,d]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/i:t=0);const a=new Cn(t);return o.connect(a),a.connect(e._param),s.push(a),this._syncedSignals.push({initial:e.value,nodes:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),JT(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}qu.mixin(cp);ip(n=>{n.transport=new cp({context:n})});sp(n=>{n.transport.dispose()});class fr extends $e{constructor(e){super(e),this.input=void 0,this._state=new Zu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=rt,this._syncedStop=rt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new dl({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Dt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign($e.getDefaults(),{mute:!1,onstop:rt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let o=hr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")De($a(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,t,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const i=this._state.get(o);i&&(i.offset=this.toSeconds(po(t,0)),i.duration=r?this.toSeconds(r):void 0);const s=this.context.transport.schedule(a=>{this._start(a,t,r)},o);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else WT(this.context),this._start(o,t,r);return this}stop(e){let t=hr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Fe(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if($a(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const o=t-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=rt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class up extends Ua{constructor(){const e=Re(up.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ul(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new kt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ft(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ua.getDefaults(),{url:new ft,loop:!1,loopEnd:0,loopStart:0,onload:rt,onerror:rt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,o=1){De(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,o),this.loop?t=po(t,this.loopStart):t=po(t,0);let s=Math.max(this.toSeconds(t),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;qg(s,a)&&(s=(s-l)%c+l),Lr(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ef(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),Fe(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ls(n,e){return qt(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,r=new Tv(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Fv extends Ua{constructor(){const e=Re(Fv.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ul(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new kt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new kt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Dt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ua.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Xt extends fr{constructor(){const e=Re(Xt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new cn({context:this.context,units:"frequency",value:e.frequency}),Dt(this,"frequency"),this.detune=new cn({context:this.context,units:"cents",value:e.detune}),Dt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(fr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Fv({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Xt._periodicWaveCache.find(t=>t.phase===this._phase&&IL(t.partials,this._partials));{const e=Xt._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Fe(r)){const{partials:o,wave:i}=r;this._wave=i,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,i]=this._getRealImaginary(e,this._phase),s=this.context.createPeriodicWave(o,i);this._wave=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Xt._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Xt._periodicWaveCache.length>100&&Xt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Vi(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const o=new Float32Array(e);this._partials.forEach((i,s)=>o[s]=i),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,t){let o=2048;const i=new Float32Array(o),s=new Float32Array(o);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,o=a,this._partials.length===0)return[i,s]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),o=a):this._partialCount=0,this._partials=[]}for(let l=1;l<o;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[l]=-u*Math.sin(t*l),s[l]=u*Math.cos(t*l)):(i[l]=0,s[l]=0)}return[i,s]}_inverseFFT(e,t,r){let o=0;const i=e.length;for(let s=0;s<i;s++)o+=e[s]*Math.cos(s*r)+t[s]*Math.sin(s*r);return o}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,i=32;for(let s=0;s<i;s++)r=Math.max(this._inverseFFT(e,t,s/i*o),r);return BL(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Xt._periodicWaveCache=[];class ZL extends Ga{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ju({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Va extends cn{constructor(){const e=Re(Va.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Cn({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(cn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class dp extends fr{constructor(){const e=Re(dp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new ZL({context:this.context}),this._modulationNode=new Cn({context:this.context}),this._carrier=new Xt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Xt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Va({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Dt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class hp extends fr{constructor(){const e=Re(hp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Cn({context:this.context,gain:0}),this._carrier=new Xt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new cn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Xt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Va({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Va({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Dt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Qu extends fr{constructor(){const e=Re(Qu.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Cn({context:this.context,gain:0}),this._thresh=new Ju({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new cn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Xt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Dt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(fr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class fp extends fr{constructor(){const e=Re(fp.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new cn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new cn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Dt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=t+r*i)}}get count(){return this._oscillators.length}set count(e){if(Vi(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new Xt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):rt});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class pp extends fr{constructor(){const e=Re(pp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Va({context:this.context,value:2}),this._pulse=new Qu({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Xt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Dt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(fr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Jx={am:dp,fat:fp,fm:hp,oscillator:Xt,pulse:Qu,pwm:pp};class tf extends fr{constructor(){const e=Re(tf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new cn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new cn({context:this.context,units:"cents",value:e.detune}),Dt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Xt.getDefaults(),hp.getDefaults(),dp.getDefaults(),fp.getDefaults(),Qu.getDefaults(),pp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Jx[e],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Jx[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&wo(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&wo(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Yo(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function nk(n,e=1/0){const t=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){Vi(i,n,e),t.set(this,i)}})}}function li(n,e=1/0){const t=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){Vi(this.toSeconds(i),n,e),t.set(this,i)}})}}class mp extends fr{constructor(){const e=Re(mp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ft({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(fr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:rt,onerror:rt,playbackRate:1,reverse:!1})}load(e){return qt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=rt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=po(t,this._loopStart):t=po(t,0);const o=this.toSeconds(t),i=r;r=po(r,Math.max(this._buffer.duration-o,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);const a=new up({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&hr(i)?a.start(e,o):a.start(e,o,s-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Vi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Vi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Jr([li(0)],mp.prototype,"fadeIn",void 0);Jr([li(0)],mp.prototype,"fadeOut",void 0);class Yi extends $e{constructor(){const e=Re(Yi.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new cn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign($e.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Yo(e))return e;{let r;for(r in Bd)if(Bd[r][t]===e)return r;return e}}_setCurve(e,t,r){if(Yo(r)&&Reflect.has(Bd,r)){const o=Bd[r];Fi(o)?e!=="_decayCurve"&&(this[e]=o[t]):this[e]=o}else if(Ar(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){const a=1/o;o=(1-s)/a}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,o,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=s&&s<=a[l]){a=this._attackCurve.slice(l),a[0]=s;break}this._sig.setValueCurveAtTime(a,e,o,t)}if(i&&this.sustain<1){const a=t*this.sustain,l=e+o;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(De(Ar(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Av(this,e,t,r),this}asArray(){return qt(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new Tv(1,t,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),s=i*.1,a=i+s,l=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(t*(o+s)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Jr([li(0)],Yi.prototype,"attack",void 0);Jr([li(0)],Yi.prototype,"decay",void 0);Jr([nk(0,1)],Yi.prototype,"sustain",void 0);Jr([li(0)],Yi.prototype,"release",void 0);const Bd=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const o=[],i=6.4;for(e=0;e<127;e++){t=e/127;const h=Math.sin(t*(Math.PI*2)*i-Math.PI/2)+1;o[e]=h/10+t*.83}o[127]=1;const s=[],a=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)t=e/127,l[e]=.5*(1-Math.cos(Math.PI*t));const c=[];for(e=0;e<128;e++){t=e/127;const h=Math.pow(t,3)*4+.2,f=Math.cos(h*Math.PI*2*t);c[e]=Math.abs(f*(1-t))}function u(h){const f=new Array(h.length);for(let p=0;p<h.length;p++)f[p]=1-h[p];return f}function d(h){return h.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:u(o)},sine:{In:l,Out:u(l)},step:{In:s,Out:u(s)}}})();let nf=class rk extends $e{constructor(){const e=Re(rk.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new dl({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Dt(this,"volume")}static getDefaults(){return Object.assign($e.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...o)=>{const i=o[t],s=this.context.transport.schedule(a=>{o[t]=a,r.apply(this,o)},i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,o){const i=this.toSeconds(r),s=this.toSeconds(t);return this.triggerAttack(e,i,o),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class za extends nf{constructor(){const e=Re(za.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(nf.getDefaults(),{detune:0,onsilence:rt,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const o=this.toSeconds(t);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),o=e instanceof Tr?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}}Jr([li(0)],za.prototype,"portamento",void 0);class Lv extends Yi{constructor(){super(Re(Lv.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Cn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class rf extends za{constructor(){const e=Re(rf.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new tf(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Lv(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Dt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(za.getDefaults(),{envelope:Object.assign(Yx(Yi.getDefaults(),Object.keys($e.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Yx(tf.getDefaults(),[...Object.keys(fr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class gp extends rf{constructor(){const e=Re(gp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Dt(this,["oscillator","envelope"])}static getDefaults(){return Sa(za.getDefaults(),rf.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),o=this.toFrequency(e instanceof Tr?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Jr([nk(0)],gp.prototype,"octaves",void 0);Jr([li(0)],gp.prototype,"pitchDecay",void 0);const ok=new Set;function Nv(n){ok.add(n)}function ik(n,e){const t=`registerProcessor("${n}", ${e})`;ok.add(t)}const JL=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Nv(JL);const QL=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Nv(QL);const eN=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Nv(eN);const tN="feedback-comb-filter",nN=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ik(tN,nN);class ed extends nf{constructor(){const e=Re(ed.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const o=parseInt(r,10);if(De(Rd(r)||wo(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),Rd(r)){const i=new Tr(this.context,r).toMidi();t[i]=e.urls[r]}else wo(o)&&isFinite(o)&&(t[o]=e.urls[o])}),this._buffers=new Ov({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(nf.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:rt,onerror:rt,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{const i=tk(new Tr(this.context,o).toFrequency()),s=Math.round(i),a=i-s,l=this._findClosest(s),c=s-l,u=this._buffers.get(c),d=ek(l+a),h=new up({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(t,0,u.duration/d,r),Ar(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){const f=this._activeSources.get(s),p=f.indexOf(h);p!==-1&&f.splice(p,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const o=new Tr(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const i=this._activeSources.get(o);t=this.toSeconds(t),i.forEach(s=>{s.stop(t)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,o=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,o),Ar(t)?(De(Ar(e),"notes must be an array when duration is array"),e.forEach((s,a)=>{const l=t[Math.min(a,t.length-1)];this.triggerRelease(s,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,r){if(De(Rd(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Rd(e)){const o=new Tr(this.context,e).toMidi();this._buffers.add(o,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Jr([li(0)],ed.prototype,"attack",void 0);Jr([li(0)],ed.prototype,"release",void 0);class da extends wn{constructor(){const e=Re(da.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Zu("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(wn.getDefaults(),{callback:rt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,t=>{let r;if(t.state==="started"){t.id!==-1&&this.context.transport.clear(t.id);const o=t.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||wo(this._loop)&&this._loop>1){r=1/0,wo(this._loop)&&(r=this._loop*this._getLoopDuration());const i=this._state.getAfter(o);i!==null&&(r=Math.min(r,i.time-o)),r!==1/0&&(r=new Jt(this.context,r));const s=new Jt(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),s,new Jt(this.context,o),r)}else t.id=this.context.transport.schedule(this._tick.bind(this),new Jt(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return this._state.getValueAtTime(t)==="stopped"&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if(this._state.getValueAtTime(t)==="started"){this._state.setStateAtTime("stopped",t,{id:-1});const r=this._state.getBefore(t);let o=t;r!==null&&(o=r.time),this._rescheduleEvents(o)}return this}cancel(e){e=po(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,r=>{this.context.transport.clear(r.id)}),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(t)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;jT(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Jt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Jt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(t!==null&&t.state==="started"){const r=this._getLoopDuration();return(e-t.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class of extends da{constructor(){const e=Re(of.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Zu("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(t=>{Ar(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(da.getDefaults(),{events:[]})}start(e,t){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){t=po(t,this._loop?this._loopStart:0),this._loop?t=po(t,this._loopStart):t=po(t,0);const o=this.toTicks(t);this._state.add({id:-1,offset:o,state:"started",time:r}),this._forEach(i=>{this._startNote(i,r,o)})}return this}_startNote(e,t,r){t-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(t+=this._getLoopDuration()),e.start(new Jt(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new Jt(this.context,t))):e.startOffset>=r&&e.start(new Jt(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach(r=>{r.stop(e)}),this}at(e,t){const r=new Ta(this.context,e).toTicks(),o=new Jt(this.context,1).toSeconds(),i=this._events.values();let s=i.next();for(;!s.done;){const a=s.value;if(Math.abs(r-a.startOffset)<o)return Fe(t)&&(a.value=t),a;s=i.next()}return Fe(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(t=e,e=t.time);const r=this.toTicks(e);let o;return t instanceof da?(o=t,o.callback=this._tick.bind(this)):o=new da({callback:this._tick.bind(this),context:this.context,value:t}),o.startOffset=r,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(e){this._state.forEach(t=>{t.state==="started"?this._startNote(e,t.time,t.offset):e.stop(new Jt(this.context,t.time))})}remove(e,t){return Fi(e)&&e.hasOwnProperty("time")&&(t=e,e=t.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(hr(t)||Fe(t)&&r.value===t)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(t=>t.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(t=>{t instanceof of?t._forEach(e):e(t)}),this}_setAll(e,t){this._forEach(r=>{r[e]=t})}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)})}get loopEnd(){return new Jt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopEnd=e,this._testLoopBoundries(t)})}get loopStart(){return new Jt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class $v extends $e{constructor(){const e=Re($v.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new kt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Dt(this,"pan")}static getDefaults(){return Object.assign($e.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const rN="bit-crusher",oN=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ik(rN,oN);class Wt extends $e{constructor(){const e=Re(Wt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Cn({context:this.context}),Wt._allSolos.has(this.context)||Wt._allSolos.set(this.context,new Set),Wt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign($e.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Wt._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Wt._soloed.has(this.context)||Wt._soloed.set(this.context,new Set),Wt._soloed.get(this.context).add(this)}_removeSolo(){Wt._soloed.has(this.context)&&Wt._soloed.get(this.context).delete(this)}_isSoloed(){return Wt._soloed.has(this.context)&&Wt._soloed.get(this.context).has(this)}_noSolos(){return!Wt._soloed.has(this.context)||Wt._soloed.has(this.context)&&Wt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Wt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Wt._allSolos=new Map;Wt._soloed=new Map;class Uv extends $e{constructor(){const e=Re(Uv.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new $v({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new dl({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Dt(this,["pan","volume"])}static getDefaults(){return Object.assign($e.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ha extends $e{constructor(){const e=Re(ha.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Wt({solo:e.solo,context:this.context}),this._panVol=this.output=new Uv({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Dt(this,["pan","volume"])}static getDefaults(){return Object.assign($e.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ha.buses.has(e)||ha.buses.set(e,new Cn({context:this.context})),ha.buses.get(e)}send(e,t=0){const r=this._getBus(e),o=new Cn({context:this.context,units:"decibels",gain:t});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ha.buses=new Map;const os=ur().transport;function Ws(){return ur().transport}ur().destination;ur().destination;ur().listener;const iN=ur().draw;ur();function Qx(){return ft.loaded()}var Ha=(n=>(n[n.Whole=4]="Whole",n[n.Half=2]="Half",n[n.Quarter=1]="Quarter",n[n.Eighth=.5]="Eighth",n[n.Sixteenth=.25]="Sixteenth",n[n.ThirtySecond=.125]="ThirtySecond",n[n.SixtyFourth=.0625]="SixtyFourth",n))(Ha||{});class vs{constructor(e,t=0,r=!1){ne(this,"baseDuration");ne(this,"dotCount");ne(this,"isTriplet");this.baseDuration=e,this.dotCount=t,this.isTriplet=r}getBeatDuration(){let e=this.baseDuration;for(let t=0;t<this.dotCount;t++)e+=e/Math.pow(2,t+1);return this.isTriplet&&(e*=2/3),e}increaseBaseDuration(){const e=Object.values(Ha).filter(r=>typeof r=="number"),t=e.indexOf(this.baseDuration);return t>=0&&t<e.length-1?(this.baseDuration=e[t+1],this.baseDuration):this.baseDuration}decreaseBaseDuration(){const e=Object.values(Ha).filter(r=>typeof r=="number"),t=e.indexOf(this.baseDuration);return t>0&&t<e.length?(this.baseDuration=e[t-1],this.baseDuration):this.baseDuration}clone(){return vs.fromJSON(this.toJSON())}toJSON(){return{baseDuration:this.baseDuration,dotCount:this.dotCount,isTriplet:this.isTriplet}}static fromJSON(e){return wo(e)?new vs(e):new vs(e.baseDuration,e.dotCount,e.isTriplet)}}var xh=(n=>(n[n.None=0]="None",n[n.Flag=1]="Flag",n[n.Beam=2]="Beam",n))(xh||{});class ys{constructor(e,t,r=!1){ne(this,"_voice");ne(this,"duration");ne(this,"_notes");ne(this,"score",()=>this.track().score());ne(this,"track",()=>this.bar().track());ne(this,"bar",()=>this.voice().bar());ne(this,"voice",()=>this._voice);ne(this,"next",()=>this.voice()._elements[Math.min(this.index()+1,this.voice()._elements.length-1)]);ne(this,"prev",()=>this.voice()._elements[Math.max(this.index()-1,0)]);ne(this,"first",()=>this.voice()._elements[0]);ne(this,"last",()=>this.voice()._elements[this.voice()._elements.length-1]);ne(this,"empty",()=>this._notes.filter(e=>!isNaN(e.fretNumber)).length==0);this.duration=t,this._notes=[],this._voice=e,r&&this.addRestNotes()}isRest(){return this._notes.length==0||this._notes.every(e=>isNaN(e.fretNumber))}isNote(){return this._notes.length==1}beatDuration(){return this.duration.getBeatDuration()}location(){const e=this._voice._elements.indexOf(this);return this._voice._elements.filter((t,r)=>r<e).reduce((t,r)=>t+r.beatDuration(),0)}isChord(){return this._notes.length>1}move(e){const t=this.index();switch(e){case"ArrowUp":case"ArrowLeft":return this._voice._elements[Math.max(t-1,0)];case"ArrowDown":case"ArrowRight":return this._voice._elements[Math.min(t+1,this._voice._elements.length-1)]}}index(){return this._voice._elements.indexOf(this)}tailTypeName(){switch(this.tailType()){case 0:return"None";case 1:return"Flag";case 2:return"Beam"}}tailType(){if(this.tailCount()==0)return 0;const e=this.move("ArrowRight");return e==null||Math.floor(e==null?void 0:e.location())+1!=Math.ceil((e==null?void 0:e.location())+(e==null?void 0:e.beatDuration()))?1:2}isLast(){const e=this._voice._elements.indexOf(ve(this));return this._voice._elements.length==e+1}tailCount(){const e=this.location()+this.beatDuration();return e-Math.floor(e)===0?0:this.beatDuration()<=.125?3:this.beatDuration()<=.25?2:this.beatDuration()<=.5?1:0}addRestNotes(){const e=this.track().instrument.tuning.length;for(let t=0;t<e;t++)this._notes.find(r=>r.index()===t)||this._notes.push(new Hh(this,NaN))}static fromJSON(e,t){const r=new ys(e,vs.fromJSON(t.duration)),o=t.notes?t.notes.map(i=>Hh.fromJSON(r,i)):[];return r._notes=o,r.addRestNotes(),r}toJSON(){return{duration:this.duration.toJSON(),notes:this._notes.map(e=>e.toJSON())}}}class sN{constructor(e="Guitar",t="Standard",r="Default"){ne(this,"instrumentName");ne(this,"tuningName");ne(this,"toneName");ne(this,"tuning");ne(this,"tone");this.instrumentName=e,this.tuningName=t,this.toneName=r,this.tuning=cc[e].tunings[t],this.tone=cc[e].tones[r]}}const cc={Guitar:{tunings:{Standard:["E4","B3","G3","D3","A2","E2"],"Drop-D":["E4","B3","G3","D3","A2","D2"],"Open-D":["D4","A3","F#3","D3","A2","D2"],"Open-G":["D4","B3","G3","D3","G2","D2"],DADGAD:["D4","A3","G3","D3","A2","D2"],"Drop-C":["D4","A3","F3","C3","G2","C2"],"Drop-B":["C#4","G#3","E3","B2","F#2","B1"],"Drop-A":["G#3","E3","C#3","A2","E2","A1"],"Half-Step-Down":["D#4","A#3","F#3","C#3","G#2","D#2"]},tones:{Default:{name:"guitar-acoustic",samples:["E2","A2","D3","G3","B3","E4","D5"]},Acoustc:{name:"guitar-acoustic",samples:["E2","A2","D3","G3","B3","E4","d5"]},Electric:{name:"guitar-electric",samples:["E2","A2","D#3","F#3","C3","F#4"]},Nylon:{name:"guitar-nylon",samples:["E2","A2","D3","G3","B3","E4","D5"]}}},Bass:{tunings:{Standard:["G2","D2","A1","E1"],"Drop-D":["G2","D2","A1","D1"],"Half-Step-Down":["F#2","C#2","G#1","D#1"]},tones:{Default:{name:"bass-electric",samples:["E1","A#1","C#2","G2","C#3","G3","C#4","G4","C#5"]},Electric:{name:"bass-electric",samples:["E1","A#1","C#2","G2","C#3","G3","C#4","G4","C#5"]},Upright:{name:"contrabass",samples:["F#1","A#1","D2","G#2","C#3","G#3","B3"]}}},Cello:{tunings:{Standard:["A3","D3","G2","C2"],"The-Swan":["G3","D3","G2","C2"]},tones:{Default:{name:"cello",samples:["C2","G2","D3","A3","D4","A4","C5"]}}},Violin:{tunings:{Standard:["E5","A4","D4","G3"],"Sonata-XI":["D5","G4","C4","G3"]},tones:{Default:{name:"violin",samples:["G3","C4","G4","E5","C6","G6"]}}}};class sf{constructor(e){ne(this,"_bar");ne(this,"_elements");ne(this,"score",()=>this.track().score());ne(this,"track",()=>this.bar().track());ne(this,"bar",()=>this._bar);ne(this,"next",()=>this.bar()._voices[Math.min(this.index()+1,this.bar()._voices.length-1)]);ne(this,"prev",()=>this.bar()._voices[Math.max(this.index()-1,0)]);ne(this,"first",()=>this.bar()._voices[0]);ne(this,"last",()=>this.bar()._voices[this.bar()._voices.length-1]);ne(this,"duration",()=>this._elements.reduce((e,t)=>e+t.beatDuration(),0));ne(this,"isError",()=>this.duration()!=this._bar.timeSignature.beatsPerBar);ne(this,"isComplete",()=>this.duration()>=this._bar.timeSignature.beatsPerBar);ne(this,"empty",()=>this._elements.length==0);this._bar=e,this._elements=[]}addElement(e=NaN){var o,i;const t=this._elements.length>0?this._elements[this._elements.length-1].duration.clone():((i=(o=this.bar().prev()._voices[this.index()])==null?void 0:o._elements.at(-1))==null?void 0:i.duration.clone())??new vs(1),r=new ys(this,t,!0);return isNaN(e)?this._elements.push(r):this._elements.splice(e,0,r),r}move(e){const t=this.index();switch(e){case"ArrowUp":case"ArrowLeft":return this._bar._voices[Math.max(t-1,0)];case"ArrowDown":case"ArrowRight":return t+1>=4?this:t>=this._bar._voices.length-1?this._bar.addVoice():this._bar._voices[t+1]}}removeElementAt(e){e>=0&&e<this._elements.length&&this._elements.splice(e,1)}index(){return this.bar()._voices.indexOf(ve(this))}toJSON(){return{elements:this._elements.map(e=>e.toJSON())}}static fromJSON(e,t){const r=new sf(e);if(t.elements&&Array.isArray(t.elements))r._elements=t.elements.map(o=>ys.fromJSON(r,o));else throw new Error("Invalid data format: 'elements' should be an array.");return r}}class Ho{constructor(e,t){ne(this,"_track");ne(this,"timeSignature");ne(this,"_voices");ne(this,"score",()=>this.track().score());ne(this,"track",()=>this._track);ne(this,"next",(e=!0)=>this.index()==this.track()._bars.length-1?e?this.track().addBar():null:this.track()._bars[this.index()+1]);ne(this,"prev",()=>this.track()._bars[Math.max(this.index()-1,0)]);ne(this,"first",()=>this.track()._bars[0]);ne(this,"last",()=>this.track()._bars[this.track()._bars.length-1]);ne(this,"index",()=>this.track()._bars.indexOf(ve(this)));ne(this,"clone",()=>{const e=this.toJSON();return Ho.fromJSON(this.track(),e)});ne(this,"addVoice",()=>{const e=new sf(this);return this._voices.push(e),e.addElement(),e});ne(this,"empty",()=>this._voices.flatMap(e=>e._elements).filter(e=>!e.empty()).length==0);ne(this,"isError",()=>this._voices.some(e=>e.isError()));this._track=e,this.timeSignature=t,this._voices=[]}removeVoiceAt(e){e>=0&&e<this._voices.length&&this._voices.splice(e,1)}toJSON(){return{timeSignature:this.timeSignature,voices:this._voices.map(e=>e.toJSON())}}update(){this._voices.forEach(e=>{let t=0;e._elements.forEach(r=>{t+=r.beatDuration()})})}static fromJSON(e,t){if(!t.timeSignature||typeof t.timeSignature.beatsPerBar!="number"||typeof t.timeSignature.beatValue!="number")throw new Error("Invalid data format: 'timeSignature' must have 'beatsPerBar' and 'beatValue' as numbers.");const r=new Ho(e,t.timeSignature);if(t.voices&&Array.isArray(t.voices))r._voices=t.voices.map(o=>sf.fromJSON(r,o));else throw new Error("Invalid data format: 'voices' should be an array.");return r}}class ka{constructor(e,t="Guitar",r="Standard",o="Default"){ne(this,"_score");ne(this,"instrument");ne(this,"_bars");ne(this,"score",()=>this._score);ne(this,"stringCount",()=>this.instrument.tuning.length);ne(this,"next",()=>this.score()._tracks[Math.min(this.index()+1,this.score()._tracks.length-1)]);ne(this,"prev",()=>this.score()._tracks[Math.max(this.index()-1,0)]);ne(this,"first",()=>this.score()._tracks[0]);ne(this,"last",()=>this.score()._tracks[this.score()._tracks.length-1]);this._score=e,this.instrument=new sN(t,r,o),this._bars=[]}addBar(e=NaN,t=null){let r=t;if(t==null){const o=this._bars.length-1,i=o==-1?this._score.timeSignature:{...this._bars[o].timeSignature};r=new Ho(this,i)}if(isNaN(e)?this._bars.push(r):this._bars.splice(e,0,r),t==null)for(let o=0;o<4;o++)r.addVoice();return r}index(){return this.score()._tracks.indexOf(ve(this))}removeBarAt(e){e>=0&&e<this._bars.length&&this._bars.splice(e,1)}toJSON(){return{instrumentName:this.instrument.instrumentName,tuningName:this.instrument.tuningName,toneName:this.instrument.toneName,bars:this._bars.map(e=>e.toJSON())}}verify(){this._bars.forEach(e=>{e._voices.length>4&&(console.log("Too many voices in bar, removing some"),e._voices=e._voices.slice(0,4))}),this._bars.length==0&&this.addBar(),this._bars[0]._voices.length==0&&this._bars[0].addVoice(),this._bars[0]._voices[0]._elements.length==0&&this._bars[0]._voices[0].addElement()}static new(e){return new ka(e,"Guitar","Standard","Default")}static fromJSON(e,t){const r=new ka(e,t.instrumentName,t.tuningName,t.toneName);return r._bars=t.bars.map(o=>Ho.fromJSON(r,o)),r}}class ks{constructor(e="Untitled",t=120,r={beatsPerBar:4,beatValue:4}){ne(this,"id");ne(this,"title");ne(this,"url");ne(this,"tempo");ne(this,"barsPerLine");ne(this,"fontSize");ne(this,"timeSignature");ne(this,"_tracks");ne(this,"_");this.id=null,this.title=e,this.barsPerLine=4,this.fontSize=12,this.tempo=t,this.url="",this.timeSignature=r,this._tracks=[]}addTrack(e=ka.new(this)){this._tracks.push(e),e.addBar()}removeTrack(e){e>=0&&e<this._tracks.length&&this._tracks.splice(e,1)}toJSON(){return{title:this.title,url:this.url,tempo:this.tempo,timeSignature:this.timeSignature,barsPerLine:this.barsPerLine,fontSize:this.fontSize,tracks:this._tracks.map(e=>e.toJSON())}}clone(e=!1){const t=JSON.parse(JSON.stringify(this.toJSON()));return e&&this.id&&(t.id=this.id),t}errors(){const e=[];return this._tracks.forEach((t,r)=>{t._bars.forEach((o,i)=>{o._voices.forEach((s,a)=>{s.duration()!=this.timeSignature.beatsPerBar&&e.push({track:r+1,bar:i+1,voice:a+1,duration:s.duration(),expectedDuration:this.timeSignature.beatsPerBar})})})}),e}verify(){this._tracks.forEach(e=>{e.verify()})}update(){console.log("update score"),this._tracks.flatMap(e=>e._bars).forEach(e=>e.update())}static fromJSON(e){const t=new ks(e.title,e.tempo,e.timeSignature);return t.barsPerLine=e.barsPerLine,t.id=e.id,t.fontSize=e.fontSize??12,t.url=e.url??"",t._tracks=e.tracks.map(r=>ka.fromJSON(t,r)),t.update(),t}static new(){const e=new ks("Untitled",100,{beatsPerBar:4,beatValue:4}),t=ka.new(e);return e.addTrack(t),e}}var sk=(n=>(n[n.ModeOpen=0]="ModeOpen",n[n.ModeScore=1]="ModeScore",n[n.ModeTrack=2]="ModeTrack",n[n.ModeBar=3]="ModeBar",n[n.ModeVoice=4]="ModeVoice",n[n.ModeElement=5]="ModeElement",n[n.ModeNote=6]="ModeNote",n[n.ModePlay=7]="ModePlay",n[n.ModeDark=8]="ModeDark",n))(sk||{});const aN=vt(""),Jg=vt(ks.new()),lN=vt(-1),Qg=vt(0),Ur=vt(0),af=vt(0),oo=vt(0),eb=vt(0),ak=vt([]),Ni=qr(()=>{if(Qg.value>Jg.value._tracks.length-1)debugger;return Jg.value._tracks[Qg.value]}),wh=qr(()=>{for(;Ur.value>Ni.value._bars.length-1;)Ni.value.addBar();return Ur.value<0&&(Ur.value=0),Ni.value._bars[Ur.value]}),_i=qr(()=>(Ni.value._bars.length==0&&(Ni.value.addBar(),Ur.value=0),af.value>wh.value._voices.length-1&&wh.value.addVoice(),wh.value._voices[af.value])),tb=qr(()=>{if(oo.value<0&&(Ur.value>0?(Ur.value=Ur.value-1,oo.value=_i.value._elements.length-1):oo.value=0),oo.value>_i.value._elements.length-1&&(_i.value.isComplete()?(Ur.value+=1,oo.value=0,Ur.value>Ni.value._bars.length-1&&Ni.value.addBar()):_i.value.addElement()),oo.value>_i.value._elements.length-1){debugger;oo.value=Math.min(oo.value,_i.value._elements.length-1)}return _i.value._elements[oo.value]}),cN=qr(()=>{if(eb.value>tb.value._notes.length-1)debugger;return tb.value._notes[eb.value]});lr(af,()=>{ak.value=[]});const uN=vt(6),Ao=()=>({project:aN,score:Jg,scoreId:lN,track:Ni,trackId:Qg,bar:wh,barId:Ur,voice:_i,voiceId:af,element:tb,elementId:oo,note:cN,noteId:eb,selection:ak,mode:uN,Mode:sk}),dN="modulepreload",hN=function(n){return"/fret-study-buddy/"+n},e2={},Rc=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(t.map(l=>{if(l=hN(l),l in e2)return;e2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":dN,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var O=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n.ShapeBuilder="shape-builder",n.Batcher="batcher",n))(O||{});const nb=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Kl=(n,e)=>nb(n).priority??e,dt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(nb).forEach(e=>{e.type.forEach(t=>{var r,o;return(o=(r=this._removeHandlers)[t])==null?void 0:o.call(r,e)})}),this},add(...n){return n.map(nb).forEach(e=>{e.type.forEach(t=>{var i,s;const r=this._addHandlers,o=this._queue;r[t]?(s=r[t])==null||s.call(r,e):(o[t]=o[t]||[],(i=o[t])==null||i.push(e))})}),this},handle(n,e,t){var s;const r=this._addHandlers,o=this._removeHandlers;if(r[n]||o[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,o[n]=t;const i=this._queue;return i[n]&&((s=i[n])==null||s.forEach(a=>e(a)),delete i[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(n,e,t=-1){return this.handle(n,r=>{e.findIndex(i=>i.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((i,s)=>Kl(s.value,t)-Kl(i.value,t)))},r=>{const o=e.findIndex(i=>i.name===r.name);o!==-1&&e.splice(o,1)})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((o,i)=>Kl(i,t)-Kl(o,t)))},r=>{const o=e.indexOf(r.ref);o!==-1&&e.splice(o,1)})}},lk={extension:{type:O.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Rc(()=>import("./browserAll-I8rlqJKw.js"),__vite__mapDeps([0,1]))}},ck={extension:{type:O.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Rc(()=>import("./webworkerAll-SczwcLpm.js"),[])}};class Kt{constructor(e,t,r){this._x=t||0,this._y=r||0,this._observer=e}clone(e){return new Kt(e??this._observer,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}function Gv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uk={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new o(u,d||l,h),p=t?t+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(c){var u=t?t+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,p){var m=t?t+c:c;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,_,v;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,h),!0;case 5:return g.fn.call(g.context,u,d,h,f),!0;case 6:return g.fn.call(g.context,u,d,h,f,p),!0}for(v=1,_=new Array(b-1);v<b;v++)_[v-1]=arguments[v];g.fn.apply(g.context,_)}else{var y=g.length,w;for(v=0;v<y;v++)switch(g[v].once&&this.removeListener(c,g[v].fn,void 0,!0),b){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,u);break;case 3:g[v].fn.call(g[v].context,u,d);break;case 4:g[v].fn.call(g[v].context,u,d,h);break;default:if(!_)for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];g[v].fn.apply(g[v].context,_)}}return!0},a.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return s(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&s(this,f);else{for(var m=0,g=[],b=p.length;m<b;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(uk);var fN=uk.exports;const Zn=Gv(fN),dk=Math.PI*2,hk=180/Math.PI,fk=Math.PI/180;class ot{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new ot(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Pm.x=0,Pm.y=0,Pm}}const Pm=new ot;class be{constructor(e=1,t=0,r=0,o=1,i=0,s=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=o,this.tx=i,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,o,i,s){return this.a=e,this.b=t,this.c=r,this.d=o,this.tx=i,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new ot;const r=e.x,o=e.y;return t.x=this.a*r+this.c*o+this.tx,t.y=this.b*r+this.d*o+this.ty,t}applyInverse(e,t){t=t||new ot;const r=this.a,o=this.b,i=this.c,s=this.d,a=this.tx,l=this.ty,c=1/(r*s+i*-o),u=e.x,d=e.y;return t.x=s*c*u+-i*c*d+(l*i-a*s)*c,t.y=r*c*d+-o*c*u+(-l*r+a*o)*c,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),o=this.a,i=this.c,s=this.tx;return this.a=o*t-this.b*r,this.b=o*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this}append(e){const t=this.a,r=this.b,o=this.c,i=this.d;return this.a=e.a*t+e.b*o,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*o,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this}appendFrom(e,t){const r=e.a,o=e.b,i=e.c,s=e.d,a=e.tx,l=e.ty,c=t.a,u=t.b,d=t.c,h=t.d;return this.a=r*c+o*d,this.b=r*u+o*h,this.c=i*c+s*d,this.d=i*u+s*h,this.tx=a*c+l*d+t.tx,this.ty=a*u+l*h+t.ty,this}setTransform(e,t,r,o,i,s,a,l,c){return this.a=Math.cos(a+c)*i,this.b=Math.sin(a+c)*i,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=e-(r*this.a+o*this.c),this.ty=t-(r*this.b+o*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,o=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,o=this.c,i=this.d,s=e.pivot,a=-Math.atan2(-o,i),l=Math.atan2(r,t),c=Math.abs(a+l);return c<1e-5||Math.abs(dk-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(o*o+i*i),e.position.x=this.tx+(s.x*t+s.y*o),e.position.y=this.ty+(s.x*r+s.y*i),e}invert(){const e=this.a,t=this.b,r=this.c,o=this.d,i=this.tx,s=e*o-t*r;return this.a=o/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-o*i)/s,this.ty=-(e*this.ty-t*i)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new be;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return mN.identity()}static get shared(){return pN.identity()}}const pN=new be,mN=new be,ls=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],cs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],us=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ds=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rb=[],pk=[],Od=Math.sign;function gN(){for(let n=0;n<16;n++){const e=[];rb.push(e);for(let t=0;t<16;t++){const r=Od(ls[n]*ls[t]+us[n]*cs[t]),o=Od(cs[n]*ls[t]+ds[n]*cs[t]),i=Od(ls[n]*us[t]+us[n]*ds[t]),s=Od(cs[n]*us[t]+ds[n]*ds[t]);for(let a=0;a<16;a++)if(ls[a]===r&&cs[a]===o&&us[a]===i&&ds[a]===s){e.push(a);break}}}for(let n=0;n<16;n++){const e=new be;e.set(ls[n],cs[n],us[n],ds[n],0,0),pk.push(e)}}gN();const Le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>ls[n],uY:n=>cs[n],vX:n=>us[n],vY:n=>ds[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>rb[n][e],sub:(n,e)=>rb[n][Le.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Le.S:Le.N:Math.abs(e)*2<=Math.abs(n)?n>0?Le.E:Le.W:e>0?n>0?Le.SE:Le.SW:n>0?Le.NE:Le.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const o=pk[Le.inv(e)];o.tx=t,o.ty=r,n.append(o)}},Dd=[new ot,new ot,new ot,new ot];class Qe{constructor(e=0,t=0,r=0,o=0){this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Qe(0,0,0,0)}clone(){return new Qe(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}strokeContains(e,t,r){const{width:o,height:i}=this;if(o<=0||i<=0)return!1;const s=this.x,a=this.y,l=s-r/2,c=s+o+r/2,u=a-r/2,d=a+i+r/2,h=s+r/2,f=s+o-r/2,p=a+r/2,m=a+i-r/2;return e>=l&&e<=c&&t>=u&&t<=d&&!(e>h&&e<f&&t>p&&t<m)}intersects(e,t){if(!t){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const A=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>A}const r=this.left,o=this.right,i=this.top,s=this.bottom;if(o<=r||s<=i)return!1;const a=Dd[0].set(e.left,e.top),l=Dd[1].set(e.left,e.bottom),c=Dd[2].set(e.right,e.top),u=Dd[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const d=Math.sign(t.a*t.d-t.b*t.c);if(d===0||(t.apply(a,a),t.apply(l,l),t.apply(c,c),t.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=r||Math.min(a.x,l.x,c.x,u.x)>=o||Math.max(a.y,l.y,c.y,u.y)<=i||Math.min(a.y,l.y,c.y,u.y)>=s))return!1;const h=d*(l.y-a.y),f=d*(a.x-l.x),p=h*r+f*i,m=h*o+f*i,g=h*r+f*s,b=h*o+f*s;if(Math.max(p,m,g,b)<=h*a.x+f*a.y||Math.min(p,m,g,b)>=h*u.x+f*u.y)return!1;const _=d*(a.y-c.y),v=d*(c.x-a.x),y=_*r+v*i,w=_*o+v*i,S=_*r+v*s,C=_*o+v*s;return!(Math.max(y,w,S,C)<=_*a.x+v*a.y||Math.min(y,w,S,C)>=_*u.x+v*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),o=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=o,this.height=Math.max(i-o,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,o=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=o-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),o=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=o,this.height=i-o,this}getBounds(e){return e||(e=new Qe),e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uc={default:-1};function Ct(n="default"){return uc[n]===void 0&&(uc[n]=-1),++uc[n]}function bN(){for(const n in uc)delete uc[n]}const t2={},Pe="8.0.0",mk="8.3.4";function _e(n,e,t=3){if(t2[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),t2[e]=!0}const Vv=()=>{};function Es(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function ob(n){return!(n&n-1)&&!!n}function vN(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function Co(n){const e={};for(const t in n)n[t]!==void 0&&(e[t]=n[t]);return e}const n2=Object.create(null);function yN(n){const e=n2[n];return e===void 0&&(n2[n]=Ct("resource")),e}const gk=class bk extends Zn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...bk.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){_e(Pe,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=yN(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};gk.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let zv=gk;const vk=class yk extends Zn{constructor(e={}){super(),this.options=e,this.uid=Ct("textureSource"),this._resourceType="textureSource",this._resourceId=Ct("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...yk.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new zv(Co(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var t,r;this.style!==e&&((t=this._style)==null||t.off("change",this._onStyleChange,this),this._style=e,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ct("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,r){r||(r=this._resolution),e||(e=this.width),t||(t=this.height);const o=Math.round(e*r),i=Math.round(t*r);return this.width=o/r,this.height=i/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===i?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=i,this.emit("resize",this),this._resourceId=Ct("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=ob(this.pixelWidth)&&ob(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};vk.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ot=vk;class bp extends Ot{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(t instanceof Float32Array?r="rgba32float":t instanceof Int32Array||t instanceof Uint32Array?r="rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?r="rgba16uint":(t instanceof Int8Array,r="bgra8unorm")),super({...e,resource:t,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}bp.extension=O.TextureSource;const r2=new be;class Hv{constructor(e,t){this.mapCoord=new be,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof t>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var t;this.texture!==e&&((t=this._texture)==null||t.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let o=0;o<e.length;o+=2){const i=e[o],s=e[o+1];t[o]=i*r.a+s*r.c+r.tx,t[o+1]=i*r.b+s*r.d+r.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const r=e.orig,o=e.trim;o&&(r2.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(r2));const i=e.source,s=this.uClampFrame,a=this.clampMargin/i._resolution,l=this.clampOffset/i._resolution;return s[0]=(e.frame.x+a+l)/i.width,s[1]=(e.frame.y+a+l)/i.height,s[2]=(e.frame.x+e.frame.width-a+l)/i.width,s[3]=(e.frame.y+e.frame.height-a+l)/i.height,this.uClampOffset[0]=this.clampOffset/i.pixelWidth,this.uClampOffset[1]=this.clampOffset/i.pixelHeight,this.isSimple=e.frame.width===i.width&&e.frame.height===i.height&&e.rotate===0,!0}}class ae extends Zn{constructor({source:e,label:t,frame:r,orig:o,trim:i,defaultAnchor:s,defaultBorders:a,rotate:l,dynamic:c}={}){if(super(),this.uid=Ct("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Qe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=t,this.source=(e==null?void 0:e.source)??new Ot,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:u,height:d}=this._source;this.frame.width=u,this.frame.height=d}this.orig=o||this.frame,this.trim=i,this.rotate=l??0,this.defaultAnchor=s,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Hv(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:r,height:o}=this._source,i=t.x/r,s=t.y/o,a=t.width/r,l=t.height/o;let c=this.rotate;if(c){const u=a/2,d=l/2,h=i+u,f=s+d;c=Le.add(c,Le.NW),e.x0=h+u*Le.uX(c),e.y0=f+d*Le.uY(c),c=Le.add(c,2),e.x1=h+u*Le.uX(c),e.y1=f+d*Le.uY(c),c=Le.add(c,2),e.x2=h+u*Le.uX(c),e.y2=f+d*Le.uY(c),c=Le.add(c,2),e.x3=h+u*Le.uX(c),e.y3=f+d*Le.uY(c)}else e.x0=i,e.y0=s,e.x1=i+a,e.y1=s,e.x2=i+a,e.y2=s+l,e.x3=i,e.y3=s+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return _e(Pe,"Texture.baseTexture is now Texture.source"),this._source}}ae.EMPTY=new ae({label:"EMPTY",source:new Ot({label:"EMPTY"})});ae.EMPTY.destroy=Vv;ae.WHITE=new ae({source:new bp({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});ae.WHITE.destroy=Vv;function Bc(n,e,t,r){const{width:o,height:i}=t.orig,s=t.trim;if(s){const a=s.width,l=s.height;n.minX=s.x-e._x*o-r,n.maxX=n.minX+a,n.minY=s.y-e._y*i-r,n.maxY=n.minY+l}else n.minX=-e._x*o-r,n.maxX=n.minX+o,n.minY=-e._y*i-r,n.maxY=n.minY+i}const o2=new be;class un{constructor(e=1/0,t=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=o2,this.minX=e,this.minY=t,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Qe);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=o2,this}set(e,t,r,o){this.minX=e,this.minY=t,this.maxX=r,this.maxY=o}addFrame(e,t,r,o,i){i||(i=this.matrix);const s=i.a,a=i.b,l=i.c,c=i.d,u=i.tx,d=i.ty;let h=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=s*e+l*t+u,b=a*e+c*t+d;g<h&&(h=g),b<f&&(f=b),g>p&&(p=g),b>m&&(m=b),g=s*r+l*t+u,b=a*r+c*t+d,g<h&&(h=g),b<f&&(f=b),g>p&&(p=g),b>m&&(m=b),g=s*e+l*o+u,b=a*e+c*o+d,g<h&&(h=g),b<f&&(f=b),g>p&&(p=g),b>m&&(m=b),g=s*r+l*o+u,b=a*r+c*o+d,g<h&&(h=g),b<f&&(f=b),g>p&&(p=g),b>m&&(m=b),this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,r=this.minY,o=this.maxX,i=this.maxY,{a:s,b:a,c:l,d:c,tx:u,ty:d}=e;let h=s*t+l*r+u,f=a*t+c*r+d;this.minX=h,this.minY=f,this.maxX=h,this.maxY=f,h=s*o+l*r+u,f=a*o+c*r+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=s*t+l*i+u,f=a*t+c*i+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=s*o+l*i+u,f=a*o+c*i+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,r,o){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(e,t=e){return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new un(this.minX,this.minY,this.maxX,this.maxY)}scale(e,t=e){return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,r,o){let i=this.minX,s=this.minY,a=this.maxX,l=this.maxY;o||(o=this.matrix);const c=o.a,u=o.b,d=o.c,h=o.d,f=o.tx,p=o.ty;for(let m=t;m<r;m+=2){const g=e[m],b=e[m+1],_=c*g+d*b+f,v=u*g+h*b+p;i=_<i?_:i,s=v<s?v:s,a=_>a?_:a,l=v>l?v:l}this.minX=i,this.minY=s,this.maxX=a,this.maxY=l}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var _N={grad:.9,turn:360,rad:360/(2*Math.PI)},Ro=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},on=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},kr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},_k=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},i2=function(n){return{r:kr(n.r,0,255),g:kr(n.g,0,255),b:kr(n.b,0,255),a:kr(n.a)}},Im=function(n){return{r:on(n.r),g:on(n.g),b:on(n.b),a:on(n.a,3)}},xN=/^#([0-9a-f]{3,8})$/i,Md=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},xk=function(n){var e=n.r,t=n.g,r=n.b,o=n.a,i=Math.max(e,t,r),s=i-Math.min(e,t,r),a=s?i===e?(t-r)/s:i===t?2+(r-e)/s:4+(e-t)/s:0;return{h:60*(a<0?a+6:a),s:i?s/i*100:0,v:i/255*100,a:o}},wk=function(n){var e=n.h,t=n.s,r=n.v,o=n.a;e=e/360*6,t/=100,r/=100;var i=Math.floor(e),s=r*(1-t),a=r*(1-(e-i)*t),l=r*(1-(1-e+i)*t),c=i%6;return{r:255*[r,a,s,s,l,r][c],g:255*[l,r,r,a,s,s][c],b:255*[s,s,l,r,r,a][c],a:o}},s2=function(n){return{h:_k(n.h),s:kr(n.s,0,100),l:kr(n.l,0,100),a:kr(n.a)}},a2=function(n){return{h:on(n.h),s:on(n.s),l:on(n.l),a:on(n.a,3)}},l2=function(n){return wk((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},dc=function(n){return{h:(e=xk(n)).h,s:(o=(200-(t=e.s))*(r=e.v)/100)>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,t,r,o},wN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,CN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,SN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ib={string:[[function(n){var e=xN.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?on(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?on(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=SN.exec(n)||TN.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:i2({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=wN.exec(n)||CN.exec(n);if(!e)return null;var t,r,o=s2({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(_N[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return l2(o)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,o=n.a,i=o===void 0?1:o;return Ro(e)&&Ro(t)&&Ro(r)?i2({r:Number(e),g:Number(t),b:Number(r),a:Number(i)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,o=n.a,i=o===void 0?1:o;if(!Ro(e)||!Ro(t)||!Ro(r))return null;var s=s2({h:Number(e),s:Number(t),l:Number(r),a:Number(i)});return l2(s)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,o=n.a,i=o===void 0?1:o;if(!Ro(e)||!Ro(t)||!Ro(r))return null;var s=function(a){return{h:_k(a.h),s:kr(a.s,0,100),v:kr(a.v,0,100),a:kr(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(i)});return wk(s)},"hsv"]]},c2=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},kN=function(n){return typeof n=="string"?c2(n.trim(),ib.string):typeof n=="object"&&n!==null?c2(n,ib.object):[null,void 0]},Rm=function(n,e){var t=dc(n);return{h:t.h,s:kr(t.s+100*e,0,100),l:t.l,a:t.a}},Bm=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},u2=function(n,e){var t=dc(n);return{h:t.h,s:t.s,l:kr(t.l+100*e,0,100),a:t.a}},sb=function(){function n(e){this.parsed=kN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return on(Bm(this.rgba),2)},n.prototype.isDark=function(){return Bm(this.rgba)<.5},n.prototype.isLight=function(){return Bm(this.rgba)>=.5},n.prototype.toHex=function(){return e=Im(this.rgba),t=e.r,r=e.g,o=e.b,s=(i=e.a)<1?Md(on(255*i)):"","#"+Md(t)+Md(r)+Md(o)+s;var e,t,r,o,i,s},n.prototype.toRgb=function(){return Im(this.rgba)},n.prototype.toRgbString=function(){return e=Im(this.rgba),t=e.r,r=e.g,o=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+o+", "+i+")":"rgb("+t+", "+r+", "+o+")";var e,t,r,o,i},n.prototype.toHsl=function(){return a2(dc(this.rgba))},n.prototype.toHslString=function(){return e=a2(dc(this.rgba)),t=e.h,r=e.s,o=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+o+"%, "+i+")":"hsl("+t+", "+r+"%, "+o+"%)";var e,t,r,o,i},n.prototype.toHsv=function(){return e=xk(this.rgba),{h:on(e.h),s:on(e.s),v:on(e.v),a:on(e.a,3)};var e},n.prototype.invert=function(){return io({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),io(Rm(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),io(Rm(this.rgba,-e))},n.prototype.grayscale=function(){return io(Rm(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),io(u2(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),io(u2(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?io({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):on(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=dc(this.rgba);return typeof e=="number"?io({h:e,s:t.s,l:t.l,a:t.a}):on(t.h)},n.prototype.isEqual=function(e){return this.toHex()===io(e).toHex()},n}(),io=function(n){return n instanceof sb?n:new sb(n)},d2=[],EN=function(n){n.forEach(function(e){d2.indexOf(e)<0&&(e(sb,ib),d2.push(e))})};function AN(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in t)r[t[o]]=o;var i={};n.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(s!=null&&s.closest){var u=this.toRgb(),d=1/0,h="black";if(!i.length)for(var f in t)i[f]=new n(t[f]).toRgb();for(var p in t){var m=(a=u,l=i[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<d&&(d=m,h=p)}return h}},e.string.push([function(s){var a=s.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}EN([AN]);const ja=class Xl{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Xl)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(a=>e[a]===t[a])}return e===t}toRgba(){const[e,t,r,o]=this._components;return{r:e,g:t,b:r,a:o}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(o*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,r,o,i]=this._components;return e[0]=t,e[1]=r,e[2]=o,e[3]=i,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,r,o]=this._components;return e[0]=t,e[1]=r,e[2]=o,e}toNumber(){return this._int}toBgrNumber(){const[e,t,r]=this.toUint8RgbArray();return(r<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,o,i]=Xl._temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=o,this._components[3]*=i,this._refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,i=this._int&255;return t&&(r=r*e+.5|0,o=o*e+.5|0,i=i*e+.5|0),(e*255<<24)+(r<<16)+(o<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let t,r,o,i;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;t=(s>>16&255)/255,r=(s>>8&255)/255,o=(s&255)/255,i=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,o,i=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,o,i=255]=e,t/=255,r/=255,o/=255,i/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Xl.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const s=io(e);s.isValid()&&({r:t,g:r,b:o,a:i}=s.rgba,t/=255,r/=255,o/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=o,this._components[3]=i,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((o,i)=>{e[i]=Math.min(Math.max(o,t),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Xl||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};ja.shared=new ja;ja._temp=new ja;ja.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ke=ja;const Ck={cullArea:null,cullable:!1,cullableChildren:!0};class vp{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var r;let t;return this._index>0?t=this._pool[--this._index]:t=new this._classType,(r=t.init)==null||r.call(t,e),t}return(e){var t;(t=e.reset)==null||t.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Sk{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new vp(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const r=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[r]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}}const Ge=new Sk,Tk={get isCachedAsTexture(){var n;return!!((n=this.renderGroup)!=null&&n.isCachedAsTexture)},cacheAsTexture(n){typeof n=="boolean"&&n===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(n===!0?{}:n))},updateCacheTexture(){var n;(n=this.renderGroup)==null||n.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(n){_e("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(n)}};function jv(n,e,t){const r=n.length;let o;if(e>=r||t===0)return;t=e+t>r?r-e:t;const i=r-t;for(o=e;o<i;++o)n[o]=n[o+t];n.length=i}const kk={allowChildren:!0,removeChildren(n=0,e){const t=e??this.children.length,r=t-n,o=[];if(r>0&&r<=t){for(let s=t-1;s>=n;s--){const a=this.children[s];a&&(o.push(a),a.parent=null)}jv(this.children,n,t);const i=this.renderGroup||this.parentRenderGroup;i&&i.removeChildren(o);for(let s=0;s<o.length;++s)this.emit("childRemoved",o[s],this,s),o[s].emit("removed",this);return o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const e=this.getChildAt(n);return this.removeChild(e)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,e)},getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(n,e){this.allowChildren||_e(Pe,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:t}=this;if(e<0||e>t.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);if(n.parent){const o=n.parent.children.indexOf(n);if(n.parent===this&&o===e)return n;o!==-1&&n.parent.children.splice(o,1)}e===t.length?t.push(n):t.splice(e,0,n),n.parent=this,n.didChange=!0,n._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,e),n.emit("added",this),n},swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),r=this.getChildIndex(e);this.children[t]=e,this.children[r]=n;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var n;(n=this.parent)==null||n.removeChild(this)},reparentChild(...n){return n.length===1?this.reparentChildAt(n[0],this.children.length):(n.forEach(e=>this.reparentChildAt(e,this.children.length)),n[0])},reparentChildAt(n,e){if(n.parent===this)return this.setChildIndex(n,e),n;const t=n.worldTransform.clone();n.removeFromParent(),this.addChildAt(n,e);const r=this.worldTransform.clone();return r.invert(),t.prepend(r),n.setFromMatrix(t),n}};class Oc{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Ek{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const r=this._tests[t];if(r.test(e))return Ge.get(r.maskClass,e)}return e}returnMaskEffect(e){Ge.return(e)}}const lf=new Ek;dt.handleByList(O.MaskEffect,lf._effectClasses);const Ak={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)},addEffect(n){this.effects.indexOf(n)===-1&&(this.effects.push(n),this.effects.sort((t,r)=>t.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(n){const e=this.effects.indexOf(n);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(n){const e=this._maskEffect;(e==null?void 0:e.mask)!==n&&(e&&(this.removeEffect(e),lf.returnMaskEffect(e),this._maskEffect=null),n!=null&&(this._maskEffect=lf.getMaskEffect(n),this.addEffect(this._maskEffect)))},setMask(n){this._maskOptions={...this._maskOptions,...n},n.mask&&(this.mask=n.mask),this._markStructureAsChanged()},get mask(){var n;return(n=this._maskEffect)==null?void 0:n.mask},set filters(n){var i;!Array.isArray(n)&&n&&(n=[n]);const e=this._filterEffect||(this._filterEffect=new Oc);n=n;const t=(n==null?void 0:n.length)>0,r=((i=e.filters)==null?void 0:i.length)>0,o=t!==r;n=Array.isArray(n)?n.slice(0):n,e.filters=Object.freeze(n),o&&(t?this.addEffect(e):(this.removeEffect(e),e.filters=n??null))},get filters(){var n;return(n=this._filterEffect)==null?void 0:n.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new Oc),this._filterEffect.filterArea=n},get filterArea(){var n;return(n=this._filterEffect)==null?void 0:n.filterArea}},Pk={label:null,get name(){return _e(Pe,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){_e(Pe,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,e=!1){return this.getChildByLabel(n,e)},getChildByLabel(n,e=!1){const t=this.children;for(let r=0;r<t.length;r++){const o=t[r];if(o.label===n||n instanceof RegExp&&n.test(o.label))return o}if(e)for(let r=0;r<t.length;r++){const i=t[r].getChildByLabel(n,!0);if(i)return i}return null},getChildrenByLabel(n,e=!1,t=[]){const r=this.children;for(let o=0;o<r.length;o++){const i=r[o];(i.label===n||n instanceof RegExp&&n.test(i.label))&&t.push(i)}if(e)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(n,!0,t);return t}},_n=new vp(be),mo=new vp(un);function td(n,e,t){t.clear();let r,o;return n.parent?e?r=n.parent.worldTransform:(o=_n.get().identity(),r=yp(n,o)):r=be.IDENTITY,Wv(n,t,r,e),o&&_n.return(o),t.isValid||t.set(0,0,0,0),t}function Wv(n,e,t,r){var a,l;if(!n.visible||!n.measurable)return;let o;r?o=n.worldTransform:(n.updateLocalTransform(),o=_n.get(),o.appendFrom(n.localTransform,t));const i=e,s=!!n.effects.length;if(s&&(e=mo.get().clear()),n.boundsArea)e.addRect(n.boundsArea,o);else{n.bounds&&(e.matrix=o,e.addBounds(n.bounds));for(let c=0;c<n.children.length;c++)Wv(n.children[c],e,o,r)}if(s){for(let c=0;c<n.effects.length;c++)(l=(a=n.effects[c]).addBounds)==null||l.call(a,e);i.addBounds(e,be.IDENTITY),mo.return(e)}r||_n.return(o)}function yp(n,e){const t=n.parent;return t&&(yp(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}function Kv(n,e){if(n===16777215||!e)return e;if(e===16777215||!n)return n;const t=n>>16&255,r=n>>8&255,o=n&255,i=e>>16&255,s=e>>8&255,a=e&255,l=t*i/255|0,c=r*s/255|0,u=o*a/255|0;return(l<<16)+(c<<8)+u}const h2=16777215;function Dc(n,e){return n===h2?e:e===h2?n:Kv(n,e)}function Ea(n){return((n&255)<<16)+(n&65280)+(n>>16&255)}const Ik={getGlobalAlpha(n){if(n)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,t=this.parent;for(;t;)e*=t.alpha,t=t.parent;return e},getGlobalTransform(n,e){if(e)return n.copyFrom(this.worldTransform);this.updateLocalTransform();const t=yp(this,_n.get().identity());return n.appendFrom(this.localTransform,t),_n.return(t),n},getGlobalTint(n){if(n)return this.renderGroup?Ea(this.renderGroup.worldColor):this.parentRenderGroup?Ea(Dc(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,t=this.parent;for(;t;)e=Dc(e,t.localColor),t=t.parent;return Ea(e)}};let Om=0;const f2=500;function Ce(...n){Om!==f2&&(Om++,Om===f2?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}function _p(n,e,t){return e.clear(),t||(t=be.IDENTITY),Rk(n,e,t,n,!0),e.isValid||e.set(0,0,0,0),e}function Rk(n,e,t,r,o){var l,c;let i;if(o)i=_n.get(),i=t.copyTo(i);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const u=n.localTransform;i=_n.get(),i.appendFrom(u,t)}const s=e,a=!!n.effects.length;if(a&&(e=mo.get().clear()),n.boundsArea)e.addRect(n.boundsArea,i);else{n.renderPipeId&&(e.matrix=i,e.addBounds(n.bounds));const u=n.children;for(let d=0;d<u.length;d++)Rk(u[d],e,i,r,!1)}if(a){for(let u=0;u<n.effects.length;u++)(c=(l=n.effects[u]).addLocalBounds)==null||c.call(l,e,r);s.addBounds(e,be.IDENTITY),mo.return(e)}_n.return(i)}function Bk(n,e,t){const r=n.parent;if(!r){Ce("Item is not inside the root container");return}r!==e&&(Bk(r,e,t),r.updateLocalTransform(),t.append(r.localTransform))}function Xv(n,e){const t=n.children;for(let r=0;r<t.length;r++){const o=t[r],i=o.uid,s=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,a=e.index;(e.data[a]!==i||e.data[a+1]!==s)&&(e.data[e.index]=i,e.data[e.index+1]=s,e.didChange=!0),e.index=a+2,o.children.length&&Xv(o,e)}return e.didChange}const PN=new be,Ok={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,e){const t=Math.sign(this.scale.x)||1;e!==0?this.scale.x=n/e*t:this.scale.x=t},_setHeight(n,e){const t=Math.sign(this.scale.y)||1;e!==0?this.scale.y=n/e*t:this.scale.y=t},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new un});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didViewChangeTick&&(n.didChange=!0,n.data[0]=this._didViewChangeTick),Xv(this,n),n.didChange&&_p(this,n.localBounds,PN),n.localBounds},getBounds(n,e){return td(this,n,e||new un)}},Dk={_onRender:null,set onRender(n){const e=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},Mk={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(IN))}};function IN(n,e){return n._zIndex-e._zIndex}const Fk={getGlobalPosition(n=new ot,e=!1){return this.parent?this.parent.toGlobal(this._position,n,e):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,e,t=!1){const r=this.getGlobalTransform(_n.get(),t);return e=r.apply(n,e),_n.return(r),e},toLocal(n,e,t,r){e&&(n=e.toGlobal(n,t,r));const o=this.getGlobalTransform(_n.get(),r);return t=o.applyInverse(n,t),_n.return(o),t}};let RN=0;class qv{constructor(){this.uid=Ct("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.tick=0}reset(){this.instructionSize=0,this.tick=RN++}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let BN=0;class Lk{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,t,r){const o=new Ot({...this.textureOptions,width:e,height:t,resolution:1,antialias:r,autoGarbageCollect:!0});return new ae({source:o,label:`texturePool_${BN++}`})}getOptimalTexture(e,t,r=1,o){let i=Math.ceil(e*r-1e-6),s=Math.ceil(t*r-1e-6);i=Es(i),s=Es(s);const a=(i<<17)+(s<<1)+(o?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(i,s,o)),l.source._resolution=r,l.source.width=i/r,l.source.height=s/r,l.source.pixelWidth=i,l.source.pixelHeight=s,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=t,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,t=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,t)}returnTexture(e){const t=this._poolKeyHash[e.uid];this._texturePool[t].push(e)}clear(e){if(e=e!==!1,e)for(const t in this._texturePool){const r=this._texturePool[t];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const Lt=new Lk;class Nk{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new be,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new qv,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let r=0;r<t.length;r++)this.addChild(t[r])}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Lt.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const t=e.children;for(let r=0;r<t.length;r++)this.addChild(t[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const t=e.children;for(let r=0;r<t.length;r++)this.removeChild(t[r])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const t=this.root.children;for(let r=0;r<t.length;r++)this._getChildren(t[r],e);return e}_getChildren(e,t=[]){if(t.push(e),e.renderGroup)return t;const r=e.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new be),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new be),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new be),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function cf(n,e,t={}){for(const r in e)!t[r]&&e[r]!==void 0&&(n[r]=e[r])}const Dm=new Kt(null),Mm=new Kt(null),Fm=new Kt(null,1,1),Mc=1,xp=2,Aa=4,ON=8;class Je extends Zn{constructor(e={}){var t,r;super(),this.uid=Ct("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new be,this.relativeGroupTransform=new be,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Kt(this,0,0),this._scale=Fm,this._pivot=Mm,this._skew=Dm,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],cf(this,e,{children:!0,parent:!0,effects:!0}),(t=e.children)==null||t.forEach(o=>this.addChild(o)),(r=e.parent)==null||r.addChild(this)}static mixin(e){Object.defineProperties(Je.prototype,Object.getOwnPropertyDescriptors(e))}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||_e(Pe,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let o=0;o<e.length;o++)this.addChild(e[o]);return e[0]}const t=e[0],r=this.renderGroup||this.parentRenderGroup;return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),r&&(r.structureDidChange=!0),t):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t._updateFlags=15,r&&r.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didViewChangeTick++,t._zIndex!==0&&t.depthOfChildModified(),t)}removeChild(...e){if(e.length>1){for(let o=0;o<e.length;o++)this.removeChild(e[o]);return e[0]}const t=e[0],r=this.children.indexOf(t);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(t):this.parentRenderGroup&&this.parentRenderGroup.removeChild(t),t.parent=null,this.emit("childRemoved",t,this,r),t.emit("removed",this)),t}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Ge.get(Nk,this),this.groupTransform=be.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Ge.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new be),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*hk}set angle(e){this.rotation=e*fk}get pivot(){return this._pivot===Mm&&(this._pivot=new Kt(this,0,0)),this._pivot}set pivot(e){this._pivot===Mm&&(this._pivot=new Kt(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Dm&&(this._skew=new Kt(this,0,0)),this._skew}set skew(e){this._skew===Dm&&(this._skew=new Kt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Fm&&(this._scale=new Kt(this,1,1)),this._scale}set scale(e){this._scale===Fm&&(this._scale=new Kt(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const r=this.getLocalBounds();typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,r.width),t!==void 0&&this._setHeight(t,r.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,r=this._scale,o=this._pivot,i=this._position,s=r._x,a=r._y,l=o._x,c=o._y;t.a=this._cx*s,t.b=this._sx*s,t.c=this._cy*a,t.d=this._sy*a,t.tx=i._x-(l*t.a+c*t.c),t.ty=i._y-(l*t.b+c*t.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Mc,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=Ke.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Mc,this._onUpdate())}get tint(){return Ea(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=xp,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const t=e?2:0;(this.localDisplayStatus&2)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Aa,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const t=e?0:4;(this.localDisplayStatus&4)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Aa,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const t=e?1:0;(this.localDisplayStatus&1)!==t&&(this._updateFlags|=Aa,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var o;if(this.destroyed)return;this.destroyed=!0;let t;if(this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&t)for(let i=0;i<t.length;++i)t[i].destroy(e);(o=this.renderGroup)==null||o.destroy(),this.renderGroup=null}}Je.mixin(kk);Je.mixin(Fk);Je.mixin(Dk);Je.mixin(Ok);Je.mixin(Ak);Je.mixin(Pk);Je.mixin(Mk);Je.mixin(Ck);Je.mixin(Tk);Je.mixin(Ik);class ci extends Je{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=0,this._lastInstructionTick=-1,this._bounds=new un(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:r,y:o}=e;return r>=t.minX&&r<=t.maxX&&o>=t.minY&&o<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}}class Kr extends ci{constructor(e=ae.EMPTY){e instanceof ae&&(e={texture:e});const{texture:t=ae.EMPTY,anchor:r,roundPixels:o,width:i,height:s,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Kt({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=o??!1,i!==void 0&&(this.width=i),s!==void 0&&(this.height=s)}static from(e,t=!1){return e instanceof ae?new Kr(e):new Kr(ae.from(e,t))}set texture(e){e||(e=ae.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Bc(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return _e("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,r=this._bounds,{width:o,height:i}=t.orig;r.minX=-e._x*o,r.maxX=r.minX+o,r.minY=-e._y*i,r.maxY=r.minY+i}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),t!==void 0&&this._setHeight(t,this._texture.orig.height)}}const DN=new un;function wp(n,e,t){const r=DN;n.measurable=!0,td(n,t,r),e.addBoundsMask(r),n.measurable=!1}function Cp(n,e,t){const r=mo.get();n.measurable=!0;const o=_n.get().identity(),i=Yv(n,t,o);_p(n,r,i),n.measurable=!1,e.addBoundsMask(r),_n.return(o),mo.return(r)}function Yv(n,e,t){return n?(n!==e&&(Yv(n.parent,e,t),n.updateLocalTransform(),t.append(n.localTransform)),t):(Ce("Mask bounds, renderable is not inside the root container"),t)}class Zv{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Kr),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,t){this.inverse||wp(this.mask,e,t)}addLocalBounds(e,t){Cp(this.mask,e,t)}containsPoint(e,t){const r=this.mask;return t(r,e)}destroy(){this.reset()}static test(e){return e instanceof Kr}}Zv.extension=O.MaskEffect;class Jv{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}Jv.extension=O.MaskEffect;class Qv{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,t){wp(this.mask,e,t)}addLocalBounds(e,t){Cp(this.mask,e,t)}containsPoint(e,t){const r=this.mask;return t(r,e)}destroy(){this.reset()}static test(e){return e instanceof Je}}Qv.extension=O.MaskEffect;const $k={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let p2=$k;const Ve={get(){return p2},set(n){p2=n}};class Zo extends Ot{constructor(e){e.resource||(e.resource=Ve.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,t=this.height,r=this._resolution){const o=super.resize(e,t,r);return o&&this.resizeCanvas(),o}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Zo.extension=O.TextureSource;class Ns extends Ot{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const t=Ve.get().createCanvas(e.resource.width,e.resource.height);t.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=t,Ce("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Ns.extension=O.TextureSource;var Jo=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Jo||{});class Ch{constructor(e,t=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=r,this._once=o}match(e,t=null){return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const Uk=class ir{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ch(null,null,1/0),this.deltaMS=1/ir.targetFPMS,this.elapsedMS=1/ir.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=Jo.NORMAL){return this._addListener(new Ch(e,t,r))}addOnce(e,t,r=Jo.NORMAL){return this._addListener(new Ch(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*ir.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,ir.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!ir._shared){const e=ir._shared=new ir;e.autoStart=!0,e._protected=!0}return ir._shared}static get system(){if(!ir._system){const e=ir._system=new ir;e.autoStart=!0,e._protected=!0}return ir._system}};Uk.targetFPMS=.06;let mn=Uk,Lm;async function ey(){return Lm??(Lm=(async()=>{var s;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const t=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!t)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(o),e.deleteTexture(r),(s=e.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Lm}const Sp=class Gk extends Ot{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Gk.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=mn.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await ey(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,t.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(mn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(mn.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(mn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Sp.extension=O.TextureSource;Sp.defaultOptions={...Ot.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Sp.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let hc=Sp;const wr=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n);class MN{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||Ce(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=wr(e);let o;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(t)){o=c.getCacheableAssets(r,t);break}}const i=new Map(Object.entries(o||{}));o||r.forEach(l=>{i.set(l,t)});const s=[...i.keys()],a={cacheKeys:s,keys:r};r.forEach(l=>{this._cacheMap.set(l,a)}),s.forEach(l=>{const c=o?o[l]:t;this._cache.has(l)&&this._cache.get(l)!==c&&Ce("[Cache] already has key:",l),this._cache.set(l,i.get(l))})}remove(e){if(!this._cacheMap.has(e)){Ce(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(o=>{this._cache.delete(o)}),t.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const ut=new MN,ab=[];dt.handleByList(O.TextureSource,ab);function FN(n={}){return ty(n)}function ty(n={}){const e=n&&n.resource,t=e?n.resource:n,r=e?n:{resource:n};for(let o=0;o<ab.length;o++){const i=ab[o];if(i.test(t))return new i(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function Vk(n={},e=!1){const t=n&&n.resource,r=t?n.resource:n,o=t?n:{resource:n};if(!e&&ut.has(r))return ut.get(r);const i=new ae({source:ty(o)});return i.on("destroy",()=>{ut.has(r)&&ut.remove(r)}),e||ut.set(r,i),i}function zk(n,e=!1){return typeof n=="string"?ut.get(n):n instanceof Ot?new ae({source:n}):Vk(n,e)}ae.from=zk;Ot.from=ty;dt.add(Zv,Jv,Qv,hc,Ns,Zo,bp);var mr=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(mr||{});function Or(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function Il(n){return n.split("?")[0].split("#")[0]}function LN(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function NN(n,e,t){return n.replace(new RegExp(LN(e),"g"),t)}function $N(n,e){let t="",r=0,o=-1,i=0,s=-1;for(let a=0;a<=n.length;++a){if(a<n.length)s=n.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(o===a-1||i===1))if(o!==a-1&&i===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),o=a,i=0;continue}}else if(t.length===2||t.length===1){t="",r=0,o=a,i=0;continue}}}else t.length>0?t+=`/${n.slice(o+1,a)}`:t=n.slice(o+1,a),r=a-o-1;o=a,i=0}else s===46&&i!==-1?++i:i=-1}return t}const Wn={toPosix(n){return NN(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Or(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(Or(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const r=Il(this.toPosix(e??Ve.get().getBaseUrl())),o=Il(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?Wn.join(o,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(Or(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=$N(n),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return Or(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(Or(r),r.length>0)if(e===void 0)e=r;else{const o=n[t-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(Or(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,o=!0;const i=this.getProtocol(n),s=n;n=n.slice(i.length);for(let a=n.length-1;a>=1;--a)if(e=n.charCodeAt(a),e===47){if(!o){r=a;break}}else o=!1;return r===-1?t?"/":this.isUrl(s)?i+n:i:t&&r===1?"//":i+n.slice(0,r)},rootname(n){Or(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){Or(n),e&&Or(e),n=Il(this.toPosix(n));let t=0,r=-1,o=!0,i;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let s=e.length-1,a=-1;for(i=n.length-1;i>=0;--i){const l=n.charCodeAt(i);if(l===47){if(!o){t=i+1;break}}else a===-1&&(o=!1,a=i+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(r=i):(s=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}for(i=n.length-1;i>=0;--i)if(n.charCodeAt(i)===47){if(!o){t=i+1;break}}else r===-1&&(o=!1,r=i+1);return r===-1?"":n.slice(t,r)},extname(n){Or(n),n=Il(this.toPosix(n));let e=-1,t=0,r=-1,o=!0,i=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===47){if(!o){t=s+1;break}continue}r===-1&&(o=!1,r=s+1),a===46?e===-1?e=s:i!==1&&(i=1):e!==-1&&(i=-1)}return e===-1||r===-1||i===0||i===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){Or(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=Il(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let o;e.root=this.rootname(n),r||this.hasProtocol(n)?o=1:o=0;let i=-1,s=0,a=-1,l=!0,c=n.length-1,u=0;for(;c>=o;--c){if(t=n.charCodeAt(c),t===47){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),t===46?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}return i===-1||a===-1||u===0||u===1&&i===a-1&&i===s+1?a!==-1&&(s===0&&r?e.base=e.name=n.slice(1,a):e.base=e.name=n.slice(s,a)):(s===0&&r?(e.name=n.slice(1,i),e.base=n.slice(1,a)):(e.name=n.slice(s,i),e.base=n.slice(s,a)),e.ext=n.slice(i,a)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Hk(n,e,t,r,o){const i=e[t];for(let s=0;s<i.length;s++){const a=i[s];t<e.length-1?Hk(n.replace(r[t],a),e,t+1,r,o):o.push(n.replace(r[t],a))}}function jk(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const o=[];t.forEach(i=>{const s=i.substring(1,i.length-1).split(",");o.push(s)}),Hk(n,o,0,t,r)}else r.push(n);return r}const Fc=n=>!Array.isArray(n);class Zi{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,src:r}=e;return wr(t||r,i=>typeof i=="string"?i:Array.isArray(i)?i.map(s=>(s==null?void 0:s.src)??s):i!=null&&i.src?i.src:i,!0)}addManifest(e){this._manifest&&Ce("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];let o=t;Array.isArray(t)||(o=Object.entries(t).map(([i,s])=>typeof s=="string"||Array.isArray(s)?{alias:i,src:s}:{alias:i,...s})),o.forEach(i=>{const s=i.src,a=i.alias;let l;if(typeof a=="string"){const c=this._createBundleAssetId(e,a);r.push(c),l=[a,c]}else{const c=a.map(u=>this._createBundleAssetId(e,u));r.push(...c),l=[...a,...c]}this.add({...i,alias:l,src:s})}),this._bundles[e]=r}add(e){const t=[];Array.isArray(e)?t.push(...e):t.push(e);let r;r=i=>{this.hasKey(i)&&Ce(`[Resolver] already has key: ${i} overwriting`)},wr(t).forEach(i=>{const{src:s}=i;let{data:a,format:l,loadParser:c}=i;const u=wr(s).map(f=>typeof f=="string"?jk(f):Array.isArray(f)?f:[f]),d=this.getAlias(i);Array.isArray(d)?d.forEach(r):r(d);const h=[];u.forEach(f=>{f.forEach(p=>{let m={};if(typeof p!="object"){m.src=p;for(let g=0;g<this._parsers.length;g++){const b=this._parsers[g];if(b.test(p)){m=b.parse(p);break}}}else a=p.data??a,l=p.format??l,c=p.loadParser??c,m={...m,...p};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${m.src}`);m=this._buildResolvedAsset(m,{aliases:d,data:a,format:l,loadParser:c}),h.push(m)})}),d.forEach(f=>{this._assetMap[f]=h})})}resolveBundle(e){const t=Fc(e);e=wr(e);const r={};return e.forEach(o=>{const i=this._bundles[o];if(i){const s=this.resolve(i),a={};for(const l in s){const c=s[l];a[this._extractAssetIdFromBundle(o,l)]=c}r[o]=a}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const o in t)r[o]=t[o].src;return r}return t.src}resolve(e){const t=Fc(e);e=wr(e);const r={};return e.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let i=this._assetMap[o];const s=this._getPreferredOrder(i);s==null||s.priority.forEach(a=>{s.params[a].forEach(l=>{const c=i.filter(u=>u[a]?u[a]===l:!1);c.length&&(i=c)})}),this._resolverHash[o]=i[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],o=this._preferredOrder.find(i=>i.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){const{aliases:r,data:o,loadParser:i,format:s}=t;return(this._basePath||this._rootPath)&&(e.src=Wn.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...o||{},...e.data},e.loadParser=i??e.loadParser,e.format=s??e.format??Wk(e.src),e}}Zi.RETINA_PREFIX=/@([0-9\.]+)x/;function Wk(n){return n.split(".").pop().split("?").shift().split("#").shift()}const uf=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n},Kk=class ql{constructor(e,t){this.linkedSheets=[],this._texture=e instanceof ae?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=t;const r=parseFloat(t.meta.scale);r?(this.resolution=r,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=ql.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=ql.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const o=this._frameKeys[t],i=this._frames[o],s=i.frame;if(s){let a=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new Qe(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?a=new Qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):a=new Qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new Qe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[o]=new ae({source:this.textureSource,frame:a,orig:u,trim:l,rotate:i.rotated?2:0,defaultAnchor:i.anchor,defaultBorders:i.borders,label:o.toString()})}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const o=e[t][r];this.animations[t].push(this.textures[o])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ql.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ql.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Kk.BATCH_SIZE=1e3;let lb=Kk;const UN=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Xk(n,e,t){const r={};if(n.forEach(o=>{r[o]=e}),Object.keys(e.textures).forEach(o=>{r[o]=e.textures[o]}),!t){const o=Wn.dirname(n[0]);e.linkedSheets.forEach((i,s)=>{const a=Xk([`${o}/${e.data.meta.related_multi_packs[s]}`],i,!0);Object.assign(r,a)})}return r}const qk={extension:O.Asset,cache:{test:n=>n instanceof lb,getCacheableAssets:(n,e)=>Xk(n,e,!1)},resolver:{extension:{type:O.ResolveParser,name:"resolveSpritesheet"},test:n=>{const t=n.split("?")[0].split("."),r=t.pop(),o=t.pop();return r==="json"&&UN.includes(o)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Zi.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:O.LoadParser,priority:mr.Normal,name:"spritesheetLoader"},async testParse(n,e){return Wn.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var c,u;const{texture:r,imageFilename:o}=(e==null?void 0:e.data)??{};let i=Wn.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let s;if(r instanceof ae)s=r;else{const d=uf(i+(o??n.meta.image),e.src);s=(await t.load([d]))[d]}const a=new lb(s.source,n);await a.parse();const l=(c=n==null?void 0:n.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const d=[];for(const f of l){if(typeof f!="string")continue;let p=i+f;(u=e.data)!=null&&u.ignoreMultiPack||(p=uf(p,e.src),d.push(t.load({src:p,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(d);a.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},async unload(n,e,t){await t.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};dt.add(qk);class hl{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=hl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ot,this.page=new ot,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,o,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var Nm=/iPhone/i,m2=/iPod/i,g2=/iPad/i,b2=/\biOS-universal(?:.+)Mac\b/i,$m=/\bAndroid(?:.+)Mobile\b/i,v2=/Android/i,Ks=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fd=/Silk/i,Bo=/Windows Phone/i,y2=/\bWindows(?:.+)ARM\b/i,_2=/BlackBerry/i,x2=/BB10/i,w2=/Opera Mini/i,C2=/\b(CriOS|Chrome)(?:.+)Mobile/i,S2=/Mobile(?:.+)Firefox\b/i,T2=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function GN(n){return function(e){return e.test(n)}}function k2(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var o=GN(t),i={apple:{phone:o(Nm)&&!o(Bo),ipod:o(m2),tablet:!o(Nm)&&(o(g2)||T2(e))&&!o(Bo),universal:o(b2),device:(o(Nm)||o(m2)||o(g2)||o(b2)||T2(e))&&!o(Bo)},amazon:{phone:o(Ks),tablet:!o(Ks)&&o(Fd),device:o(Ks)||o(Fd)},android:{phone:!o(Bo)&&o(Ks)||!o(Bo)&&o($m),tablet:!o(Bo)&&!o(Ks)&&!o($m)&&(o(Fd)||o(v2)),device:!o(Bo)&&(o(Ks)||o(Fd)||o($m)||o(v2))||o(/\bokhttp\b/i)},windows:{phone:o(Bo),tablet:o(y2),device:o(Bo)||o(y2)},other:{blackberry:o(_2),blackberry10:o(x2),opera:o(w2),firefox:o(S2),chrome:o(C2),device:o(_2)||o(x2)||o(w2)||o(S2)||o(C2)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}const VN=k2.default??k2,Yk=VN(globalThis.navigator),zN=9,Ld=100,HN=0,jN=0,E2=2,A2=1,WN=-1e3,KN=-1e3,XN=2;class Zk{constructor(e,t=Yk){this._mobileInfo=t,this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(t.tablet||t.phone)&&this._createTouchHook();const r=document.createElement("div");r.style.width=`${Ld}px`,r.style.height=`${Ld}px`,r.style.position="absolute",r.style.top=`${HN}px`,r.style.left=`${jN}px`,r.style.zIndex=E2.toString(),this._div=r,this._renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${A2}px`,e.style.height=`${A2}px`,e.style.position="absolute",e.style.top=`${WN}px`,e.style.left=`${KN}px`,e.style.zIndex=XN.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.add(this),(e=this._renderer.view.canvas.parentNode)==null||e.appendChild(this._div))}_deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this),(e=this._div.parentNode)==null||e.removeChild(this._div))}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this._updateAccessibleObjects(t[r])}init(e){this.debug=(e==null?void 0:e.debug)??this.debug,this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered);const{x:t,y:r,width:o,height:i}=this._renderer.view.canvas.getBoundingClientRect(),{width:s,height:a,resolution:l}=this._renderer,c=o/s*l,u=i/a*l;let d=this._div;d.style.left=`${t}px`,d.style.top=`${r}px`,d.style.width=`${s}px`,d.style.height=`${a}px`;for(let h=0;h<this._children.length;h++){const f=this._children[h];if(f._renderId!==this._renderId)f._accessibleActive=!1,jv(this._children,h,1),this._div.removeChild(f._accessibleDiv),this._pool.push(f._accessibleDiv),f._accessibleDiv=null,h--;else{d=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(d.style.left=`${(m.tx+p.x*m.a)*c}px`,d.style.top=`${(m.ty+p.y*m.d)*u}px`,d.style.width=`${p.width*m.a*c}px`,d.style.height=`${p.height*m.d*u}px`):(p=f.getBounds().rectangle,this._capHitArea(p),d.style.left=`${p.x*c}px`,d.style.top=`${p.y*u}px`,d.style.width=`${p.width*c}px`,d.style.height=`${p.height*u}px`,d.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(d.title=f.accessibleTitle||""),d.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&d.setAttribute("aria-label",f.accessibleHint||"")),(f.accessibleTitle!==d.title||f.tabIndex!==d.tabIndex)&&(d.title=f.accessibleTitle||"",d.tabIndex=f.tabIndex,this.debug&&this._updateDebugHTML(d))}}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this._renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}_addChild(e){let t=this._pool.pop();t||(t=document.createElement("button"),t.style.width=`${Ld}px`,t.style.height=`${Ld}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=E2.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{container:r}=e.target,o=this._renderer.events.rootBoundary,i=Object.assign(new hl(o),{target:r});o.rootTarget=this._renderer.lastObjectRendered,t.forEach(s=>o.dispatchEvent(i,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===zN&&this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){this._destroyTouchHook(),this._div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this._pool=null,this._children=null,this._renderer=null}}Zk.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"accessibility"};const qN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1},Um=Object.create(null),P2=Object.create(null);function Wa(n,e){let t=P2[n];return t===void 0&&(Um[e]===void 0&&(Um[e]=1),P2[n]=t=Um[e]++),t}let Xs;function ny(){return(!Xs||Xs!=null&&Xs.isContextLost())&&(Xs=Ve.get().createCanvas().getContext("webgl",{})),Xs}let Nd;function Jk(){if(!Nd){Nd="mediump";const n=ny();n&&n.getShaderPrecisionFormat&&(Nd=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?"highp":"mediump")}return Nd}function Qk(n,e,t){return e?n:t?(n=n.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${n}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${n}
        `}function eE(n,e,t){const r=t?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(n.substring(0,9)!=="precision"){let o=t?e.requestedFragmentPrecision:e.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${n}`}else if(r!=="highp"&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}function tE(n,e){return e?`#version 300 es
${n}`:n}const YN={},ZN={};function nE(n,{name:e="pixi-program"},t=!0){e=e.replace(/\s+/g,"-"),e+=t?"-fragment":"-vertex";const r=t?YN:ZN;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,n.indexOf("#define SHADER_NAME")!==-1?n:`${`#define SHADER_NAME ${e}`}
${n}`}function rE(n,e){return e?n.replace("#version 300 es",""):n}const Gm={stripVersion:rE,ensurePrecision:eE,addProgramDefines:Qk,setProgramName:nE,insertVersion:tE},Vm=Object.create(null),oE=class cb{constructor(e){e={...cb.defaultOptions,...e};const t=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:t,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Jk()},setProgramName:{name:e.name},addProgramDefines:t,insertVersion:t};let o=e.fragment,i=e.vertex;Object.keys(Gm).forEach(s=>{const a=r[s];o=Gm[s](o,a,!0),i=Gm[s](i,a,!1)}),this.fragment=o,this.vertex=i,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Wa(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const t=`${e.vertex}:${e.fragment}`;return Vm[t]||(Vm[t]=new cb(e)),Vm[t]}};oE.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let gr=oE;const I2={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Qo(n){return I2[n]??I2.float32}const JN={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function iE({source:n,entryPoint:e}){const t={},r=n.indexOf(`fn ${e}`);if(r!==-1){const o=n.indexOf("->",r);if(o!==-1){const i=n.substring(r,o),s=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=s.exec(i))!==null;){const l=JN[a[3]]??"float32";t[a[2]]={location:parseInt(a[1],10),format:l,stride:Qo(l).stride,offset:0,instance:!1,start:0}}}}return t}function Sh(n){var d,h;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,t=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,i=/:\s*(\w+)/,s=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,c=(d=n.match(e))==null?void 0:d.map(f=>({group:parseInt(f.match(t)[1],10),binding:parseInt(f.match(r)[1],10),name:f.match(o)[2],isUniform:f.match(o)[1]==="<uniform>",type:f.match(i)[1]}));if(!c)return{groups:[],structs:[]};const u=((h=n.match(s))==null?void 0:h.map(f=>{const p=f.match(l)[1],m=f.match(a).reduce((g,b)=>{const[_,v]=b.split(":");return g[_.trim()]=v.trim(),g},{});return m?{name:p,members:m}:null}).filter(({name:f})=>c.some(p=>p.type===f)))??[];return{groups:c,structs:u}}var fa=(n=>(n[n.VERTEX=1]="VERTEX",n[n.FRAGMENT=2]="FRAGMENT",n[n.COMPUTE=4]="COMPUTE",n))(fa||{});function sE({groups:n}){const e=[];for(let t=0;t<n.length;t++){const r=n[t];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:fa.VERTEX|fa.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:fa.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:fa.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function aE({groups:n}){const e=[];for(let t=0;t<n.length;t++){const r=n[t];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function lE(n,e){const t=new Set,r=new Set,o=[...n.structs,...e.structs].filter(s=>t.has(s.name)?!1:(t.add(s.name),!0)),i=[...n.groups,...e.groups].filter(s=>{const a=`${s.name}-${s.binding}`;return r.has(a)?!1:(r.add(a),!0)});return{structs:o,groups:i}}const zm=Object.create(null);class Jn{constructor(e){var a,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:t,vertex:r,layout:o,gpuLayout:i,name:s}=e;if(this.name=s,this.fragment=t,this.vertex=r,t.source===r.source){const c=Sh(t.source);this.structsAndGroups=c}else{const c=Sh(r.source),u=Sh(t.source);this.structsAndGroups=lE(c,u)}this.layout=o??aE(this.structsAndGroups),this.gpuLayout=i??sE(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,r=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=Wa(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=iE(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return zm[t]||(zm[t]=new Jn(e)),zm[t]}}const ry=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],cE=ry.reduce((n,e)=>(n[e]=!0,n),{});function uE(n,e){switch(n){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const dE=class hE{constructor(e,t){this._touched=0,this.uid=Ct("uniform"),this._resourceType="uniformGroup",this._resourceId=Ct("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,t={...hE.defaultOptions,...t},this.uniformStructures=e;const r={};for(const o in e){const i=e[o];if(i.name=o,i.size=i.size??1,!cE[i.type])throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${ry.join(", ")}`);i.value??(i.value=uE(i.type,i.size)),r[o]=i.value}this.uniforms=r,this._dirtyId=1,this.ubo=t.ubo,this.isStatic=t.isStatic,this._signature=Wa(Object.keys(r).map(o=>`${o}-${e[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};dE.defaultOptions={ubo:!1,isStatic:!1};let Vt=dE;class go{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const r in e){const o=e[r];this.setResource(o,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const r in this.resources)e[t++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,t){var o,i;const r=this.resources[t];e!==r&&(r&&((o=e.off)==null||o.call(e,"change",this.onResourceChange,this)),(i=e.on)==null||i.call(e,"change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const r in t)t[r]._touched=e}destroy(){var t;const e=this.resources;for(const r in e){const o=e[r];(t=o.off)==null||t.call(o,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const r in t)t[r]===e&&(t[r]=null)}else this._updateKey()}}var qn=(n=>(n[n.WEBGL=1]="WEBGL",n[n.WEBGPU=2]="WEBGPU",n[n.BOTH=3]="BOTH",n))(qn||{});class br extends Zn{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:r,groups:o,resources:i,compatibleRenderers:s,groupMap:a}=e;this.gpuProgram=t,this.glProgram=r,s===void 0&&(s=0,t&&(s|=qn.WEBGPU),r&&(s|=qn.WEBGL)),this.compatibleRenderers=s;const l={};if(!i&&!o&&(i={}),i&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&o&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&o&&a)for(const c in a)for(const u in a[c]){const d=a[c][u];l[d]={group:c,binding:u,name:d}}else if(t&&o&&!a){const c=t.structsAndGroups.groups;a={},c.forEach(u=>{a[u.group]=a[u.group]||{},a[u.group][u.binding]=u.name,l[u.name]=u})}else if(i){o={},a={},t&&t.structsAndGroups.groups.forEach(d=>{a[d.group]=a[d.group]||{},a[d.group][d.binding]=d.name,l[d.name]=d});let c=0;for(const u in i)l[u]||(o[99]||(o[99]=new go,this._ownedBindGroups.push(o[99])),l[u]={group:99,binding:c,name:u},a[99]=a[99]||{},a[99][c]=u,c++);for(const u in i){const d=u;let h=i[u];!h.source&&!h._resourceType&&(h=new Vt(h));const f=l[d];f&&(o[f.group]||(o[f.group]=new go,this._ownedBindGroups.push(o[f.group])),o[f.group].setResource(h,f.binding))}}this.groups=o,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(o,l)}addResource(e,t,r){var o,i;(o=this._uniformBindMap)[t]||(o[t]={}),(i=this._uniformBindMap[t])[r]||(i[r]=e),this.groups[t]||(this.groups[t]=new go,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const r={};for(const o in t){const i=t[o];Object.defineProperty(r,i.name,{get(){return e[i.group].getResource(i.binding)},set(s){e[i.group].setResource(s,i.binding)}})}return r}destroy(e=!1){var t,r;this.emit("destroy",this),e&&((t=this.gpuProgram)==null||t.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:r,...o}=e;let i,s;return t&&(i=Jn.from(t)),r&&(s=gr.from(r)),new br({gpuProgram:i,glProgram:s,...o})}}const QN={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Hm=0,jm=1,Wm=2,Km=3,Xm=4,qm=5,ub=class fE{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Hm)}set blend(e){!!(this.data&1<<Hm)!==e&&(this.data^=1<<Hm)}get offsets(){return!!(this.data&1<<jm)}set offsets(e){!!(this.data&1<<jm)!==e&&(this.data^=1<<jm)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Wm)}set culling(e){!!(this.data&1<<Wm)!==e&&(this.data^=1<<Wm)}get depthTest(){return!!(this.data&1<<Km)}set depthTest(e){!!(this.data&1<<Km)!==e&&(this.data^=1<<Km)}get depthMask(){return!!(this.data&1<<qm)}set depthMask(e){!!(this.data&1<<qm)!==e&&(this.data^=1<<qm)}get clockwiseFrontFace(){return!!(this.data&1<<Xm)}set clockwiseFrontFace(e){!!(this.data&1<<Xm)!==e&&(this.data^=1<<Xm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=QN[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new fE;return e.depthTest=!1,e.blend=!0,e}};ub.default2d=ub.for2d();let pr=ub;const pE=class db extends br{constructor(e){e={...db.defaultOptions,...e},super(e),this.enabled=!0,this._state=pr.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,o){e.applyFilter(this,t,r,o)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:t,gl:r,...o}=e;let i,s;return t&&(i=Jn.from(t)),r&&(s=gr.from(r)),new db({gpuProgram:i,glProgram:s,...o})}};pE.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let ui=pE;var mE=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uBlend;

uniform sampler2D uTexture;
uniform sampler2D uBackTexture;

{FUNCTIONS}

void main()
{ 
    vec4 back = texture(uBackTexture, vTextureCoord);
    vec4 front = texture(uTexture, vTextureCoord);
    float blendedAlpha = front.a + back.a * (1.0 - front.a);
    
    {MAIN}
}
`,gE=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 backgroundUv;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,bE=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlendUniforms {
  uBlend:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(0) @binding(3) var uBackTexture: texture_2d<f32>;

@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

{FUNCTIONS}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>
) -> @location(0) vec4<f32> {


   var back =  textureSample(uBackTexture, uSampler, uv);
   var front = textureSample(uTexture, uSampler, uv);
   var blendedAlpha = front.a + back.a * (1.0 - front.a);
   
   var out = vec4<f32>(0.0,0.0,0.0,0.0);

   {MAIN}

   return out;
}`;class Mt extends ui{constructor(e){const t=e.gpu,r=R2({source:bE,...t}),o=Jn.from({vertex:{source:r,entryPoint:"mainVertex"},fragment:{source:r,entryPoint:"mainFragment"}}),i=e.gl,s=R2({source:mE,...i}),a=gr.from({vertex:gE,fragment:s}),l=new Vt({uBlend:{value:1,type:"f32"}});super({gpuProgram:o,glProgram:a,blendRequired:!0,resources:{blendUniforms:l,uBackTexture:ae.EMPTY}})}}function R2(n){const{source:e,functions:t,main:r}=n;return e.replace("{FUNCTIONS}",t).replace("{MAIN}",r)}const Tp=`
	float getLuminosity(vec3 c) {
		return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
	}

	vec3 setLuminosity(vec3 c, float lum) {
		float modLum = lum - getLuminosity(c);
		vec3 color = c.rgb + vec3(modLum);

		// clip back into legal range
		modLum = getLuminosity(color);
		vec3 modLumVec = vec3(modLum);

		float cMin = min(color.r, min(color.g, color.b));
		float cMax = max(color.r, max(color.g, color.b));

		if(cMin < 0.0) {
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0) {
			color = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));
		}

		return color;
	}

	float getSaturation(vec3 c) {
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	vec3 setSaturationMinMidMax(vec3 cSorted, float s) {
		vec3 colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x) {
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else {
			colorSorted.y = 0.0;
			colorSorted.z = 0.0;
		}

		colorSorted.x = 0.0;

		return colorSorted;
	}

	vec3 setSaturation(vec3 c, float s) {
		vec3 color = c;

		if(color.r <= color.g && color.r <= color.b) {
			if(color.g <= color.b) {
				color = setSaturationMinMidMax(color.rgb, s).rgb;
			}
			else {
				color = setSaturationMinMidMax(color.rbg, s).rbg;
			}
		}
		else if(color.g <= color.r && color.g <= color.b) {
			if(color.r <= color.b) {
				color = setSaturationMinMidMax(color.grb, s).grb;
			}
			else {
				color = setSaturationMinMidMax(color.gbr, s).gbr;
			}
		}
		else {
			// Using bgr for both fixes part of hue
			if(color.r <= color.g) {
				color = setSaturationMinMidMax(color.brg, s).brg;
			}
			else {
				color = setSaturationMinMidMax(color.bgr, s).bgr;
			}
		}

		return color;
	}
    `,kp=`
	fn getLuminosity(c: vec3<f32>) -> f32
	{
		return 0.3*c.r + 0.59*c.g + 0.11*c.b;
	}

	fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>
	{
		var modLum: f32 = lum - getLuminosity(c);
		var color: vec3<f32> = c.rgb + modLum;

		// clip back into legal range
		modLum = getLuminosity(color);
		let modLumVec = vec3<f32>(modLum);

		let cMin: f32 = min(color.r, min(color.g, color.b));
		let cMax: f32 = max(color.r, max(color.g, color.b));

		if(cMin < 0.0)
		{
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0)
		{
			color = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));
		}

		return color;
	}

	fn getSaturation(c: vec3<f32>) -> f32
	{
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>
	{
		var colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x)
		{
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else
		{
			colorSorted.y = 0;
			colorSorted.z = 0;
		}

		colorSorted.x = 0;

		return colorSorted;
	}

	fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>
	{
		var color = c;

		if (color.r <= color.g && color.r <= color.b)
		{
			if (color.g <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;
			}
		}
		else if (color.g <= color.r && color.g <= color.b)
		{
			if (color.r <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;
			}
		}
		else
		{
			// Using bgr for both fixes part of hue
			if (color.r <= color.g)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;
			}
			else
			{
				color  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;
			}
		}

		return color;
	}
	`;class vE extends Mt{constructor(){super({gl:{functions:`
                ${Tp}

                vec3 blendColor(vec3 base, vec3 blend,  float opacity)
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColor(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                ${kp}

                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}vE.extension={name:"color",type:O.BlendMode};class yE extends Mt{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0 - ((1.0 - base) / blend)), 0.0);
                }

                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendColorBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}yE.extension={name:"color-burn",type:O.BlendMode};class _E extends Mt{constructor(){super({gl:{functions:`
                float colorDodge(float base, float blend)
                {
                    return base / (1.0 - blend);
                }

                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColorDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return base / (1.0 - blend);
                }

                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}_E.extension={name:"color-dodge",type:O.BlendMode};class xE extends Mt{constructor(){super({gl:{functions:`
                vec3 blendDarken(vec3 base, vec3 blend, float opacity)
                {
                    return (min(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDarken(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (min(blend,base) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}xE.extension={name:"darken",type:O.BlendMode};class wE extends Mt{constructor(){super({gl:{functions:`
                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendDifference(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}wE.extension={name:"difference",type:O.BlendMode};class CE extends Mt{constructor(){super({gl:{functions:`
                float divide(float base, float blend)
                {
                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;
                }

                vec3 blendDivide(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDivide(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn divide(base: f32, blend: f32) -> f32
                {
                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);
                }

                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}CE.extension={name:"divide",type:O.BlendMode};class SE extends Mt{constructor(){super({gl:{functions:`
                vec3 exclusion(vec3 base, vec3 blend)
                {
                    return base + blend - 2.0 * base * blend;
                }

                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendExclusion(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return base+blend-2.0*base*blend;
                }

                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}SE.extension={name:"exclusion",type:O.BlendMode};class TE extends Mt{constructor(){super({gl:{functions:`
                float hardLight(float base, float blend)
                {
                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);
                }

                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn hardLight(base: f32, blend: f32) -> f32
                {
                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);
                }

                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}TE.extension={name:"hard-light",type:O.BlendMode};class kE extends Mt{constructor(){super({gl:{functions:`
                float hardMix(float base, float blend)
                {
                    return (base + blend >= 1.0) ? 1.0 : 0.0;
                }

                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blended = vec3(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardMix(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn hardMix(base: f32, blend: f32) -> f32
                {
                    return select(0.0, 1.0, base + blend >= 1.0);
                }

                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}kE.extension={name:"hard-mix",type:O.BlendMode};class EE extends Mt{constructor(){super({gl:{functions:`
                vec3 blendLighten(vec3 base, vec3 blend, float opacity)
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLighten(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}EE.extension={name:"lighten",type:O.BlendMode};class AE extends Mt{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend)
                {
                    return max(0.0, base + blend - 1.0);
                }

                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}AE.extension={name:"linear-burn",type:O.BlendMode};class PE extends Mt{constructor(){super({gl:{functions:`
                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1, base + blend);
                }

                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}PE.extension={name:"linear-dodge",type:O.BlendMode};class IE extends Mt{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend) {
                    return max(0.0, base + blend - 1.0);
                }

                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                float linearLight(float base, float blend) {
                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));
                }

                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendLinearLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base + blend);
                }

                fn linearLight(base: f32, blend: f32) -> f32
                {
                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);
                }

                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}IE.extension={name:"linear-light",type:O.BlendMode};class RE extends Mt{constructor(){super({gl:{functions:`
                ${Tp}

                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLuminosity(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                ${kp}

                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}RE.extension={name:"luminosity",type:O.BlendMode};class BE extends Mt{constructor(){super({gl:{functions:`
                vec3 negation(vec3 base, vec3 blend)
                {
                    return 1.0-abs(1.0-base-blend);
                }

                vec3 blendNegation(vec3 base, vec3 blend, float opacity)
                {
                    return (negation(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return 1.0-abs(1.0-base-blend);
                }

                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}BE.extension={name:"negation",type:O.BlendMode};class OE extends Mt{constructor(){super({gl:{functions:`
                float overlay(float base, float blend)
                {
                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));
                }

                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );
   
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendOverlay(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn overlay(base: f32, blend: f32) -> f32
                {
                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);
                }

                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}OE.extension={name:"overlay",type:O.BlendMode};class DE extends Mt{constructor(){super({gl:{functions:`
                float pinLight(float base, float blend)
                {
                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));
                }

                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn pinLight(base: f32, blend: f32) -> f32
                {
                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);
                }

                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}DE.extension={name:"pin-light",type:O.BlendMode};class ME extends Mt{constructor(){super({gl:{functions:`
                ${Tp}

                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                ${kp}

                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}ME.extension={name:"saturation",type:O.BlendMode};class FE extends Mt{constructor(){super({gl:{functions:`
                float softLight(float base, float blend)
                {
                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));
                }

                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn softLight(base: f32, blend: f32) -> f32
                {
                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);
                }

                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}FE.extension={name:"soft-light",type:O.BlendMode};class LE extends Mt{constructor(){super({gl:{functions:`
                float subtract(float base, float blend)
                {
                    return max(0.0, base - blend);
                }

                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn subtract(base: f32, blend: f32) -> f32
                {
                    return max(0, base - blend);
                }

                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}LE.extension={name:"subtract",type:O.BlendMode};class NE extends Mt{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                float colorDodge(float base, float blend)
                {
                    return min(1.0, base / (1.0-blend));
                }

                float vividLight(float base, float blend)
                {
                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));
                }

                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendVividLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base / (1.0-blend));
                }

                fn vividLight(base: f32, blend: f32) -> f32
                {
                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);
                }

                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}NE.extension={name:"vivid-light",type:O.BlendMode};const hb=[];dt.handleByNamedList(O.Environment,hb);async function oy(n){if(!n)for(let e=0;e<hb.length;e++){const t=hb[e];if(t.value.test()){await t.value.load();return}}}async function e$(n){return oy(!n)}let Rl;function iy(){if(typeof Rl=="boolean")return Rl;try{Rl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Rl=!1}return Rl}var sy={exports:{}};sy.exports=Ep;sy.exports.default=Ep;function Ep(n,e,t){t=t||2;var r=e&&e.length,o=r?e[0]*t:n.length,i=$E(n,0,o,t,!0),s=[];if(!i||i.next===i.prev)return s;var a,l,c,u,d,h,f;if(r&&(i=i$(n,e,i,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(var p=t;p<o;p+=t)d=n[p],h=n[p+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-a,u-l),f=f!==0?32767/f:0}return Lc(i,s,t,a,l,f,0),s}function $E(n,e,t,r,o){var i,s;if(o===mb(n,e,t,r)>0)for(i=e;i<t;i+=r)s=B2(i,n[i],n[i+1],s);else for(i=t-r;i>=e;i-=r)s=B2(i,n[i],n[i+1],s);return s&&Ap(s,s.next)&&($c(s),s=s.next),s}function As(n,e){if(!n)return n;e||(e=n);var t=n,r;do if(r=!1,!t.steiner&&(Ap(t,t.next)||Et(t.prev,t,t.next)===0)){if($c(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Lc(n,e,t,r,o,i,s){if(n){!s&&i&&u$(n,r,o,i);for(var a=n,l,c;n.prev!==n.next;){if(l=n.prev,c=n.next,i?n$(n,r,o,i):t$(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),$c(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=r$(As(n),e,t),Lc(n,e,t,r,o,i,2)):s===2&&o$(n,e,t,r,o,i):Lc(As(n),e,t,r,o,i,1);break}}}}function t$(n){var e=n.prev,t=n,r=n.next;if(Et(e,t,r)>=0)return!1;for(var o=e.x,i=t.x,s=r.x,a=e.y,l=t.y,c=r.y,u=o<i?o<s?o:s:i<s?i:s,d=a<l?a<c?a:c:l<c?l:c,h=o>i?o>s?o:s:i>s?i:s,f=a>l?a>c?a:c:l>c?l:c,p=r.next;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&pa(o,a,i,l,s,c,p.x,p.y)&&Et(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function n$(n,e,t,r){var o=n.prev,i=n,s=n.next;if(Et(o,i,s)>=0)return!1;for(var a=o.x,l=i.x,c=s.x,u=o.y,d=i.y,h=s.y,f=a<l?a<c?a:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,m=a>l?a>c?a:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,b=fb(f,p,e,t,r),_=fb(m,g,e,t,r),v=n.prevZ,y=n.nextZ;v&&v.z>=b&&y&&y.z<=_;){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==o&&v!==s&&pa(a,u,l,d,c,h,v.x,v.y)&&Et(v.prev,v,v.next)>=0||(v=v.prevZ,y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==o&&y!==s&&pa(a,u,l,d,c,h,y.x,y.y)&&Et(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;v&&v.z>=b;){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==o&&v!==s&&pa(a,u,l,d,c,h,v.x,v.y)&&Et(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=_;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==o&&y!==s&&pa(a,u,l,d,c,h,y.x,y.y)&&Et(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function r$(n,e,t){var r=n;do{var o=r.prev,i=r.next.next;!Ap(o,i)&&UE(o,r,r.next,i)&&Nc(o,i)&&Nc(i,o)&&(e.push(o.i/t|0),e.push(r.i/t|0),e.push(i.i/t|0),$c(r),$c(r.next),r=n=i),r=r.next}while(r!==n);return As(r)}function o$(n,e,t,r,o,i){var s=n;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&f$(s,a)){var l=GE(s,a);s=As(s,s.next),l=As(l,l.next),Lc(s,e,t,r,o,i,0),Lc(l,e,t,r,o,i,0);return}a=a.next}s=s.next}while(s!==n)}function i$(n,e,t,r){var o=[],i,s,a,l,c;for(i=0,s=e.length;i<s;i++)a=e[i]*r,l=i<s-1?e[i+1]*r:n.length,c=$E(n,a,l,r,!1),c===c.next&&(c.steiner=!0),o.push(h$(c));for(o.sort(s$),i=0;i<o.length;i++)t=a$(o[i],t);return t}function s$(n,e){return n.x-e.x}function a$(n,e){var t=l$(n,e);if(!t)return e;var r=GE(t,n);return As(r,r.next),As(t,t.next)}function l$(n,e){var t=e,r=n.x,o=n.y,i=-1/0,s;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){var a=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=r&&a>i&&(i=a,s=t.x<t.next.x?t:t.next,a===r))return s}t=t.next}while(t!==e);if(!s)return null;var l=s,c=s.x,u=s.y,d=1/0,h;t=s;do r>=t.x&&t.x>=c&&r!==t.x&&pa(o<u?r:i,o,c,u,o<u?i:r,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(r-t.x),Nc(t,n)&&(h<d||h===d&&(t.x>s.x||t.x===s.x&&c$(s,t)))&&(s=t,d=h)),t=t.next;while(t!==l);return s}function c$(n,e){return Et(n.prev,n,e.prev)<0&&Et(e.next,n,n.next)<0}function u$(n,e,t,r){var o=n;do o.z===0&&(o.z=fb(o.x,o.y,e,t,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==n);o.prevZ.nextZ=null,o.prevZ=null,d$(o)}function d$(n){var e,t,r,o,i,s,a,l,c=1;do{for(t=n,n=null,i=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(o=t,t=t.nextZ,a--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:n=o,o.prevZ=i,i=o;t=r}i.nextZ=null,c*=2}while(s>1);return n}function fb(n,e,t,r,o){return n=(n-t)*o|0,e=(e-r)*o|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function h$(n){var e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pa(n,e,t,r,o,i,s,a){return(o-s)*(e-a)>=(n-s)*(i-a)&&(n-s)*(r-a)>=(t-s)*(e-a)&&(t-s)*(i-a)>=(o-s)*(r-a)}function f$(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!p$(n,e)&&(Nc(n,e)&&Nc(e,n)&&m$(n,e)&&(Et(n.prev,n,e.prev)||Et(n,e.prev,e))||Ap(n,e)&&Et(n.prev,n,n.next)>0&&Et(e.prev,e,e.next)>0)}function Et(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Ap(n,e){return n.x===e.x&&n.y===e.y}function UE(n,e,t,r){var o=Ud(Et(n,e,t)),i=Ud(Et(n,e,r)),s=Ud(Et(t,r,n)),a=Ud(Et(t,r,e));return!!(o!==i&&s!==a||o===0&&$d(n,t,e)||i===0&&$d(n,r,e)||s===0&&$d(t,n,r)||a===0&&$d(t,e,r))}function $d(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ud(n){return n>0?1:n<0?-1:0}function p$(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&UE(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Nc(n,e){return Et(n.prev,n,n.next)<0?Et(n,e,n.next)>=0&&Et(n,n.prev,e)>=0:Et(n,e,n.prev)<0||Et(n,n.next,e)<0}function m$(n,e){var t=n,r=!1,o=(n.x+e.x)/2,i=(n.y+e.y)/2;do t.y>i!=t.next.y>i&&t.next.y!==t.y&&o<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function GE(n,e){var t=new pb(n.i,n.x,n.y),r=new pb(e.i,e.x,e.y),o=n.next,i=e.prev;return n.next=e,e.prev=n,t.next=o,o.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function B2(n,e,t,r){var o=new pb(n,e,t);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function $c(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function pb(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ep.deviation=function(n,e,t,r){var o=e&&e.length,i=o?e[0]*t:n.length,s=Math.abs(mb(n,0,i,t));if(o)for(var a=0,l=e.length;a<l;a++){var c=e[a]*t,u=a<l-1?e[a+1]*t:n.length;s-=Math.abs(mb(n,c,u,t))}var d=0;for(a=0;a<r.length;a+=3){var h=r[a]*t,f=r[a+1]*t,p=r[a+2]*t;d+=Math.abs((n[h]-n[p])*(n[f+1]-n[h+1])-(n[h]-n[f])*(n[p+1]-n[h+1]))}return s===0&&d===0?0:Math.abs((d-s)/s)};function mb(n,e,t,r){for(var o=0,i=e,s=t-r;i<t;i+=r)o+=(n[s]-n[i])*(n[i+1]+n[s+1]),s=i;return o}Ep.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,o=0;o<n.length;o++){for(var i=0;i<n[o].length;i++)for(var s=0;s<e;s++)t.vertices.push(n[o][i][s]);o>0&&(r+=n[o-1].length,t.holes.push(r))}return t};var g$=sy.exports;const VE=Gv(g$);var zn=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(zn||{});class ay{constructor(e){this.items=[],this._name=e}emit(e,t,r,o,i,s,a,l){const{name:c,items:u}=this;for(let d=0,h=u.length;d<h;d++)u[d][c](e,t,r,o,i,s,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const b$=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],zE=class HE extends Zn{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...b$,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await oy(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...HE.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,t){let r=e;if(r instanceof Je&&(r={container:r},t&&(_e(Pe,"passing a second argument is deprecated, please use render options instead"),r.target=t.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor=this.background.colorRgba),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:Ke.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,t,r){const o=this.view.resolution;this.view.resize(e,t,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=zn.ALL);const{clear:r,clearColor:o,target:i}=e;Ke.shared.setValue(o??this.background.colorRgba),t.renderTarget.clear(i,r,Ke.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new ay(t)})}_addSystems(e){let t;for(t in e){const r=e[t];this._addSystem(r.value,r.name)}}_addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(e,t){const r=t.reduce((o,i)=>(o[i.name]=i.value,o),{});e.forEach(o=>{const i=o.value,s=o.name,a=r[s];this.renderPipes[s]=new i(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!iy())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};zE.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let nd=zE,Gd;function rd(n){return Gd!==void 0||(Gd=(()=>{var t;const e={stencil:!0,failIfMajorPerformanceCaveat:n??nd.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ve.get().getWebGLRenderingContext())return!1;let o=Ve.get().createCanvas().getContext("webgl",e);const i=!!((t=o==null?void 0:o.getContextAttributes())!=null&&t.stencil);if(o){const s=o.getExtension("WEBGL_lose_context");s&&s.loseContext()}return o=null,i}catch{return!1}})()),Gd}let Vd;async function od(n={}){return Vd!==void 0||(Vd=await(async()=>{const e=Ve.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),Vd}const O2=["webgl","webgpu","canvas"];async function jE(n){let e=[];n.preference?(e.push(n.preference),O2.forEach(i=>{i!==n.preference&&e.push(i)})):e=O2.slice();let t,r={};for(let i=0;i<e.length;i++){const s=e[i];if(s==="webgpu"&&await od()){const{WebGPURenderer:a}=await Rc(async()=>{const{WebGPURenderer:l}=await Promise.resolve().then(()=>az);return{WebGPURenderer:l}},void 0);t=a,r={...n,...n.webgpu};break}else if(s==="webgl"&&rd(n.failIfMajorPerformanceCaveat??nd.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await Rc(async()=>{const{WebGLRenderer:l}=await Promise.resolve().then(()=>JV);return{WebGLRenderer:l}},void 0);t=a,r={...n,...n.webgl};break}else if(s==="canvas")throw r={...n},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!t)throw new Error("No available renderer for the current environment");const o=new t;return await o.init(r),o}const v$=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,Uc="8.6.4";class ly{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Uc)}static destroy(){}}ly.extension=O.Application;class cy{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Uc)}destroy(){this._renderer=null}}cy.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"initHook",priority:-10};const WE=class gb{constructor(...e){this.stage=new Je,e[0]!==void 0&&_e(Pe,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await jE(e),gb._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return _e(Pe,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const r=gb._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};WE._plugins=[];let uy=WE;dt.handleByList(O.Application,uy._plugins);dt.add(ly);class KE{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:o,clientHeight:i}=this._resizeTo;t=o,r=i}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}KE.extension=O.Application;class XE{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Jo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?mn.shared:new mn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}XE.extension=O.Application;class dy extends Zn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return _e(Pe,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return _e(Pe,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return _e(Pe,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return _e(Pe,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return _e(Pe,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var t;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(t=this.chars[r].texture)==null||t.destroy();this.chars=null,e&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const qE=class bb{constructor(e,t,r,o){this.uid=Ct("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=t,this.x1=r,this.y1=o}addColorStop(e,t){return this.gradientStops.push({offset:e,color:Ke.shared.setValue(t).toHexa()}),this._styleKey=null,this}buildLinearGradient(){if(this.texture)return;const e=bb.defaultTextureSize,{gradientStops:t}=this,r=Ve.get().createCanvas();r.width=e,r.height=e;const o=r.getContext("2d"),i=o.createLinearGradient(0,0,bb.defaultTextureSize,1);for(let m=0;m<t.length;m++){const g=t[m];i.addColorStop(g.offset,g.color)}o.fillStyle=i,o.fillRect(0,0,e,e),this.texture=new ae({source:new Ns({resource:r,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:s,y0:a,x1:l,y1:c}=this,u=new be,d=l-s,h=c-a,f=Math.sqrt(d*d+h*h),p=Math.atan2(h,d);u.translate(-s,-a),u.scale(1/e,1/e),u.rotate(-p),u.scale(256/f,1),this.transform=u,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(o=>`${o.offset}-${o.color}`).join("-"),t=this.texture.uid,r=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${t}-${r}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};qE.defaultTextureSize=256;let Ka=qE;const D2={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class id{constructor(e,t){this.uid=Ct("fillPattern"),this.transform=new be,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=D2[t].addressModeU,e.source.style.addressModeV=D2[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var y$=x$,Ym={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},_$=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function x$(n){var e=[];return n.replace(_$,function(t,r,o){var i=r.toLowerCase();for(o=C$(o),i=="m"&&o.length>2&&(e.push([r].concat(o.splice(0,2))),i="l",r=r=="m"?"l":"L");;){if(o.length==Ym[i])return o.unshift(r),e.push(o);if(o.length<Ym[i])throw new Error("malformed path data");e.push([r].concat(o.splice(0,Ym[i])))}}),e}var w$=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function C$(n){var e=n.match(w$);return e?e.map(Number):[]}const S$=Gv(y$);function YE(n,e){const t=S$(n),r=[];let o=null,i=0,s=0;for(let a=0;a<t.length;a++){const l=t[a],c=l[0],u=l;switch(c){case"M":i=u[1],s=u[2],e.moveTo(i,s);break;case"m":i+=u[1],s+=u[2],e.moveTo(i,s);break;case"H":i=u[1],e.lineTo(i,s);break;case"h":i+=u[1],e.lineTo(i,s);break;case"V":s=u[1],e.lineTo(i,s);break;case"v":s+=u[1],e.lineTo(i,s);break;case"L":i=u[1],s=u[2],e.lineTo(i,s);break;case"l":i+=u[1],s+=u[2],e.lineTo(i,s);break;case"C":i=u[5],s=u[6],e.bezierCurveTo(u[1],u[2],u[3],u[4],i,s);break;case"c":e.bezierCurveTo(i+u[1],s+u[2],i+u[3],s+u[4],i+u[5],s+u[6]),i+=u[5],s+=u[6];break;case"S":i=u[3],s=u[4],e.bezierCurveToShort(u[1],u[2],i,s);break;case"s":e.bezierCurveToShort(i+u[1],s+u[2],i+u[3],s+u[4]),i+=u[3],s+=u[4];break;case"Q":i=u[3],s=u[4],e.quadraticCurveTo(u[1],u[2],i,s);break;case"q":e.quadraticCurveTo(i+u[1],s+u[2],i+u[3],s+u[4]),i+=u[3],s+=u[4];break;case"T":i=u[1],s=u[2],e.quadraticCurveToShort(i,s);break;case"t":i+=u[1],s+=u[2],e.quadraticCurveToShort(i,s);break;case"A":i=u[6],s=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],i,s);break;case"a":i+=u[6],s+=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],i,s);break;case"Z":case"z":e.closePath(),r.length>0&&(o=r.pop(),o?(i=o.startX,s=o.startY):(i=0,s=0)),o=null;break;default:Ce(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&o===null&&(o={startX:i,startY:s},r.push(o))}return e}class Pp{constructor(e=0,t=0,r=0){this.type="circle",this.x=e,this.y=t,this.radius=r}clone(){return new Pp(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-e,i=this.y-t;return o*=o,i*=i,o+i<=r}strokeContains(e,t,r){if(this.radius===0)return!1;const o=this.x-e,i=this.y-t,s=this.radius,a=r/2,l=Math.sqrt(o*o+i*i);return l<s+a&&l>s-a}getBounds(e){return e||(e=new Qe),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ip{constructor(e=0,t=0,r=0,o=0){this.type="ellipse",this.x=e,this.y=t,this.halfWidth=r,this.halfHeight=o}clone(){return new Ip(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,o=(t-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(e,t,r){const{halfWidth:o,halfHeight:i}=this;if(o<=0||i<=0)return!1;const s=r/2,a=o-s,l=i-s,c=o+s,u=i+s,d=e-this.x,h=t-this.y,f=d*d/(a*a)+h*h/(l*l),p=d*d/(c*c)+h*h/(u*u);return f>1&&p<=1}getBounds(e){return e||(e=new Qe),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function fc(n,e,t,r,o,i){const s=n-t,a=e-r,l=o-t,c=i-r,u=s*l+a*c,d=l*l+c*c;let h=-1;d!==0&&(h=u/d);let f,p;h<0?(f=t,p=r):h>1?(f=o,p=i):(f=t+h*l,p=r+h*c);const m=n-f,g=e-p;return m*m+g*g}class Pa{constructor(...e){this.type="polygon";let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let o=0,i=t.length;o<i;o++)r.push(t[o].x,t[o].y);t=r}this.points=t,this.closePath=!0}clone(){const e=this.points.slice(),t=new Pa(e);return t.closePath=this.closePath,t}contains(e,t){let r=!1;const o=this.points.length/2;for(let i=0,s=o-1;i<o;s=i++){const a=this.points[i*2],l=this.points[i*2+1],c=this.points[s*2],u=this.points[s*2+1];l>t!=u>t&&e<(c-a)*((t-l)/(u-l))+a&&(r=!r)}return r}strokeContains(e,t,r){const o=r/2,i=o*o,{points:s}=this,a=s.length-(this.closePath?0:2);for(let l=0;l<a;l+=2){const c=s[l],u=s[l+1],d=s[(l+2)%s.length],h=s[(l+3)%s.length];if(fc(e,t,c,u,d,h)<=i)return!0}return!1}getBounds(e){e||(e=new Qe);const t=this.points;let r=1/0,o=-1/0,i=1/0,s=-1/0;for(let a=0,l=t.length;a<l;a+=2){const c=t[a],u=t[a+1];r=c<r?c:r,o=c>o?c:o,i=u<i?u:i,s=u>s?u:s}return e.x=r,e.width=o-r,e.y=i,e.height=s-i,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const zd=(n,e,t,r,o,i)=>{const s=n-t,a=e-r,l=Math.sqrt(s*s+a*a);return l>=o-i&&l<=o+i};class Rp{constructor(e=0,t=0,r=0,o=0,i=20){this.type="roundedRectangle",this.x=e,this.y=t,this.width=r,this.height=o,this.radius=i}getBounds(e){return e||(e=new Qe),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Rp(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let o=e-(this.x+r),i=t-(this.y+r);const s=r*r;if(o*o+i*i<=s||(o=e-(this.x+this.width-r),o*o+i*i<=s)||(i=t-(this.y+this.height-r),o*o+i*i<=s)||(o=e-(this.x+r),o*o+i*i<=s))return!0}return!1}strokeContains(e,t,r){const{x:o,y:i,width:s,height:a,radius:l}=this,c=r/2,u=o+l,d=i+l,h=s-l*2,f=a-l*2,p=o+s,m=i+a;return(e>=o-c&&e<=o+c||e>=p-c&&e<=p+c)&&t>=d&&t<=d+f||(t>=i-c&&t<=i+c||t>=m-c&&t<=m+c)&&e>=u&&e<=u+h?!0:e<u&&t<d&&zd(e,t,u,d,l,c)||e>p-l&&t<d&&zd(e,t,p-l,d,l,c)||e>p-l&&t>m-l&&zd(e,t,p-l,m-l,l,c)||e<u&&t>m-l&&zd(e,t,u,m-l,l,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const T$=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function k$(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function ZE(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=T$.replace(/%forloop%/gi,k$(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}}finally{e.deleteShader(t)}return n}let qs=null;function $s(){var e;if(qs)return qs;const n=ny();return qs=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),qs=ZE(qs,n),(e=n.getExtension("WEBGL_lose_context"))==null||e.loseContext(),qs}const JE={};function Bp(n,e){let t=2166136261;for(let r=0;r<e;r++)t^=n[r].uid,t=Math.imul(t,16777619),t>>>=0;return JE[t]||E$(n,e,t)}let Zm=0;function E$(n,e,t){const r={};let o=0;Zm||(Zm=$s());for(let s=0;s<Zm;s++){const a=s<e?n[s]:ae.EMPTY.source;r[o++]=a.source,r[o++]=a.style}const i=new go(r);return JE[t]=i,i}class ps{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function df(n,e){const t=n.byteLength/8|0,r=new Float64Array(n,0,t);new Float64Array(e,0,t).set(r);const i=n.byteLength-t*8;if(i>0){const s=new Uint8Array(n,t*8,i);new Uint8Array(e,t*8,i).set(s)}}const QE={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var It=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",n[n.NONE=5]="NONE",n))(It||{});function Xa(n,e){return e.alphaMode==="no-premultiply-alpha"&&QE[n]||n}class eA{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}class tA{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new eA,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const nA=[];let vb=0;function M2(){return vb>0?nA[--vb]:new tA}function F2(n){nA[vb++]=n}let Bl=0;const rA=class Th{constructor(e={}){this.uid=Ct("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Th.defaultOptions.maxTextures=Th.defaultOptions.maxTextures??$s(),e={...Th.defaultOptions,...e};const{maxTextures:t,attributesInitialSize:r,indicesInitialSize:o}=e;this.attributeBuffer=new ps(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=t}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)F2(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const r=e._batch.textures.ids[t._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let r=M2(),o=r.textures;o.clear();const i=t[this.elementStart];let s=Xa(i.blendMode,i.texture._source),a=i.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,u=this.indexBuffer;let d=this._batchIndexSize,h=this._batchIndexStart,f="startBatch";const p=this.maxTextures;for(let m=this.elementStart;m<this.elementSize;++m){const g=t[m];t[m]=null;const _=g.texture._source,v=Xa(g.blendMode,_),y=s!==v||a!==g.topology;if(_._batchTick===Bl&&!y){g._textureId=_._textureBindLocation,d+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,c,g._attributeStart,g._textureId),this.packQuadIndex(u,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,c,g._attributeStart,g._textureId),this.packIndex(g,u,g._indexStart,g._attributeStart/this.vertexSize)),g._batch=r;continue}_._batchTick=Bl,(o.count>=p||y)&&(this._finishBatch(r,h,d-h,o,s,a,e,f),f="renderBatch",h=d,s=v,a=g.topology,r=M2(),o=r.textures,o.clear(),++Bl),g._textureId=_._textureBindLocation=o.count,o.ids[_.uid]=o.count,o.textures[o.count++]=_,g._batch=r,d+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,c,g._attributeStart,g._textureId),this.packQuadIndex(u,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,c,g._attributeStart,g._textureId),this.packIndex(g,u,g._indexStart,g._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,h,d-h,o,s,a,e,f),h=d,++Bl),this.elementStart=this.elementSize,this._batchIndexStart=h,this._batchIndexSize=d}_finishBatch(e,t,r,o,i,s,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=o,e.blendMode=i,e.topology=s,e.start=t,e.size=r,++Bl,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,this.attributeBuffer.size*2),r=new ps(t);df(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const t=this.indexBuffer;let r=Math.max(e,t.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let i=0;i<t.length;i++)o[i]=t[i];else df(t.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(e,t,r){e[t]=r+0,e[t+1]=r+1,e[t+2]=r+2,e[t+3]=r+0,e[t+4]=r+2,e[t+5]=r+3}packIndex(e,t,r,o){const i=e.indices,s=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let c=0;c<s;c++)t[r++]=o+i[c+a]-l}destroy(){for(let e=0;e<this.batches.length;e++)F2(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};rA.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let oA=rA;var Ne=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(Ne||{});class Mn extends Zn{constructor(e){let{data:t,size:r}=e;const{usage:o,label:i,shrinkToFit:s}=e;super(),this.uid=Ct("buffer"),this._resourceType="buffer",this._resourceId=Ct("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,t instanceof Array&&(t=new Float32Array(t)),this._data=t,r??(r=t==null?void 0:t.byteLength);const a=!!t;this.descriptor={size:r,usage:o,mappedAtCreation:a,label:i},this.shrinkToFit=s??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ne.STATIC)}set static(e){e?this.descriptor.usage|=Ne.STATIC:this.descriptor.usage&=~Ne.STATIC}setDataWithSize(e,t,r){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const o=this._data;if(this._data=e,this._dataInt32=null,!o||o.length!==e.length){!this.shrinkToFit&&o&&e.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Ct("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function hy(n,e){if(!(n instanceof Mn)){let t=e?Ne.INDEX:Ne.VERTEX;n instanceof Array&&(e?(n=new Uint32Array(n),t=Ne.INDEX|Ne.COPY_DST):(n=new Float32Array(n),t=Ne.VERTEX|Ne.COPY_DST)),n=new Mn({data:n,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return n}function iA(n,e,t){const r=n.getAttribute(e);if(!r)return t.minX=0,t.minY=0,t.maxX=0,t.maxY=0,t;const o=r.buffer.data;let i=1/0,s=1/0,a=-1/0,l=-1/0;const c=o.BYTES_PER_ELEMENT,u=(r.offset||0)/c,d=(r.stride||2*4)/c;for(let h=u;h<o.length;h+=d){const f=o[h],p=o[h+1];f>a&&(a=f),p>l&&(l=p),f<i&&(i=f),p<s&&(s=p)}return t.minX=i,t.minY=s,t.maxX=a,t.maxY=l,t}function A$(n){return(n instanceof Mn||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=hy(n.buffer,!1),n}class Us extends Zn{constructor(e={}){super(),this.uid=Ct("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new un,this._boundsDirty=!0;const{attributes:t,indexBuffer:r,topology:o}=e;if(this.buffers=[],this.attributes={},t)for(const i in t)this.addAttribute(i,t[i]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const r=A$(t);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=hy(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,iA(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const P$=new Float32Array(1),I$=new Uint32Array(1);class sA extends Us{constructor(){const t=new Mn({data:P$,label:"attribute-batch-buffer",usage:Ne.VERTEX|Ne.COPY_DST,shrinkToFit:!1}),r=new Mn({data:I$,label:"index-batch-buffer",usage:Ne.INDEX|Ne.COPY_DST,shrinkToFit:!1}),o=6*4;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:o,offset:0},aUV:{buffer:t,format:"float32x2",stride:o,offset:2*4},aColor:{buffer:t,format:"unorm8x4",stride:o,offset:4*4},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:o,offset:5*4}},indexBuffer:r})}}function yb(n,e,t){if(n)for(const r in n){const o=r.toLocaleLowerCase(),i=e[o];if(i){let s=n[r];r==="header"&&(s=s.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),t&&i.push(`//----${t}----//`),i.push(s)}else Ce(`${r} placement hook does not exist in shader`)}}const aA=/\{\{(.*?)\}\}/g;function _b(n){var r;const e={};return(((r=n.match(aA))==null?void 0:r.map(o=>o.replace(/[{()}]/g,"")))??[]).forEach(o=>{e[o]=[]}),e}function L2(n,e){let t;const r=/@in\s+([^;]+);/g;for(;(t=r.exec(n))!==null;)e.push(t[1])}function xb(n,e,t=!1){const r=[];L2(e,r),n.forEach(a=>{a.header&&L2(a.header,r)});const o=r;t&&o.sort();const i=o.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let s=e.replace(/@in\s+[^;]+;\s*/g,"");return s=s.replace("{{in}}",`
${i}
`),s}function N2(n,e){let t;const r=/@out\s+([^;]+);/g;for(;(t=r.exec(n))!==null;)e.push(t[1])}function R$(n){const t=/\b(\w+)\s*:/g.exec(n);return t?t[1]:""}function B$(n){const e=/@.*?\s+/g;return n.replace(e,"")}function lA(n,e){const t=[];N2(e,t),n.forEach(l=>{l.header&&N2(l.header,t)});let r=0;const o=t.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${r++}) ${l}`).join(`,
`),i=t.sort().map(l=>`       var ${B$(l)};`).join(`
`),s=`return VSOutput(
            ${t.sort().map(l=>` ${R$(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${o}
`),a=a.replace("{{start}}",`
${i}
`),a=a.replace("{{return}}",`
${s}
`),a}function wb(n,e){let t=n;for(const r in e){const o=e[r];o.join(`
`).length?t=t.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):t=t.replace(`{{${r}}}`,"")}return t}const Ii=Object.create(null),Jm=new Map;let O$=0;function cA({template:n,bits:e}){const t=dA(n,e);if(Ii[t])return Ii[t];const{vertex:r,fragment:o}=D$(n,e);return Ii[t]=hA(r,o,e),Ii[t]}function uA({template:n,bits:e}){const t=dA(n,e);return Ii[t]||(Ii[t]=hA(n.vertex,n.fragment,e)),Ii[t]}function D$(n,e){const t=e.map(s=>s.vertex).filter(s=>!!s),r=e.map(s=>s.fragment).filter(s=>!!s);let o=xb(t,n.vertex,!0);o=lA(t,o);const i=xb(r,n.fragment,!0);return{vertex:o,fragment:i}}function dA(n,e){return e.map(t=>(Jm.has(t)||Jm.set(t,O$++),Jm.get(t))).sort((t,r)=>t-r).join("-")+n.vertex+n.fragment}function hA(n,e,t){const r=_b(n),o=_b(e);return t.forEach(i=>{yb(i.vertex,r,i.name),yb(i.fragment,o,i.name)}),{vertex:wb(n,r),fragment:wb(e,o)}}const fA=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,pA=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,mA=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,gA=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,bA={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},M$={name:"global-uniforms-ubo-bit",vertex:{header:`
          uniform globalUniforms {
            mat3 uProjectionMatrix;
            mat3 uWorldTransformMatrix;
            vec4 uWorldColorAlpha;
            vec2 uResolution;
          };
        `}},vA={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function fl({bits:n,name:e}){const t=cA({template:{fragment:pA,vertex:fA},bits:[bA,...n]});return Jn.from({name:e,vertex:{source:t.vertex,entryPoint:"main"},fragment:{source:t.fragment,entryPoint:"main"}})}function pl({bits:n,name:e}){return new gr({name:e,...uA({template:{vertex:mA,fragment:gA},bits:[vA,...n]})})}const Op={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Dp={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Qm={};function F$(n){const e=[];if(n===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let t=0;for(let r=0;r<n;r++)e.push(`@group(1) @binding(${t++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${t++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function L$(n){const e=[];if(n===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let t=0;t<n;t++)t===n-1?e.push("  default:{"):e.push(`  case ${t}:{`),e.push(`      outColor = textureSampleGrad(textureSource${t+1}, textureSampler${t+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function Mp(n){return Qm[n]||(Qm[n]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${F$(n)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${L$(n)}
            `}}),Qm[n]}const eg={};function N$(n){const e=[];for(let t=0;t<n;t++)t>0&&e.push("else"),t<n-1&&e.push(`if(vTextureId < ${t}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${t}], vUV);`),e.push("}");return e.join(`
`)}function Fp(n){return eg[n]||(eg[n]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${n}];

            `,main:`

                ${N$(n)}
            `}}),eg[n]}const ml={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},gl={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},$2={};function Lp(n){let e=$2[n];if(e)return e;const t=new Int32Array(n);for(let r=0;r<n;r++)t[r]=r;return e=$2[n]=new Vt({uTextures:{value:t,type:"i32",size:n}},{isStatic:!0}),e}class yA extends br{constructor(e){const t=pl({name:"batch",bits:[Dp,Fp(e),gl]}),r=fl({name:"batch",bits:[Op,Mp(e),ml]});super({glProgram:t,gpuProgram:r,resources:{batchSamplers:Lp(e)}})}}let U2=null;const _A=class xA extends oA{constructor(){super(...arguments),this.geometry=new sA,this.shader=U2||(U2=new yA(this.maxTextures)),this.name=xA.extension.name,this.vertexSize=6}packAttributes(e,t,r,o,i){const s=i<<16|e.roundPixels&65535,a=e.transform,l=a.a,c=a.b,u=a.c,d=a.d,h=a.tx,f=a.ty,{positions:p,uvs:m}=e,g=e.color,b=e.attributeOffset,_=b+e.attributeSize;for(let v=b;v<_;v++){const y=v*2,w=p[y],S=p[y+1];t[o++]=l*w+u*S+h,t[o++]=d*S+c*w+f,t[o++]=m[y],t[o++]=m[y+1],r[o++]=g,r[o++]=s}}packQuadAttributes(e,t,r,o,i){const s=e.texture,a=e.transform,l=a.a,c=a.b,u=a.c,d=a.d,h=a.tx,f=a.ty,p=e.bounds,m=p.maxX,g=p.minX,b=p.maxY,_=p.minY,v=s.uvs,y=e.color,w=i<<16|e.roundPixels&65535;t[o+0]=l*g+u*_+h,t[o+1]=d*_+c*g+f,t[o+2]=v.x0,t[o+3]=v.y0,r[o+4]=y,r[o+5]=w,t[o+6]=l*m+u*_+h,t[o+7]=d*_+c*m+f,t[o+8]=v.x1,t[o+9]=v.y1,r[o+10]=y,r[o+11]=w,t[o+12]=l*m+u*b+h,t[o+13]=d*b+c*m+f,t[o+14]=v.x2,t[o+15]=v.y2,r[o+16]=y,r[o+17]=w,t[o+18]=l*g+u*b+h,t[o+19]=d*b+c*g+f,t[o+20]=v.x3,t[o+21]=v.y3,r[o+22]=y,r[o+23]=w}};_A.extension={type:[O.Batcher],name:"default"};let Np=_A;function fy(n,e,t,r,o,i,s,a=null){let l=0;t*=e,o*=i;const c=a.a,u=a.b,d=a.c,h=a.d,f=a.tx,p=a.ty;for(;l<s;){const m=n[t],g=n[t+1];r[o]=c*m+d*g+f,r[o+1]=u*m+h*g+p,o+=i,t+=e,l++}}function py(n,e,t,r){let o=0;for(e*=t;o<r;)n[e]=0,n[e+1]=0,e+=t,o++}function $p(n,e,t,r,o){const i=e.a,s=e.b,a=e.c,l=e.d,c=e.tx,u=e.ty;t||(t=0),r||(r=2),o||(o=n.length/r-t);let d=t*r;for(let h=0;h<o;h++){const f=n[d],p=n[d+1];n[d]=i*f+a*p+c,n[d+1]=s*f+l*p+u,d+=r}}const $$=new be;class Up{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?Kv(t,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):t+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||$$}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Xo={extension:{type:O.ShapeBuilder,name:"circle"},build(n,e){let t,r,o,i,s,a;if(n.type==="circle"){const y=n;t=y.x,r=y.y,s=a=y.radius,o=i=0}else if(n.type==="ellipse"){const y=n;t=y.x,r=y.y,s=y.halfWidth,a=y.halfHeight,o=i=0}else{const y=n,w=y.width/2,S=y.height/2;t=y.x+w,r=y.y+S,s=a=Math.max(0,Math.min(y.radius,Math.min(w,S))),o=w-s,i=S-a}if(!(s>=0&&a>=0&&o>=0&&i>=0))return e;const l=Math.ceil(2.3*Math.sqrt(s+a)),c=l*8+(o?4:0)+(i?4:0);if(c===0)return e;if(l===0)return e[0]=e[6]=t+o,e[1]=e[3]=r+i,e[2]=e[4]=t-o,e[5]=e[7]=r-i,e;let u=0,d=l*4+(o?2:0)+2,h=d,f=c,p=o+s,m=i,g=t+p,b=t-p,_=r+m;if(e[u++]=g,e[u++]=_,e[--d]=_,e[--d]=b,i){const y=r-m;e[h++]=b,e[h++]=y,e[--f]=y,e[--f]=g}for(let y=1;y<l;y++){const w=Math.PI/2*(y/l),S=o+Math.cos(w)*s,C=i+Math.sin(w)*a,k=t+S,E=t-S,A=r+C,P=r-C;e[u++]=k,e[u++]=A,e[--d]=A,e[--d]=E,e[h++]=E,e[h++]=P,e[--f]=P,e[--f]=k}p=o,m=i+a,g=t+p,b=t-p,_=r+m;const v=r-m;return e[u++]=g,e[u++]=_,e[--f]=v,e[--f]=g,o&&(e[u++]=b,e[u++]=_,e[--f]=v,e[--f]=b),e},triangulate(n,e,t,r,o,i){if(n.length===0)return;let s=0,a=0;for(let u=0;u<n.length;u+=2)s+=n[u],a+=n[u+1];s/=n.length/2,a/=n.length/2;let l=r;e[l*t]=s,e[l*t+1]=a;const c=l++;for(let u=0;u<n.length;u+=2)e[l*t]=n[u],e[l*t+1]=n[u+1],u>0&&(o[i++]=l,o[i++]=c,o[i++]=l-1),l++;o[i++]=c+1,o[i++]=c,o[i++]=l-1}},wA={...Xo,extension:{...Xo.extension,name:"ellipse"}},CA={...Xo,extension:{...Xo.extension,name:"roundedRectangle"}},my=1e-4,Cb=1e-4;function SA(n){const e=n.length;if(e<6)return 1;let t=0;for(let r=0,o=n[e-2],i=n[e-1];r<e;r+=2){const s=n[r],a=n[r+1];t+=(s-o)*(a+i),o=s,i=a}return t<0?-1:1}function G2(n,e,t,r,o,i,s,a){const l=n-t*o,c=e-r*o,u=n+t*i,d=e+r*i;let h,f;s?(h=r,f=-t):(h=-r,f=t);const p=l+h,m=c+f,g=u+h,b=d+f;return a.push(p,m),a.push(g,b),2}function is(n,e,t,r,o,i,s,a){const l=t-n,c=r-e;let u=Math.atan2(l,c),d=Math.atan2(o-n,i-e);a&&u<d?u+=Math.PI*2:!a&&u>d&&(d+=Math.PI*2);let h=u;const f=d-u,p=Math.abs(f),m=Math.sqrt(l*l+c*c),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,b=f/g;if(h+=b,a){s.push(n,e),s.push(t,r);for(let _=1,v=h;_<g;_++,v+=b)s.push(n,e),s.push(n+Math.sin(v)*m,e+Math.cos(v)*m);s.push(n,e),s.push(o,i)}else{s.push(t,r),s.push(n,e);for(let _=1,v=h;_<g;_++,v+=b)s.push(n+Math.sin(v)*m,e+Math.cos(v)*m),s.push(n,e);s.push(o,i),s.push(n,e)}return g*2}function TA(n,e,t,r,o,i){const s=my;if(n.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let te=SA(n);t&&(te*=-1),l=(l-.5)*te+.5}const c=new ot(n[0],n[1]),u=new ot(n[n.length-2],n[n.length-1]),d=r,h=Math.abs(c.x-u.x)<s&&Math.abs(c.y-u.y)<s;if(d){n=n.slice(),h&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const te=(c.x+u.x)*.5,ue=(u.y+c.y)*.5;n.unshift(te,ue),n.push(te,ue)}const f=o,p=n.length/2;let m=n.length;const g=f.length/2,b=a.width/2,_=b*b,v=a.miterLimit*a.miterLimit;let y=n[0],w=n[1],S=n[2],C=n[3],k=0,E=0,A=-(w-C),P=y-S,I=0,$=0,V=Math.sqrt(A*A+P*P);A/=V,P/=V,A*=b,P*=b;const ee=l,F=(1-ee)*2,L=ee*2;d||(a.cap==="round"?m+=is(y-A*(F-L)*.5,w-P*(F-L)*.5,y-A*F,w-P*F,y+A*L,w+P*L,f,!0)+2:a.cap==="square"&&(m+=G2(y,w,A,P,F,L,!0,f))),f.push(y-A*F,w-P*F),f.push(y+A*L,w+P*L);for(let te=1;te<p-1;++te){y=n[(te-1)*2],w=n[(te-1)*2+1],S=n[te*2],C=n[te*2+1],k=n[(te+1)*2],E=n[(te+1)*2+1],A=-(w-C),P=y-S,V=Math.sqrt(A*A+P*P),A/=V,P/=V,A*=b,P*=b,I=-(C-E),$=S-k,V=Math.sqrt(I*I+$*$),I/=V,$/=V,I*=b,$*=b;const ue=S-y,le=w-C,xe=S-k,lt=E-C,gt=ue*xe+le*lt,ke=le*xe-lt*ue,Me=ke<0;if(Math.abs(ke)<.001*Math.abs(gt)){f.push(S-A*F,C-P*F),f.push(S+A*L,C+P*L),gt>=0&&(a.join==="round"?m+=is(S,C,S-A*F,C-P*F,S-I*F,C-$*F,f,!1)+4:m+=2,f.push(S-I*L,C-$*L),f.push(S+I*F,C+$*F));continue}const bt=(-A+y)*(-P+C)-(-A+S)*(-P+w),de=(-I+k)*(-$+C)-(-I+S)*(-$+E),pn=(ue*de-xe*bt)/ke,Ht=(lt*bt-le*de)/ke,kn=(pn-S)*(pn-S)+(Ht-C)*(Ht-C),Zt=S+(pn-S)*F,B=C+(Ht-C)*F,M=S-(pn-S)*L,D=C-(Ht-C)*L,U=Math.min(ue*ue+le*le,xe*xe+lt*lt),z=Me?F:L,H=U+z*z*_;kn<=H?a.join==="bevel"||kn/_>v?(Me?(f.push(Zt,B),f.push(S+A*L,C+P*L),f.push(Zt,B),f.push(S+I*L,C+$*L)):(f.push(S-A*F,C-P*F),f.push(M,D),f.push(S-I*F,C-$*F),f.push(M,D)),m+=2):a.join==="round"?Me?(f.push(Zt,B),f.push(S+A*L,C+P*L),m+=is(S,C,S+A*L,C+P*L,S+I*L,C+$*L,f,!0)+4,f.push(Zt,B),f.push(S+I*L,C+$*L)):(f.push(S-A*F,C-P*F),f.push(M,D),m+=is(S,C,S-A*F,C-P*F,S-I*F,C-$*F,f,!1)+4,f.push(S-I*F,C-$*F),f.push(M,D)):(f.push(Zt,B),f.push(M,D)):(f.push(S-A*F,C-P*F),f.push(S+A*L,C+P*L),a.join==="round"?Me?m+=is(S,C,S+A*L,C+P*L,S+I*L,C+$*L,f,!0)+2:m+=is(S,C,S-A*F,C-P*F,S-I*F,C-$*F,f,!1)+2:a.join==="miter"&&kn/_<=v&&(Me?(f.push(M,D),f.push(M,D)):(f.push(Zt,B),f.push(Zt,B)),m+=2),f.push(S-I*F,C-$*F),f.push(S+I*L,C+$*L),m+=2)}y=n[(p-2)*2],w=n[(p-2)*2+1],S=n[(p-1)*2],C=n[(p-1)*2+1],A=-(w-C),P=y-S,V=Math.sqrt(A*A+P*P),A/=V,P/=V,A*=b,P*=b,f.push(S-A*F,C-P*F),f.push(S+A*L,C+P*L),d||(a.cap==="round"?m+=is(S-A*(F-L)*.5,C-P*(F-L)*.5,S-A*F,C-P*F,S+A*L,C+P*L,f,!1)+2:a.cap==="square"&&(m+=G2(S,C,A,P,F,L,!1,f)));const ie=Cb*Cb;for(let te=g;te<m+g-2;++te)y=f[te*2],w=f[te*2+1],S=f[(te+1)*2],C=f[(te+1)*2+1],k=f[(te+2)*2],E=f[(te+2)*2+1],!(Math.abs(y*(C-E)+S*(E-w)+k*(w-C))<ie)&&i.push(te,te+1,te+2)}function kA(n,e,t,r){const o=my;if(n.length===0)return;const i=n[0],s=n[1],a=n[n.length-2],l=n[n.length-1],c=e||Math.abs(i-a)<o&&Math.abs(s-l)<o,u=t,d=n.length/2,h=u.length/2;for(let f=0;f<d;f++)u.push(n[f*2]),u.push(n[f*2+1]);for(let f=0;f<d-1;f++)r.push(h+f,h+f+1);c&&r.push(h+d-1,h)}function gy(n,e,t,r,o,i,s){const a=VE(n,e,2);if(!a)return;for(let c=0;c<a.length;c+=3)i[s++]=a[c]+o,i[s++]=a[c+1]+o,i[s++]=a[c+2]+o;let l=o*r;for(let c=0;c<n.length;c+=2)t[l]=n[c],t[l+1]=n[c+1],l+=r}const U$=[],by={extension:{type:O.ShapeBuilder,name:"polygon"},build(n,e){for(let t=0;t<n.points.length;t++)e[t]=n.points[t];return e},triangulate(n,e,t,r,o,i){gy(n,U$,e,t,r,o,i)}},vy={extension:{type:O.ShapeBuilder,name:"rectangle"},build(n,e){const t=n,r=t.x,o=t.y,i=t.width,s=t.height;return i>=0&&s>=0&&(e[0]=r,e[1]=o,e[2]=r+i,e[3]=o,e[4]=r+i,e[5]=o+s,e[6]=r,e[7]=o+s),e},triangulate(n,e,t,r,o,i){let s=0;r*=t,e[r+s]=n[0],e[r+s+1]=n[1],s+=t,e[r+s]=n[2],e[r+s+1]=n[3],s+=t,e[r+s]=n[6],e[r+s+1]=n[7],s+=t,e[r+s]=n[4],e[r+s+1]=n[5],s+=t;const a=r/t;o[i++]=a,o[i++]=a+1,o[i++]=a+2,o[i++]=a+1,o[i++]=a+3,o[i++]=a+2}},yy={extension:{type:O.ShapeBuilder,name:"triangle"},build(n,e){return e[0]=n.x,e[1]=n.y,e[2]=n.x2,e[3]=n.y2,e[4]=n.x3,e[5]=n.y3,e},triangulate(n,e,t,r,o,i){let s=0;r*=t,e[r+s]=n[0],e[r+s+1]=n[1],s+=t,e[r+s]=n[2],e[r+s+1]=n[3],s+=t,e[r+s]=n[4],e[r+s+1]=n[5];const a=r/t;o[i++]=a,o[i++]=a+1,o[i++]=a+2}},sd={};dt.handleByMap(O.ShapeBuilder,sd);dt.add(vy,by,yy,Xo,wA,CA);const G$=new Qe;function EA(n,e){const{geometryData:t,batches:r}=e;r.length=0,t.indices.length=0,t.vertices.length=0,t.uvs.length=0;for(let o=0;o<n.instructions.length;o++){const i=n.instructions[o];if(i.action==="texture")V$(i.data,r,t);else if(i.action==="fill"||i.action==="stroke"){const s=i.action==="stroke",a=i.data.path.shapePath,l=i.data.style,c=i.data.hole;s&&c&&V2(c.shapePath,l,null,!0,r,t),V2(a,l,c,s,r,t)}}}function V$(n,e,t){const{vertices:r,uvs:o,indices:i}=t,s=i.length,a=r.length/2,l=[],c=sd.rectangle,u=G$,d=n.image;u.x=n.dx,u.y=n.dy,u.width=n.dw,u.height=n.dh;const h=n.transform;c.build(u,l),h&&$p(l,h),c.triangulate(l,r,2,a,i,s);const f=d.uvs;o.push(f.x0,f.y0,f.x1,f.y1,f.x3,f.y3,f.x2,f.y2);const p=Ge.get(Up);p.indexOffset=s,p.indexSize=i.length-s,p.attributeOffset=a,p.attributeSize=r.length/2-a,p.baseColor=n.style,p.alpha=n.alpha,p.texture=d,p.geometryData=t,e.push(p)}function V2(n,e,t,r,o,i){const{vertices:s,uvs:a,indices:l}=i,c=n.shapePrimitives.length-1;n.shapePrimitives.forEach(({shape:u,transform:d},h)=>{const f=l.length,p=s.length/2,m=[],g=sd[u.type];let b="triangle-list";if(g.build(u,m),d&&$p(m,d),r){const w=u.closePath??!0,S=e;S.pixelLine?(kA(m,w,s,l),b="line-list"):TA(m,S,!1,w,s,l)}else if(t&&c===h){c!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const w=[],S=m.slice();z$(t.shapePath).forEach(k=>{w.push(S.length/2),S.push(...k)}),gy(S,w,s,2,p,l,f)}else g.triangulate(m,s,2,p,l,f);const _=a.length/2,v=e.texture;if(v!==ae.WHITE){const w=e.matrix;w&&(d&&w.append(d.clone().invert()),fy(s,2,p,a,_,2,s.length/2-p,w))}else py(a,_,2,s.length/2-p);const y=Ge.get(Up);y.indexOffset=f,y.indexSize=l.length-f,y.attributeOffset=p,y.attributeSize=s.length/2-p,y.baseColor=e.color,y.alpha=e.alpha,y.texture=v,y.geometryData=i,y.topology=b,o.push(y)})}function z$(n){if(!n)return[];const e=n.shapePrimitives,t=[];for(let r=0;r<e.length;r++){const o=e[r].shape,i=[];sd[o.type].build(o,i),t.push(i)}return t}class AA{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class PA{constructor(){this.batcher=new Np,this.instructions=new qv}init(){this.instructions.reset()}get geometry(){return _e(mk,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const _y=class Sb{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Sb.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Sb.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),EA(e,t);const r=e.batchMode;e.customShader||r==="no-batch"?t.isBatchable=!1:r==="auto"&&(t.isBatchable=t.geometryData.vertices.length<400),e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=Ge.get(PA),{batches:r,geometryData:o}=this._gpuContextHash[e.uid],i=o.vertices.length,s=o.indices.length;for(let u=0;u<r.length;u++)r[u].applyTransform=!1;const a=t.batcher;a.ensureAttributeBuffer(i),a.ensureIndexBuffer(s),a.begin();for(let u=0;u<r.length;u++){const d=r[u];a.add(d)}a.finish(t.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let u=0;u<c.length;u++){const d=c[u];d.bindGroup=Bp(d.textures.textures,d.textures.count)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new AA;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(Ge.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(r=>{Ge.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};_y.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"graphicsContext"};_y.defaultOptions={bezierSmoothness:.5};let xy=_y;const H$=8,Hd=11920929e-14,j$=1;function wy(n,e,t,r,o,i,s,a,l,c){const d=Math.min(.99,Math.max(0,c??xy.defaultOptions.bezierSmoothness));let h=(j$-d)/1;return h*=h,W$(e,t,r,o,i,s,a,l,n,h),n}function W$(n,e,t,r,o,i,s,a,l,c){Tb(n,e,t,r,o,i,s,a,l,c,0),l.push(s,a)}function Tb(n,e,t,r,o,i,s,a,l,c,u){if(u>H$)return;const d=(n+t)/2,h=(e+r)/2,f=(t+o)/2,p=(r+i)/2,m=(o+s)/2,g=(i+a)/2,b=(d+f)/2,_=(h+p)/2,v=(f+m)/2,y=(p+g)/2,w=(b+v)/2,S=(_+y)/2;if(u>0){let C=s-n,k=a-e;const E=Math.abs((t-s)*k-(r-a)*C),A=Math.abs((o-s)*k-(i-a)*C);if(E>Hd&&A>Hd){if((E+A)*(E+A)<=c*(C*C+k*k)){l.push(w,S);return}}else if(E>Hd){if(E*E<=c*(C*C+k*k)){l.push(w,S);return}}else if(A>Hd){if(A*A<=c*(C*C+k*k)){l.push(w,S);return}}else if(C=w-(n+s)/2,k=S-(e+a)/2,C*C+k*k<=c){l.push(w,S);return}}Tb(n,e,d,h,b,_,w,S,l,c,u+1),Tb(w,S,v,y,m,g,s,a,l,c,u+1)}const K$=8,X$=11920929e-14,q$=1;function IA(n,e,t,r,o,i,s,a){const c=Math.min(.99,Math.max(0,a??xy.defaultOptions.bezierSmoothness));let u=(q$-c)/1;return u*=u,Y$(e,t,r,o,i,s,n,u),n}function Y$(n,e,t,r,o,i,s,a){kb(s,n,e,t,r,o,i,a,0),s.push(o,i)}function kb(n,e,t,r,o,i,s,a,l){if(l>K$)return;const c=(e+r)/2,u=(t+o)/2,d=(r+i)/2,h=(o+s)/2,f=(c+d)/2,p=(u+h)/2;let m=i-e,g=s-t;const b=Math.abs((r-i)*g-(o-s)*m);if(b>X$){if(b*b<=a*(m*m+g*g)){n.push(f,p);return}}else if(m=f-(e+i)/2,g=p-(t+s)/2,m*m+g*g<=a){n.push(f,p);return}kb(n,e,t,c,u,f,p,a,l+1),kb(n,f,p,d,h,i,s,a,l+1)}function Cy(n,e,t,r,o,i,s,a){let l=Math.abs(o-i);(!s&&o>i||s&&i>o)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI)))),a=Math.max(a,3);let c=l/a,u=o;c*=s?-1:1;for(let d=0;d<a+1;d++){const h=Math.cos(u),f=Math.sin(u),p=e+h*r,m=t+f*r;n.push(p,m),u+=c}}function RA(n,e,t,r,o,i){const s=n[n.length-2],l=n[n.length-1]-t,c=s-e,u=o-t,d=r-e,h=Math.abs(l*d-c*u);if(h<1e-8||i===0){(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);return}const f=l*l+c*c,p=u*u+d*d,m=l*u+c*d,g=i*Math.sqrt(f)/h,b=i*Math.sqrt(p)/h,_=g*m/f,v=b*m/p,y=g*d+b*c,w=g*u+b*l,S=c*(b+_),C=l*(b+_),k=d*(g+v),E=u*(g+v),A=Math.atan2(C-w,S-y),P=Math.atan2(E-w,k-y);Cy(n,y+e,w+t,i,A,P,c*u>d*l)}const pc=Math.PI*2,tg={centerX:0,centerY:0,ang1:0,ang2:0},ng=({x:n,y:e},t,r,o,i,s,a,l)=>{n*=t,e*=r;const c=o*n-i*e,u=i*n+o*e;return l.x=c+s,l.y=u+a,l};function Z$(n,e){const t=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:t,o=Math.cos(n),i=Math.sin(n),s=Math.cos(n+e),a=Math.sin(n+e);return[{x:o-i*r,y:i+o*r},{x:s+a*r,y:a-s*r},{x:s,y:a}]}const z2=(n,e,t,r)=>{const o=n*r-e*t<0?-1:1;let i=n*t+e*r;return i>1&&(i=1),i<-1&&(i=-1),o*Math.acos(i)},J$=(n,e,t,r,o,i,s,a,l,c,u,d,h)=>{const f=Math.pow(o,2),p=Math.pow(i,2),m=Math.pow(u,2),g=Math.pow(d,2);let b=f*p-f*g-p*m;b<0&&(b=0),b/=f*g+p*m,b=Math.sqrt(b)*(s===a?-1:1);const _=b*o/i*d,v=b*-i/o*u,y=c*_-l*v+(n+t)/2,w=l*_+c*v+(e+r)/2,S=(u-_)/o,C=(d-v)/i,k=(-u-_)/o,E=(-d-v)/i,A=z2(1,0,S,C);let P=z2(S,C,k,E);a===0&&P>0&&(P-=pc),a===1&&P<0&&(P+=pc),h.centerX=y,h.centerY=w,h.ang1=A,h.ang2=P};function BA(n,e,t,r,o,i,s,a=0,l=0,c=0){if(i===0||s===0)return;const u=Math.sin(a*pc/360),d=Math.cos(a*pc/360),h=d*(e-r)/2+u*(t-o)/2,f=-u*(e-r)/2+d*(t-o)/2;if(h===0&&f===0)return;i=Math.abs(i),s=Math.abs(s);const p=Math.pow(h,2)/Math.pow(i,2)+Math.pow(f,2)/Math.pow(s,2);p>1&&(i*=Math.sqrt(p),s*=Math.sqrt(p)),J$(e,t,r,o,i,s,l,c,u,d,h,f,tg);let{ang1:m,ang2:g}=tg;const{centerX:b,centerY:_}=tg;let v=Math.abs(g)/(pc/4);Math.abs(1-v)<1e-7&&(v=1);const y=Math.max(Math.ceil(v),1);g/=y;let w=n[n.length-2],S=n[n.length-1];const C={x:0,y:0};for(let k=0;k<y;k++){const E=Z$(m,g),{x:A,y:P}=ng(E[0],i,s,d,u,b,_,C),{x:I,y:$}=ng(E[1],i,s,d,u,b,_,C),{x:V,y:ee}=ng(E[2],i,s,d,u,b,_,C);wy(n,w,S,A,P,I,$,V,ee),w=V,S=ee,m+=g}}function OA(n,e,t){const r=(s,a)=>{const l=a.x-s.x,c=a.y-s.y,u=Math.sqrt(l*l+c*c),d=l/u,h=c/u;return{len:u,nx:d,ny:h}},o=(s,a)=>{s===0?n.moveTo(a.x,a.y):n.lineTo(a.x,a.y)};let i=e[e.length-1];for(let s=0;s<e.length;s++){const a=e[s%e.length],l=a.radius??t;if(l<=0){o(s,a),i=a;continue}const c=e[(s+1)%e.length],u=r(a,i),d=r(a,c);if(u.len<1e-4||d.len<1e-4){o(s,a),i=a;continue}let h=Math.asin(u.nx*d.ny-u.ny*d.nx),f=1,p=!1;u.nx*d.nx-u.ny*-d.ny<0?h<0?h=Math.PI+h:(h=Math.PI-h,f=-1,p=!0):h>0&&(f=-1,p=!0);const m=h/2;let g,b=Math.abs(Math.cos(m)*l/Math.sin(m));b>Math.min(u.len/2,d.len/2)?(b=Math.min(u.len/2,d.len/2),g=Math.abs(b*Math.sin(m)/Math.cos(m))):g=l;const _=a.x+d.nx*b+-d.ny*g*f,v=a.y+d.ny*b+d.nx*g*f,y=Math.atan2(u.ny,u.nx)+Math.PI/2*f,w=Math.atan2(d.ny,d.nx)-Math.PI/2*f;s===0&&n.moveTo(_+Math.cos(y)*g,v+Math.sin(y)*g),n.arc(_,v,g,y,w,p),i=a}}function DA(n,e,t,r){const o=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),i=(a,l,c)=>({x:a.x+(l.x-a.x)*c,y:a.y+(l.y-a.y)*c}),s=e.length;for(let a=0;a<s;a++){const l=e[(a+1)%s],c=l.radius??t;if(c<=0){a===0?n.moveTo(l.x,l.y):n.lineTo(l.x,l.y);continue}const u=e[a],d=e[(a+2)%s],h=o(u,l);let f;if(h<1e-4)f=l;else{const g=Math.min(h/2,c);f=i(l,u,g/h)}const p=o(d,l);let m;if(p<1e-4)m=l;else{const g=Math.min(p/2,c);m=i(l,d,g/p)}a===0?n.moveTo(f.x,f.y):n.lineTo(f.x,f.y),n.quadraticCurveTo(l.x,l.y,m.x,m.y,r)}}const Q$=new Qe;class MA{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new un,this._graphicsPath2D=e}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],i=r[r.length-1];return(o!==e||i!==t)&&r.push(e,t),this}arc(e,t,r,o,i,s){this._ensurePoly(!1);const a=this._currentPoly.points;return Cy(a,e,t,r,o,i,s),this}arcTo(e,t,r,o,i){this._ensurePoly();const s=this._currentPoly.points;return RA(s,e,t,r,o,i),this}arcToSvg(e,t,r,o,i,s,a){const l=this._currentPoly.points;return BA(l,this._currentPoly.lastX,this._currentPoly.lastY,s,a,e,t,r,o,i),this}bezierCurveTo(e,t,r,o,i,s,a){this._ensurePoly();const l=this._currentPoly;return wy(this._currentPoly.points,l.lastX,l.lastY,e,t,r,o,i,s,a),this}quadraticCurveTo(e,t,r,o,i){this._ensurePoly();const s=this._currentPoly;return IA(this._currentPoly.points,s.lastX,s.lastY,e,t,r,o,i),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0),e.transform(t));for(let r=0;r<e.instructions.length;r++){const o=e.instructions[r];this[o.action](...o.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,t,r,o,i){return this.drawShape(new Qe(e,t,r,o),i),this}circle(e,t,r,o){return this.drawShape(new Pp(e,t,r),o),this}poly(e,t,r){const o=new Pa(e);return o.closePath=t,this.drawShape(o,r),this}regularPoly(e,t,r,o,i=0,s){o=Math.max(o|0,3);const a=-1*Math.PI/2+i,l=Math.PI*2/o,c=[];for(let u=0;u<o;u++){const d=u*l+a;c.push(e+r*Math.cos(d),t+r*Math.sin(d))}return this.poly(c,!0,s),this}roundPoly(e,t,r,o,i,s=0,a){if(o=Math.max(o|0,3),i<=0)return this.regularPoly(e,t,r,o,s);const l=r*Math.sin(Math.PI/o)-.001;i=Math.min(i,l);const c=-1*Math.PI/2+s,u=Math.PI*2/o,d=(o-2)*Math.PI/o/2;for(let h=0;h<o;h++){const f=h*u+c,p=e+r*Math.cos(f),m=t+r*Math.sin(f),g=f+Math.PI+d,b=f-Math.PI-d,_=p+i*Math.cos(g),v=m+i*Math.sin(g),y=p+i*Math.cos(b),w=m+i*Math.sin(b);h===0?this.moveTo(_,v):this.lineTo(_,v),this.quadraticCurveTo(p,m,y,w,a)}return this.closePath()}roundShape(e,t,r=!1,o){return e.length<3?this:(r?DA(this,e,t,o):OA(this,e,t),this.closePath())}filletRect(e,t,r,o,i){if(i===0)return this.rect(e,t,r,o);const s=Math.min(r,o)/2,a=Math.min(s,Math.max(-s,i)),l=e+r,c=t+o,u=a<0?-a:0,d=Math.abs(a);return this.moveTo(e,t+d).arcTo(e+u,t+u,e+d,t,d).lineTo(l-d,t).arcTo(l-u,t+u,l,t+d,d).lineTo(l,c-d).arcTo(l-u,c-u,e+r-d,c,d).lineTo(e+d,c).arcTo(e+u,c-u,e,c-d,d).closePath()}chamferRect(e,t,r,o,i,s){if(i<=0)return this.rect(e,t,r,o);const a=Math.min(i,Math.min(r,o)/2),l=e+r,c=t+o,u=[e+a,t,l-a,t,l,t+a,l,c-a,l-a,c,e+a,c,e,c-a,e,t+a];for(let d=u.length-1;d>=2;d-=2)u[d]===u[d-2]&&u[d-1]===u[d-3]&&u.splice(d-1,2);return this.poly(u,!0,s)}ellipse(e,t,r,o,i){return this.drawShape(new Ip(e,t,r,o),i),this}roundRect(e,t,r,o,i,s){return this.drawShape(new Rp(e,t,r,o,i),s),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let r=this._currentPoly;return r&&this.endPoly(),r=new Pa,r.points.push(e,t),this._currentPoly=r,this}endPoly(e=!1){const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Pa,e)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let r=t.shape.x,o=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const i=t.transform,s=r;r=i.a*r+i.c*o+i.tx,o=i.b*s+i.d*o+i.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const r=e.instructions[t];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let r=0;r<t.length;r++){const o=t[r],i=o.shape.getBounds(Q$);o.transform?e.addRect(i,o.transform):e.addRect(i)}return e}}class Hi{constructor(e){this.instructions=[],this.uid=Ct("graphicsPath"),this._dirty=!0,typeof e=="string"?YE(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new MA(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,t,r,o,i){const s=this.instructions[this.instructions.length-1],a=this.getLastPoint(ot.shared);let l=0,c=0;if(!s||s.action!=="bezierCurveTo")l=a.x,c=a.y;else{l=s.data[2],c=s.data[3];const u=a.x,d=a.y;l=u+(u-l),c=d+(d-c)}return this.instructions.push({action:"bezierCurveTo",data:[l,c,e,t,r,o,i]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,t,r){const o=this.instructions[this.instructions.length-1],i=this.getLastPoint(ot.shared);let s=0,a=0;if(!o||o.action!=="quadraticCurveTo")s=i.x,a=i.y;else{s=o.data[0],a=o.data[1];const l=i.x,c=i.y;s=l+(l-s),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[s,a,e,t,r]}),this._dirty=!0,this}rect(e,t,r,o,i){return this.instructions.push({action:"rect",data:[e,t,r,o,i]}),this._dirty=!0,this}circle(e,t,r,o){return this.instructions.push({action:"circle",data:[e,t,r,o]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,t,r,o,i,s,a){i||(i=o/2);const l=-1*Math.PI/2+s,c=r*2,u=Math.PI*2/c,d=[];for(let h=0;h<c;h++){const f=h%2?i:o,p=h*u+l;d.push(e+f*Math.cos(p),t+f*Math.sin(p))}return this.poly(d,!0,a),this}clone(e=!1){const t=new Hi;if(!e)t.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];t.instructions.push({action:o.action,data:o.data.slice()})}return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,r=e.b,o=e.c,i=e.d,s=e.tx,a=e.ty;let l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0;for(let g=0;g<this.instructions.length;g++){const b=this.instructions[g],_=b.data;switch(b.action){case"moveTo":case"lineTo":l=_[0],c=_[1],_[0]=t*l+o*c+s,_[1]=r*l+i*c+a;break;case"bezierCurveTo":u=_[0],d=_[1],h=_[2],f=_[3],l=_[4],c=_[5],_[0]=t*u+o*d+s,_[1]=r*u+i*d+a,_[2]=t*h+o*f+s,_[3]=r*h+i*f+a,_[4]=t*l+o*c+s,_[5]=r*l+i*c+a;break;case"quadraticCurveTo":u=_[0],d=_[1],l=_[2],c=_[3],_[0]=t*u+o*d+s,_[1]=r*u+i*d+a,_[2]=t*l+o*c+s,_[3]=r*l+i*c+a;break;case"arcToSvg":l=_[5],c=_[6],p=_[0],m=_[1],_[0]=t*p+o*m,_[1]=r*p+i*m,_[5]=t*l+o*c+s,_[6]=r*l+i*c+a;break;case"circle":_[4]=Ol(_[3],e);break;case"rect":_[4]=Ol(_[4],e);break;case"ellipse":_[8]=Ol(_[8],e);break;case"roundRect":_[5]=Ol(_[5],e);break;case"addPath":_[0].transform(e);break;case"poly":_[2]=Ol(_[2],e);break;default:Ce("unknown transform action",b.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,r=this.instructions[t];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(t--,t<0)return e.x=0,e.y=0,e;r=this.instructions[t]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function Ol(n,e){return n?n.prepend(e):e.clone()}function FA(n,e){if(typeof n=="string"){const r=document.createElement("div");r.innerHTML=n.trim(),n=r.querySelector("svg")}const t={context:e,path:new Hi};return LA(n,t,null,null),e}function LA(n,e,t,r){const o=n.children,{fillStyle:i,strokeStyle:s}=eU(n);i&&t?t={...t,...i}:i&&(t=i),s&&r?r={...r,...s}:s&&(r=s),e.context.fillStyle=t,e.context.strokeStyle=r;let a,l,c,u,d,h,f,p,m,g,b,_,v,y,w,S,C;switch(n.nodeName.toLowerCase()){case"path":y=n.getAttribute("d"),w=new Hi(y),e.context.path(w),t&&e.context.fill(),r&&e.context.stroke();break;case"circle":f=nn(n,"cx",0),p=nn(n,"cy",0),m=nn(n,"r",0),e.context.ellipse(f,p,m,m),t&&e.context.fill(),r&&e.context.stroke();break;case"rect":a=nn(n,"x",0),l=nn(n,"y",0),S=nn(n,"width",0),C=nn(n,"height",0),g=nn(n,"rx",0),b=nn(n,"ry",0),g||b?e.context.roundRect(a,l,S,C,g||b):e.context.rect(a,l,S,C),t&&e.context.fill(),r&&e.context.stroke();break;case"ellipse":f=nn(n,"cx",0),p=nn(n,"cy",0),g=nn(n,"rx",0),b=nn(n,"ry",0),e.context.beginPath(),e.context.ellipse(f,p,g,b),t&&e.context.fill(),r&&e.context.stroke();break;case"line":c=nn(n,"x1",0),u=nn(n,"y1",0),d=nn(n,"x2",0),h=nn(n,"y2",0),e.context.beginPath(),e.context.moveTo(c,u),e.context.lineTo(d,h),r&&e.context.stroke();break;case"polygon":v=n.getAttribute("points"),_=v.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(_,!0),t&&e.context.fill(),r&&e.context.stroke();break;case"polyline":v=n.getAttribute("points"),_=v.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(_,!1),r&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}for(let k=0;k<o.length;k++)LA(o[k],e,t,r)}function nn(n,e,t){const r=n.getAttribute(e);return r?Number(r):t}function eU(n){const e=n.getAttribute("style"),t={},r={};let o=!1,i=!1;if(e){const s=e.split(";");for(let a=0;a<s.length;a++){const l=s[a],[c,u]=l.split(":");switch(c){case"stroke":u!=="none"&&(t.color=Ke.shared.setValue(u).toNumber(),i=!0);break;case"stroke-width":t.width=Number(u);break;case"fill":u!=="none"&&(o=!0,r.color=Ke.shared.setValue(u).toNumber());break;case"fill-opacity":r.alpha=Number(u);break;case"stroke-opacity":t.alpha=Number(u);break;case"opacity":r.alpha=Number(u),t.alpha=Number(u);break}}}else{const s=n.getAttribute("stroke");s&&s!=="none"&&(i=!0,t.color=Ke.shared.setValue(s).toNumber(),t.width=nn(n,"stroke-width",1));const a=n.getAttribute("fill");a&&a!=="none"&&(o=!0,r.color=Ke.shared.setValue(a).toNumber())}return{strokeStyle:i?t:null,fillStyle:o?r:null}}function tU(n){return Ke.isColorLike(n)}function H2(n){return n instanceof id}function j2(n){return n instanceof Ka}function nU(n,e,t){const r=Ke.shared.setValue(e??0);return n.color=r.toNumber(),n.alpha=r.alpha===1?t.alpha:r.alpha,n.texture=ae.WHITE,{...t,...n}}function W2(n,e,t){return n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,{...t,...n}}function K2(n,e,t){return e.buildLinearGradient(),n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,{...t,...n}}function rU(n,e){var o;const t={...e,...n};if(t.texture){if(t.texture!==ae.WHITE){const s=((o=t.matrix)==null?void 0:o.clone().invert())||new be;s.translate(t.texture.frame.x,t.texture.frame.y),s.scale(1/t.texture.source.width,1/t.texture.source.height),t.matrix=s}const i=t.texture.source.style;i.addressMode==="clamp-to-edge"&&(i.addressMode="repeat",i.update())}const r=Ke.shared.setValue(t.color);return t.alpha*=r.alpha,t.color=r.toNumber(),t.matrix=t.matrix?t.matrix.clone():null,t}function Ri(n,e){if(n==null)return null;const t={},r=n;return tU(n)?nU(t,n,e):H2(n)?W2(t,n,e):j2(n)?K2(t,n,e):r.fill&&H2(r.fill)?W2(r,r.fill,e):r.fill&&j2(r.fill)?K2(r,r.fill,e):rU(r,e)}function Gc(n,e){const{width:t,alignment:r,miterLimit:o,cap:i,join:s,pixelLine:a,...l}=e,c=Ri(n,l);return c?{width:t,alignment:r,miterLimit:o,cap:i,join:s,pixelLine:a,...c}:null}const oU=new ot,X2=new be,Sy=class so extends Zn{constructor(){super(...arguments),this.uid=Ct("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Hi,this._transform=new be,this._fillStyle={...so.defaultFillStyle},this._strokeStyle={...so.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new un,this._boundsDirty=!0}clone(){const e=new so;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ri(e,so.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Gc(e,so.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ri(e,so.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ri(e,so.defaultStrokeStyle),this}texture(e,t,r,o,i,s){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:o||0,dw:i||e.frame.width,dh:s||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?Ke.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Hi,this}fill(e,t){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(e!=null&&(t!==void 0&&typeof e=="number"&&(_e(Pe,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:t}),this._fillStyle=Ri(e,so.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(ot.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(e){let t;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?t=r.data.path:t=this._activePath.clone(),t?(e!=null&&(this._strokeStyle=Gc(e,so.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:t}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(t&&(t.action==="stroke"||t.action==="fill"))if(t.data.hole)t.data.hole.addPath(r);else{t.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,t,r,o,i,s){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*t+a.tx,a.b*e+a.d*t+a.ty,r,o,i,s),this}arcTo(e,t,r,o,i){this._tick++;const s=this._transform;return this._activePath.arcTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty,s.a*r+s.c*o+s.tx,s.b*r+s.d*o+s.ty,i),this}arcToSvg(e,t,r,o,i,s,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,t,r,o,i,l.a*s+l.c*a+l.tx,l.b*s+l.d*a+l.ty),this}bezierCurveTo(e,t,r,o,i,s,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*t+l.tx,l.b*e+l.d*t+l.ty,l.a*r+l.c*o+l.tx,l.b*r+l.d*o+l.ty,l.a*i+l.c*s+l.tx,l.b*i+l.d*s+l.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,t,r,o){return this._tick++,this._activePath.ellipse(e,t,r,o,this._transform.clone()),this}circle(e,t,r){return this._tick++,this._activePath.circle(e,t,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*t+r.tx,r.b*e+r.d*t+r.ty),this}moveTo(e,t){this._tick++;const r=this._transform,o=this._activePath.instructions,i=r.a*e+r.c*t+r.tx,s=r.b*e+r.d*t+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=i,o[0].data[1]=s,this):(this._activePath.moveTo(i,s),this)}quadraticCurveTo(e,t,r,o,i){this._tick++;const s=this._transform;return this._activePath.quadraticCurveTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty,s.a*r+s.c*o+s.tx,s.b*r+s.d*o+s.ty,i),this}rect(e,t,r,o){return this._tick++,this._activePath.rect(e,t,r,o,this._transform.clone()),this}roundRect(e,t,r,o,i){return this._tick++,this._activePath.roundRect(e,t,r,o,i,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,r,o,i=0,s){return this._tick++,this._activePath.regularPoly(e,t,r,o,i,s),this}roundPoly(e,t,r,o,i,s){return this._tick++,this._activePath.roundPoly(e,t,r,o,i,s),this}roundShape(e,t,r,o){return this._tick++,this._activePath.roundShape(e,t,r,o),this}filletRect(e,t,r,o,i){return this._tick++,this._activePath.filletRect(e,t,r,o,i),this}chamferRect(e,t,r,o,i,s){return this._tick++,this._activePath.chamferRect(e,t,r,o,i,s),this}star(e,t,r,o,i=0,s=0){return this._tick++,this._activePath.star(e,t,r,o,i,s,this._transform.clone()),this}svg(e){return this._tick++,FA(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,t=e){return this._transform.scale(e,t),this}setTransform(e,t,r,o,i,s){return e instanceof be?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,r,o,i,s),this)}transform(e,t,r,o,i,s){return e instanceof be?(this._transform.append(e),this):(X2.set(e,t,r,o,i,s),this._transform.append(X2),this)}translate(e,t=e){return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const r=this.instructions[t],o=r.action;if(o==="fill"){const i=r.data;e.addBounds(i.path.bounds)}else if(o==="texture"){const i=r.data;e.addFrame(i.dx,i.dy,i.dx+i.dw,i.dy+i.dh,i.transform)}if(o==="stroke"){const i=r.data,s=i.style.alignment,a=i.style.width*(1-s),l=i.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){var o;if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let r=!1;for(let i=0;i<t.length;i++){const s=t[i],a=s.data,l=a.path;if(!s.action||!l)continue;const c=a.style,u=l.shapePath.shapePrimitives;for(let d=0;d<u.length;d++){const h=u[d].shape;if(!c||!h)continue;const f=u[d].transform,p=f?f.applyInverse(e,oU):e;s.action==="fill"?r=h.contains(p.x,p.y):r=h.strokeContains(p.x,p.y,c.width);const m=a.hole;if(m){const g=(o=m.shapePath)==null?void 0:o.shapePrimitives;if(g)for(let b=0;b<g.length;b++)g[b].shape.contains(p.x,p.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Sy.defaultFillStyle={color:16777215,alpha:1,texture:ae.WHITE,matrix:null,fill:null};Sy.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:ae.WHITE,matrix:null,fill:null,pixelLine:!1};let Rn=Sy;const q2=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function Ty(n){const e=[];let t=0;for(let r=0;r<q2.length;r++){const o=`_${q2[r]}`;e[t++]=n[o]}return t=NA(n._fill,e,t),t=iU(n._stroke,e,t),t=sU(n.dropShadow,e,t),e.join("-")}function NA(n,e,t){var r;return n&&(e[t++]=n.color,e[t++]=n.alpha,e[t++]=(r=n.fill)==null?void 0:r.styleKey),t}function iU(n,e,t){return n&&(t=NA(n,e,t),e[t++]=n.width,e[t++]=n.alignment,e[t++]=n.cap,e[t++]=n.join,e[t++]=n.miterLimit),t}function sU(n,e,t){return n&&(e[t++]=n.alpha,e[t++]=n.angle,e[t++]=n.blur,e[t++]=n.distance,e[t++]=Ke.shared.setValue(n.color).toNumber()),t}const ky=class sa extends Zn{constructor(e={}){super(),aU(e);const t={...sa.defaultTextStyle,...e};for(const r in t){const o=r;this[o]=t[r]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...sa.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...sa.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...Rn.defaultFillStyle,...e},()=>{this._fill=Ri({...this._originalFill},Rn.defaultFillStyle)})),this._fill=Ri(e===0?"black":e,Rn.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...Rn.defaultStrokeStyle,...e},()=>{this._stroke=Gc({...this._originalStroke},Rn.defaultStrokeStyle)})),this._stroke=Gc(e,Rn.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=Ty(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=sa.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new sa({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){var r,o,i,s;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(a),(o=this._originalFill)!=null&&o.texture&&this._originalFill.texture.destroy(a),(i=this._stroke)!=null&&i.texture&&this._stroke.texture.destroy(a),(s=this._originalStroke)!=null&&s.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(r,o,i)=>(r[o]=i,t==null||t(o,i),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Ke.isColorLike(e)||e instanceof Ka||e instanceof id)}};ky.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};ky.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Yn=ky;function aU(n){const e=n;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const t=Yn.defaultDropShadow;n.dropShadow={alpha:e.dropShadowAlpha??t.alpha,angle:e.dropShadowAngle??t.angle,blur:e.dropShadowBlur??t.blur,color:e.dropShadowColor??t.color,distance:e.dropShadowDistance??t.distance}}if(e.strokeThickness!==void 0){_e(Pe,"strokeThickness is now a part of stroke");const t=e.stroke;let r={};if(Ke.isColorLike(t))r.color=t;else if(t instanceof Ka||t instanceof id)r.fill=t;else if(Object.hasOwnProperty.call(t,"color")||Object.hasOwnProperty.call(t,"fill"))r=t;else throw new Error("Invalid stroke value.");n.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){_e(Pe,"gradient fill is now a fill pattern: `new FillGradient(...)`");let t;n.fontSize==null?n.fontSize=Yn.defaultTextStyle.fontSize:typeof n.fontSize=="string"?t=parseInt(n.fontSize,10):t=n.fontSize;const r=new Ka(0,0,0,t*1.7),o=e.fillGradientStops.map(i=>Ke.shared.setValue(i).toNumber());o.forEach((i,s)=>{const a=s/(o.length-1);r.addColorStop(a,i)}),n.fill={fill:r}}}class $A{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const r=Ve.get().createCanvas();r.width=e,r.height=t;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(e,t,r=1){e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),e=Es(e),t=Es(t);const o=(e<<17)+(t<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let i=this._canvasPool[o].pop();return i||(i=this._createCanvasAndContext(e,t)),i}returnCanvasAndContext(e){const t=e.canvas,{width:r,height:o}=t,i=(r<<17)+(o<<1);e.context.clearRect(0,0,r,o),this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const bo=new $A,lU=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Vc(n){const e=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let t=n.fontFamily;Array.isArray(n.fontFamily)||(t=n.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let o=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!lU.includes(o)&&(o=`"${o}"`),t[r]=o}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${e} ${t.join(",")}`}const rg={willReadFrequently:!0},Qr=class fe{static get experimentalLetterSpacingSupported(){let e=fe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Ve.get().getCanvasRenderingContext2D().prototype;e=fe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,o,i,s,a,l,c){this.text=e,this.style=t,this.width=r,this.height=o,this.lines=i,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(e=" ",t,r=fe._canvas,o=t.wordWrap){var _;const i=`${e}:${t.styleKey}`;if(fe._measurementCache[i])return fe._measurementCache[i];const s=Vc(t),a=fe.measureFont(s);a.fontSize===0&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);const l=fe.__context;l.font=s;const u=(o?fe._wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),d=new Array(u.length);let h=0;for(let v=0;v<u.length;v++){const y=fe._measureText(u[v],t.letterSpacing,l);d[v]=y,h=Math.max(h,y)}const f=((_=t._stroke)==null?void 0:_.width)||0;let p=h+f;t.dropShadow&&(p+=t.dropShadow.distance);const m=t.lineHeight||a.fontSize;let g=Math.max(m,a.fontSize+f)+(u.length-1)*(m+t.leading);return t.dropShadow&&(g+=t.dropShadow.distance),new fe(e,t,p,g,u,d,m+t.leading,h,a)}static _measureText(e,t,r){let o=!1;fe.experimentalLetterSpacingSupported&&(fe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const i=r.measureText(e);let s=i.width;const a=-i.actualBoundingBoxLeft;let c=i.actualBoundingBoxRight-a;if(s>0)if(o)s-=t,c-=t;else{const u=(fe.graphemeSegmenter(e).length-1)*t;s+=u,c+=u}return Math.max(s,c)}static _wordWrap(e,t,r=fe._canvas){const o=r.getContext("2d",rg);let i=0,s="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=t,d=fe._collapseSpaces(u),h=fe._collapseNewlines(u);let f=!d;const p=t.wordWrapWidth+c,m=fe._tokenize(e);for(let g=0;g<m.length;g++){let b=m[g];if(fe._isNewline(b)){if(!h){a+=fe._addLine(s),f=!d,s="",i=0;continue}b=" "}if(d){const v=fe.isBreakingSpace(b),y=fe.isBreakingSpace(s[s.length-1]);if(v&&y)continue}const _=fe._getFromCache(b,c,l,o);if(_>p)if(s!==""&&(a+=fe._addLine(s),s="",i=0),fe.canBreakWords(b,t.breakWords)){const v=fe.wordWrapSplit(b);for(let y=0;y<v.length;y++){let w=v[y],S=w,C=1;for(;v[y+C];){const E=v[y+C];if(!fe.canBreakChars(S,E,b,y,t.breakWords))w+=E;else break;S=E,C++}y+=C-1;const k=fe._getFromCache(w,c,l,o);k+i>p&&(a+=fe._addLine(s),f=!1,s="",i=0),s+=w,i+=k}}else{s.length>0&&(a+=fe._addLine(s),s="",i=0);const v=g===m.length-1;a+=fe._addLine(b,!v),f=!1,s="",i=0}else _+i>p&&(f=!1,a+=fe._addLine(s),s="",i=0),(s.length>0||!fe.isBreakingSpace(b)||f)&&(s+=b,i+=_)}return a+=fe._addLine(s,!1),a}static _addLine(e,t=!0){return e=fe._trimRight(e),e=t?`${e}
`:e,e}static _getFromCache(e,t,r,o){let i=r[e];return typeof i!="number"&&(i=fe._measureText(e,t,o)+t,r[e]=i),i}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!fe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:fe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:fe._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let o=0;o<e.length;o++){const i=e[o],s=e[o+1];if(fe.isBreakingSpace(i,s)||fe._isNewline(i)){r!==""&&(t.push(r),r=""),t.push(i);continue}r+=i}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,o,i){return!0}static wordWrapSplit(e){return fe.graphemeSegmenter(e)}static measureFont(e){if(fe._fonts[e])return fe._fonts[e];const t=fe._context;t.font=e;const r=t.measureText(fe.METRICS_STRING+fe.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return fe._fonts[e]=o,o}static clearMetrics(e=""){e?delete fe._fonts[e]:fe._fonts={}}static get _canvas(){if(!fe.__canvas){let e;try{const t=new OffscreenCanvas(0,0),r=t.getContext("2d",rg);if(r!=null&&r.measureText)return fe.__canvas=t,t;e=Ve.get().createCanvas()}catch{e=Ve.get().createCanvas()}e.width=e.height=10,fe.__canvas=e}return fe.__canvas}static get _context(){return fe.__context||(fe.__context=fe._canvas.getContext("2d",rg)),fe.__context}};Qr.METRICS_STRING="|q";Qr.BASELINE_SYMBOL="M";Qr.BASELINE_MULTIPLIER=1.4;Qr.HEIGHT_MULTIPLIER=2;Qr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})();Qr.experimentalLetterSpacing=!1;Qr._fonts={};Qr._newlines=[10,13];Qr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Qr._measurementCache={};let co=Qr;function zc(n,e){if(n.texture===ae.WHITE&&!n.fill)return Ke.shared.setValue(n.color).setAlpha(n.alpha??1).toHexa();if(n.fill){if(n.fill instanceof id){const t=n.fill,r=e.createPattern(t.texture.source.resource,"repeat"),o=t.transform.copyTo(be.shared);return o.scale(t.texture.frame.width,t.texture.frame.height),r.setTransform(o),r}else if(n.fill instanceof Ka){const t=n.fill;if(t.type==="linear"){const r=e.createLinearGradient(t.x0,t.y0,t.x1,t.y1);return t.gradientStops.forEach(o=>{r.addColorStop(o.offset,Ke.shared.setValue(o.color).toHex())}),r}}}else{const t=e.createPattern(n.texture.source.resource,"repeat"),r=n.matrix.copyTo(be.shared);return r.scale(n.texture.frame.width,n.texture.frame.height),t.setTransform(r),t}return Ce("FillStyle not recognised",n),"red"}function Ey(n){if(n==="")return[];typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const o=n[t];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const i=o[0].charCodeAt(0),s=o[1].charCodeAt(0);if(s<i)throw new Error("[BitmapFont]: Invalid character range.");for(let a=i,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(o))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const UA=class GA extends dy{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const t={...GA.defaultOptions,...e};this._textureSize=t.textureSize,this._mipmap=t.mipmap;const r=t.style.clone();t.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=ae.WHITE,r._fill.fill=null),this.applyFillAsTint=t.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const i=Vc(r);t.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=t.skipKerning??!1,this.resolution=t.resolution??1,this._padding=t.padding??4,this.fontMetrics=co.measureFont(i),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(e){var g,b;const t=Ey(e).filter(_=>!this._currentChars.includes(_)).filter((_,v,y)=>y.indexOf(_)===v);if(!t.length)return;this._currentChars=[...this._currentChars,...t];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:i}=r.canvasAndContext,s=r.texture.source;const a=this._style;let l=this._currentX,c=this._currentY;const u=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*u;let h=0,f=!1;const p=o.width/this.resolution,m=o.height/this.resolution;for(let _=0;_<t.length;_++){const v=t[_],y=co.measureText(v,a,o,!1);y.lineHeight=y.height;const w=y.width*u,S=Math.ceil((a.fontStyle==="italic"?2:1)*w),C=y.height*u,k=S+d*2,E=C+d*2;if(f=!1,v!==`
`&&v!=="\r"&&v!=="	"&&v!==" "&&(f=!0,h=Math.ceil(Math.max(E,h))),l+k>p&&(c+=h,h=E,l=0,c+h>m)){s.update();const P=this._nextPage();o=P.canvasAndContext.canvas,i=P.canvasAndContext.context,s=P.texture.source,c=0}const A=w/u-(((g=a.dropShadow)==null?void 0:g.distance)??0)-(((b=a._stroke)==null?void 0:b.width)??0);if(this.chars[v]={id:v.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:A,kerning:{}},f){this._drawGlyph(i,y,l+d,c+d,u,a);const P=s.width*u,I=s.height*u,$=new Qe(l/P*s.width,c/I*s.height,k/P*s.width,E/I*s.height);this.chars[v].texture=new ae({source:s,frame:$}),l+=Math.ceil(k)}}s.update(),this._currentX=l,this._currentY=c,this._skipKerning&&this._applyKerning(t,i)}get pageTextures(){return _e(Pe,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const r=this._measureCache;for(let o=0;o<e.length;o++){const i=e[o];for(let s=0;s<this._currentChars.length;s++){const a=this._currentChars[s];let l=r[i];l||(l=r[i]=t.measureText(i).width);let c=r[a];c||(c=r[a]=t.measureText(a).width);let u=t.measureText(i+a).width,d=u-(l+c);d&&(this.chars[i].kerning[a]=d),u=t.measureText(i+a).width,d=u-(l+c),d&&(this.chars[a].kerning[i]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=bo.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new ae({source:new Ns({resource:t.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),i={canvasAndContext:t,texture:o};return this.pages[this._currentPageIndex]=i,i}_setupContext(e,t,r){t.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=Vc(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const o=t._stroke,i=(o==null?void 0:o.width)??0;if(o&&(e.lineWidth=i,e.lineJoin=o.join,e.miterLimit=o.miterLimit,e.strokeStyle=zc(o,e)),t._fill&&(e.fillStyle=zc(t._fill,e)),t.dropShadow){const s=t.dropShadow,a=Ke.shared.setValue(s.color).toArray(),l=s.blur*r,c=s.distance*r;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${s.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(s.angle)*c,e.shadowOffsetY=Math.sin(s.angle)*c}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,r,o,i,s){const a=t.text,l=t.fontProperties,c=s._stroke,u=((c==null?void 0:c.width)??0)*i,d=r+u/2,h=o-u/2,f=l.descent*i,p=t.lineHeight*i;s.stroke&&u&&e.strokeText(a,d,h+p-f),s._fill&&e.fillText(a,d,h+p-f)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:r}=this.pages[e];bo.returnCanvasAndContext(t),r.destroy(!0)}this.pages=null}};UA.defaultOptions={textureSize:512,style:new Yn,mipmap:!0};let Eb=UA;function Ay(n,e,t,r){const o={width:0,height:0,offsetY:0,scale:e.fontSize/t.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=t.baseLineOffset;let i=o.lines[0],s=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=p=>{const m=i.width;for(let g=0;g<l.index;g++){const b=p.positions[g];i.chars.push(p.chars[g]),i.charPositions.push(b+m)}i.width+=p.width,a=!1,l.width=0,l.index=0,l.chars.length=0},u=()=>{let p=i.chars.length-1;if(r){let m=i.chars[p];for(;m===" ";)i.width-=t.chars[m].xAdvance,m=i.chars[--p]}o.width=Math.max(o.width,i.width),i={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,o.lines.push(i),o.height+=t.lineHeight},d=t.baseMeasurementFontSize/e.fontSize,h=e.letterSpacing*d,f=e.wordWrapWidth*d;for(let p=0;p<n.length+1;p++){let m;const g=p===n.length;g||(m=n[p]);const b=t.chars[m]||t.chars[" "];if(/(?:\s)/.test(m)||m==="\r"||m===`
`||g){if(!a&&e.wordWrap&&i.width+l.width-h>f?(u(),c(l),g||i.charPositions.push(0)):(l.start=i.width,c(l),g||i.charPositions.push(0)),m==="\r"||m===`
`)i.width!==0&&u();else if(!g){const w=b.xAdvance+(b.kerning[s]||0)+h;i.width+=w,i.spaceWidth=w,i.spacesIndex.push(i.charPositions.length),i.chars.push(m)}}else{const y=b.kerning[s]||0,w=b.xAdvance+y+h;l.positions[l.index++]=l.width+y,l.chars.push(m),l.width+=w}s=m}return u(),e.align==="center"?cU(o):e.align==="right"?uU(o):e.align==="justify"&&dU(o),o}function cU(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],r=n.width/2-t.width/2;for(let o=0;o<t.charPositions.length;o++)t.charPositions[o]+=r}}function uU(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],r=n.width-t.width;for(let o=0;o<t.charPositions.length;o++)t.charPositions[o]+=r}}function dU(n){const e=n.width;for(let t=0;t<n.lines.length;t++){const r=n.lines[t];let o=0,i=r.spacesIndex[o++],s=0;const a=r.spacesIndex.length,c=(e-r.width)/a;for(let u=0;u<r.charPositions.length;u++)u===i&&(i=r.spacesIndex[o++],s+=c),r.charPositions[u]+=s}}let jd=0;class hU{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,t){var s;let r=`${t.fontFamily}-bitmap`,o=!0;if(t._fill.fill&&!t._stroke)r+=t._fill.fill.styleKey,o=!1;else if(t._stroke||t.dropShadow){let a=t.styleKey;a=a.substring(0,a.lastIndexOf("-")),r=`${a}-bitmap`,o=!1}if(!ut.has(r)){const a=new Eb({style:t,overrideFill:o,overrideSize:!0,...this.defaultOptions});jd++,jd>50&&Ce("BitmapText",`You have dynamically created ${jd} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),a.once("destroy",()=>{jd--,ut.remove(r)}),ut.set(r,a)}const i=ut.get(r);return(s=i.ensureCharacters)==null||s.call(i,e),i}getLayout(e,t,r=!0){const o=this.getFont(e,t);return Ay([...e],t,o,r)}measureText(e,t,r=!0){return this.getLayout(e,t,r)}install(...e){var c,u,d,h;let t=e[0];typeof t=="string"&&(t={name:t,style:e[1],chars:(c=e[2])==null?void 0:c.chars,resolution:(u=e[2])==null?void 0:u.resolution,padding:(d=e[2])==null?void 0:d.padding,skipKerning:(h=e[2])==null?void 0:h.skipKerning},_e(Pe,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=t==null?void 0:t.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const o=t.style,i=o instanceof Yn?o:new Yn(o),s=i._fill.fill!==null&&i._fill.fill!==void 0,a=new Eb({style:i,overrideFill:s,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1}),l=Ey(t.chars);return a.ensureCharacters(l.join("")),ut.set(`${r}-bitmap`,a),a.once("destroy",()=>ut.remove(`${r}-bitmap`)),a}uninstall(e){const t=`${e}-bitmap`,r=ut.get(t);r&&r.destroy()}}const Hc=new hU;class Py extends dy{constructor(e,t){super();const{textures:r,data:o}=e;Object.keys(o.pages).forEach(i=>{const s=o.pages[parseInt(i,10)],a=r[s.id];this.pages.push({texture:a})}),Object.keys(o.chars).forEach(i=>{const s=o.chars[i],{frame:a,source:l}=r[s.page],c=new Qe(s.x+a.x,s.y+a.y,s.width,s.height),u=new ae({source:l,frame:c});this.chars[i]={id:i.codePointAt(0),xOffset:s.xOffset,yOffset:s.yOffset,xAdvance:s.xAdvance,kerning:s.kerning??{},texture:u}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){Hc.install(e)}static uninstall(e){Hc.uninstall(e)}}const kh={test(n){return typeof n=="string"&&n.startsWith("info face=")},parse(n){const e=n.match(/^[a-z]+\s+.+$/gm),t={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const d in e){const h=e[d].match(/^[a-z]+/gm)[0],f=e[d].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in f){const g=f[m].split("="),b=g[0],_=g[1].replace(/"/gm,""),v=parseFloat(_),y=isNaN(v)?_:v;p[b]=y}t[h].push(p)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=t.info,[i]=t.common,[s]=t.distanceField??[];s&&(r.distanceField={range:parseInt(s.distanceRange,10),type:s.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(i.lineHeight,10);const a=t.page;for(let d=0;d<a.length;d++)r.pages.push({id:parseInt(a[d].id,10)||0,file:a[d].file});const l={};r.baseLineOffset=r.lineHeight-parseInt(i.base,10);const c=t.char;for(let d=0;d<c.length;d++){const h=c[d],f=parseInt(h.id,10);let p=h.letter??h.char??String.fromCharCode(f);p==="space"&&(p=" "),l[f]=p,r.chars[p]={id:f,page:parseInt(h.page,10)||0,x:parseInt(h.x,10),y:parseInt(h.y,10),width:parseInt(h.width,10),height:parseInt(h.height,10),xOffset:parseInt(h.xoffset,10),yOffset:parseInt(h.yoffset,10),xAdvance:parseInt(h.xadvance,10),kerning:{}}}const u=t.kerning||[];for(let d=0;d<u.length;d++){const h=parseInt(u[d].first,10),f=parseInt(u[d].second,10),p=parseInt(u[d].amount,10);r.chars[l[f]].kerning[l[h]]=p}return r}},Ab={test(n){const e=n;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(n){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},t=n.getElementsByTagName("info")[0],r=n.getElementsByTagName("common")[0],o=n.getElementsByTagName("distanceField")[0];o&&(e.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const i=n.getElementsByTagName("page"),s=n.getElementsByTagName("char"),a=n.getElementsByTagName("kerning");e.fontSize=parseInt(t.getAttribute("size"),10),e.fontFamily=t.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let c=0;c<i.length;c++)e.pages.push({id:parseInt(i[c].getAttribute("id"),10)||0,file:i[c].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let c=0;c<s.length;c++){const u=s[c],d=parseInt(u.getAttribute("id"),10);let h=u.getAttribute("letter")??u.getAttribute("char")??String.fromCharCode(d);h==="space"&&(h=" "),l[d]=h,e.chars[h]={id:d,page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<a.length;c++){const u=parseInt(a[c].getAttribute("first"),10),d=parseInt(a[c].getAttribute("second"),10),h=parseInt(a[c].getAttribute("amount"),10);e.chars[l[d]].kerning[l[u]]=h}return e}},Pb={test(n){return typeof n=="string"&&n.includes("<font>")?Ab.test(Ve.get().parseXML(n)):!1},parse(n){return Ab.parse(Ve.get().parseXML(n))}},fU=[".xml",".fnt"],VA={extension:{type:O.CacheParser,name:"cacheBitmapFont"},test:n=>n instanceof Py,getCacheableAssets(n,e){const t={};return n.forEach(r=>{t[r]=e,t[`${r}-bitmap`]=e}),t[`${e.fontFamily}-bitmap`]=e,t}},zA={extension:{type:O.LoadParser,priority:mr.Normal},name:"loadBitmapFont",test(n){return fU.includes(Wn.extname(n).toLowerCase())},async testParse(n){return kh.test(n)||Pb.test(n)},async parse(n,e,t){const r=kh.test(n)?kh.parse(n):Pb.parse(n),{src:o}=e,{pages:i}=r,s=[],a=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let d=0;d<i.length;++d){const h=i[d].file;let f=Wn.join(Wn.dirname(o),h);f=uf(f,o),s.push({src:f,data:a})}const l=await t.load(s),c=s.map(d=>l[d.src]);return new Py({data:r,textures:c},o)},async load(n,e){return await(await Ve.get().fetch(n)).text()},async unload(n,e,t){await Promise.all(n.pages.map(r=>t.unload(r.texture.source._sourceOrigin))),n.destroy()}};class HA{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const jA={extension:{type:O.CacheParser,name:"cacheTextureArray"},test:n=>Array.isArray(n)&&n.every(e=>e instanceof ae),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((o,i)=>{t[r+(i===0?"":i+1)]=o})}),t}};async function Iy(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const WA={extension:{type:O.DetectionParser,priority:1},test:async()=>Iy("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")},Y2=["png","jpg","jpeg"],KA={extension:{type:O.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...Y2],remove:async n=>n.filter(e=>!Y2.includes(e))},pU="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Gp(n){return pU?!1:document.createElement("video").canPlayType(n)!==""}const XA={extension:{type:O.DetectionParser,priority:0},test:async()=>Gp("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")},qA={extension:{type:O.DetectionParser,priority:0},test:async()=>Gp("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")},YA={extension:{type:O.DetectionParser,priority:0},test:async()=>Gp("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")},ZA={extension:{type:O.DetectionParser,priority:0},test:async()=>Iy("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};class JA{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var s,a;let o=null,i=null;if(t.loadParser&&(i=this._parserHash[t.loadParser],i||Ce(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!i){for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.load&&((s=c.test)!=null&&s.call(c,e,t,this))){i=c;break}}if(!i)return Ce(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await i.load(e,t,this),r.parser=i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,o,t,this))&&(o=await c.parse(o,t,this)||o,r.parser=c)}return o})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const o={},i=Fc(e),s=wr(e,c=>({alias:[c],src:c,data:{}})),a=s.length,l=s.map(async c=>{const u=Wn.toAbsolute(c.src);if(!o[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),o[c.src]=await this.promiseCache[u].promise,t&&t(++r/a)}catch(d){throw delete this.promiseCache[u],delete o[c.src],new Error(`[Loader.load] Failed to load ${u}.
${d}`)}});return await Promise.all(l),i?o[s[0].src]:o}async unload(e){const r=wr(e,o=>({alias:[o],src:o})).map(async o=>{var a,l;const i=Wn.toAbsolute(o.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],await((l=(a=s.parser)==null?void 0:a.unload)==null?void 0:l.call(a,c,o,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(t.name?e[t.name]&&Ce(`[Assets] loadParser name conflict "${t.name}"`):Ce("[Assets] loadParser should have a name"),{...e,[t.name]:t}),{})}}function Gs(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function Rr(n,e){const t=n.split("?")[0],r=Wn.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const mU=".json",gU="application/json",QA={extension:{type:O.LoadParser,priority:mr.Low},name:"loadJson",test(n){return Gs(n,gU)||Rr(n,mU)},async load(n){return await(await Ve.get().fetch(n)).json()}},bU=".txt",vU="text/plain",e4={name:"loadTxt",extension:{type:O.LoadParser,priority:mr.Low,name:"loadTxt"},test(n){return Gs(n,vU)||Rr(n,bU)},async load(n){return await(await Ve.get().fetch(n)).text()}},yU=["normal","bold","100","200","300","400","500","600","700","800","900"],_U=[".ttf",".otf",".woff",".woff2"],xU=["font/ttf","font/otf","font/woff","font/woff2"],wU=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function t4(n){const e=Wn.extname(n),o=Wn.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let i=o.length>0;for(const a of o)if(!a.match(wU)){i=!1;break}let s=o.join(" ");return i||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const CU=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function SU(n){return CU.test(n)?n:encodeURI(n)}const n4={extension:{type:O.LoadParser,priority:mr.Low},name:"loadWebFont",test(n){return Gs(n,xU)||Rr(n,_U)},async load(n,e){var r,o,i;const t=Ve.get().getFontFaceSet();if(t){const s=[],a=((r=e.data)==null?void 0:r.family)??t4(n),l=((i=(o=e.data)==null?void 0:o.weights)==null?void 0:i.filter(u=>yU.includes(u)))??["normal"],c=e.data??{};for(let u=0;u<l.length;u++){const d=l[u],h=new FontFace(a,`url(${SU(n)})`,{...c,weight:d});await h.load(),t.add(h),s.push(h)}return ut.set(`${a}-and-url`,{url:n,fontFaces:s}),s.length===1?s[0]:s}return Ce("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>{ut.remove(e.family),Ve.get().getFontFaceSet().delete(e)})}};function Vp(n,e=1){var r;const t=(r=Zi.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}function Ji(n,e,t){n.label=t,n._sourceOrigin=t;const r=new ae({source:n,label:t}),o=()=>{delete e.promiseCache[t],ut.has(t)&&ut.remove(t)};return r.source.once("destroy",()=>{e.promiseCache[t]&&(Ce("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{n.destroyed||(Ce("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const TU=".svg",kU="image/svg+xml",r4={extension:{type:O.LoadParser,priority:mr.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return Gs(n,kU)||Rr(n,TU)},async load(n,e,t){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?AU(n):EU(n,e,t,this.config.crossOrigin)},unload(n){n.destroy(!0)}};async function EU(n,e,t,r){var g,b,_;const i=await(await Ve.get().fetch(n)).blob(),s=URL.createObjectURL(i),a=new Image;a.src=s,a.crossOrigin=r,await a.decode(),URL.revokeObjectURL(s);const l=document.createElement("canvas"),c=l.getContext("2d"),u=((g=e.data)==null?void 0:g.resolution)||Vp(n),d=((b=e.data)==null?void 0:b.width)??a.width,h=((_=e.data)==null?void 0:_.height)??a.height;l.width=d*u,l.height=h*u,c.drawImage(a,0,0,d*u,h*u);const{parseAsGraphicsContext:f,...p}=e.data,m=new Ns({resource:l,alphaMode:"premultiply-alpha-on-upload",resolution:u,...p});return Ji(m,t,n)}async function AU(n){const t=await(await Ve.get().fetch(n)).text(),r=new Rn;return r.svg(t),r}const PU=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Ia=null,Ib=class{constructor(){Ia||(Ia=URL.createObjectURL(new Blob([PU],{type:"application/javascript"}))),this.worker=new Worker(Ia)}};Ib.revokeObjectURL=function(){Ia&&(URL.revokeObjectURL(Ia),Ia=null)};const IU=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Ra=null,o4=class{constructor(){Ra||(Ra=URL.createObjectURL(new Blob([IU],{type:"application/javascript"}))),this.worker=new Worker(Ra)}};o4.revokeObjectURL=function(){Ra&&(URL.revokeObjectURL(Ra),Ra=null)};let Z2=0,og;class RU{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Ib;t.addEventListener("message",r=>{t.terminate(),Ib.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,t){var r;return this._run("loadImageBitmap",[e,(r=t==null?void 0:t.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){og===void 0&&(og=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<og&&(this._createdWorkers++,e=new o4().worker,e.addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((o,i)=>{this._queue.push({id:e,arguments:t,resolve:o,reject:i})});return this._next(),r}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const t=this._queue.pop(),r=t.id;this._resolveHash[Z2]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:Z2++,id:r})}}const Rb=new RU,BU=[".jpeg",".jpg",".png",".webp",".avif"],OU=["image/jpeg","image/png","image/webp","image/avif"];async function i4(n,e){var o;const t=await Ve.get().fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);const r=await t.blob();return((o=e==null?void 0:e.data)==null?void 0:o.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const Ry={name:"loadTextures",extension:{type:O.LoadParser,priority:mr.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return Gs(n,OU)||Rr(n,BU)},async load(n,e,t){var i;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Rb.isImageBitmapSupported()?r=await Rb.loadImageBitmap(n,e):r=await i4(n,e):r=await new Promise(s=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=n,r.complete?s(r):r.onload=()=>{s(r)}});const o=new Ns({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((i=e.data)==null?void 0:i.resolution)||Vp(n),...e.data});return Ji(o,t,n)},unload(n){n.destroy(!0)}},s4=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],DU=s4.map(n=>`video/${n.substring(1)}`);function a4(n,e,t){t===void 0&&!e.startsWith("data:")?n.crossOrigin=c4(e):t!==!1&&(n.crossOrigin=typeof t=="string"?t:"anonymous")}function l4(n){return new Promise((e,t)=>{n.addEventListener("canplaythrough",r),n.addEventListener("error",o),n.load();function r(){i(),e()}function o(s){i(),t(s)}function i(){n.removeEventListener("canplaythrough",r),n.removeEventListener("error",o)}})}function c4(n,e=globalThis.location){if(n.startsWith("data:"))return"";e||(e=globalThis.location);const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}const u4={name:"loadVideo",extension:{type:O.LoadParser,name:"loadVideo"},test(n){const e=Gs(n,DU),t=Rr(n,s4);return e||t},async load(n,e,t){var l,c;const r={...hc.defaultOptions,resolution:((l=e.data)==null?void 0:l.resolution)||Vp(n),alphaMode:((c=e.data)==null?void 0:c.alphaMode)||await ey(),...e.data},o=document.createElement("video"),i={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(i).forEach(u=>{const d=i[u];d!==void 0&&o.setAttribute(u,d)}),r.muted===!0&&(o.muted=!0),a4(o,n,r.crossorigin);const s=document.createElement("source");let a;if(n.startsWith("data:"))a=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){const u=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();a=hc.MIME_TYPES[u]||`video/${u}`}return s.src=n,a&&(s.type=a),new Promise(u=>{const d=async()=>{const h=new hc({...r,resource:o});o.removeEventListener("canplay",d),e.data.preload&&await l4(o),u(Ji(h,t,n))};o.addEventListener("canplay",d),o.appendChild(s)})},unload(n){n.destroy(!0)}},By={extension:{type:O.ResolveParser,name:"resolveTexture"},test:Ry.test,parse:n=>{var e;return{resolution:parseFloat(((e=Zi.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:n.split(".").pop(),src:n}}},d4={extension:{type:O.ResolveParser,priority:-2,name:"resolveJson"},test:n=>Zi.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:By.parse};class h4{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Zi,this.loader=new JA,this.cache=ut,this._backgroundLoader=new HA(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var i,s;if(this._initialized){Ce("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const t=((i=e.texturePreference)==null?void 0:i.resolution)??1,r=typeof t=="number"?[t]:t,o=await this._detectFormats({preferredFormats:(s=e.texturePreference)==null?void 0:s.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();const r=Fc(e),o=wr(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),i=this.resolver.resolve(o),s=await this._mapLoadToResolve(i,t);return r?s[o[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const o=this.resolver.resolveBundle(e),i={},s=Object.keys(o);let a=0,l=0;const c=()=>{t==null||t(++a/l)},u=s.map(d=>{const h=o[d];return l+=Object.keys(h).length,this._mapLoadToResolve(h,c).then(f=>{i[d]=f})});return await Promise.all(u),r?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ut.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=ut.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const i={};return r.forEach(s=>{const a=o[s.src],l=[s.src];s.alias&&l.push(...s.alias),l.forEach(c=>{i[c]=a}),ut.set(l,a)}),i}async unload(e){this._initialized||await this.init();const t=wr(e).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=wr(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(o=>this._unloadFromResolved(t[o]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{ut.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,o)=>t.indexOf(r)===o),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Yl=new h4;dt.handleByList(O.LoadParser,Yl.loader.parsers).handleByList(O.ResolveParser,Yl.resolver.parsers).handleByList(O.CacheParser,Yl.cache.parsers).handleByList(O.DetectionParser,Yl.detections);dt.add(jA,KA,WA,ZA,XA,qA,YA,QA,e4,n4,r4,Ry,u4,zA,VA,By,d4);const J2={loader:O.LoadParser,resolver:O.ResolveParser,cache:O.CacheParser,detection:O.DetectionParser};dt.handle(O.Asset,n=>{const e=n.ref;Object.entries(J2).filter(([t])=>!!e[t]).forEach(([t,r])=>dt.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(J2).filter(t=>!!e[t]).forEach(t=>dt.remove(e[t]))});const MU={extension:{type:O.DetectionParser,priority:3},test:async()=>!!(await od()||rd()),add:async n=>[...n,"basis"],remove:async n=>n.filter(e=>e!=="basis")};class ad extends Ot{constructor(e){super(e),this.uploadMethodId="compressed",this.resource=e.resource,this.mipLevelCount=this.resource.length}}let Wd;function Bb(){if(Wd)return Wd;const e=document.createElement("canvas").getContext("webgl");return e?(Wd=[...e.getExtension("EXT_texture_compression_bptc")?["bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc")?["bc1-rgba-unorm","bc2-rgba-unorm","bc3-rgba-unorm"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc_srgb")?["bc1-rgba-unorm-srgb","bc2-rgba-unorm-srgb","bc3-rgba-unorm-srgb"]:[],...e.getExtension("EXT_texture_compression_rgtc")?["bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm"]:[],...e.getExtension("WEBGL_compressed_texture_etc")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","eac-r11unorm","eac-rg11unorm"]:[],...e.getExtension("WEBGL_compressed_texture_astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],Wd):[]}let Kd;async function Ob(){if(Kd)return Kd;const n=await Ve.get().getNavigator().gpu.requestAdapter();return Kd=[...n.features.has("texture-compression-bc")?["bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...n.features.has("texture-compression-etc2")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm"]:[],...n.features.has("texture-compression-astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],Kd}let Xd;async function Oy(){return Xd!==void 0||(Xd=await(async()=>{const n=await od(),e=rd();if(n&&e){const t=await Ob(),r=Bb();return t.filter(o=>r.includes(o))}else{if(n)return await Ob();if(e)return Bb()}return[]})()),Xd}const f4=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8"];let qd;async function ld(){if(qd!==void 0)return qd;const n=await Oy();return qd=[...f4,...n],qd}const FU=`(function () {
    'use strict';

    function createLevelBuffers(basisTexture, basisTranscoderFormat) {
      const images = basisTexture.getNumImages();
      const levels = basisTexture.getNumLevels(0);
      const success = basisTexture.startTranscoding();
      if (!success) {
        throw new Error("startTranscoding failed");
      }
      const levelBuffers = [];
      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {
        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {
          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);
          const levelBuffer = new Uint8Array(transcodeSize);
          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);
          if (!success2) {
            throw new Error("transcodeImage failed");
          }
          levelBuffers.push(levelBuffer);
        }
      }
      return levelBuffers;
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": 3,
      // cTFBC3_RGBA
      "bc7-rgba-unorm": 6,
      // cTFBC7_RGBA,
      "etc2-rgba8unorm": 1,
      // cTFETC2_RGBA,
      "astc-4x4-unorm": 10,
      // cTFASTC_4x4_RGBA,
      // Uncompressed
      rgba8unorm: 13,
      // cTFRGBA32,
      rgba4unorm: 16
      // cTFRGBA4444,
    };
    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "basis/basis_transcoder.js",
      wasmUrl: "basis/basis_transcoder.wasm"
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let basisPromise;
    async function getBasis() {
      if (!basisPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        basisPromise = new Promise((resolve) => {
          BASIS({
            locateFile: (_file) => absoluteWasmUrl
          }).then((module) => {
            module.initializeBasis();
            resolve(module.BasisFile);
          });
        });
      }
      return basisPromise;
    }
    async function fetchBasisTexture(url, BasisTexture) {
      const basisResponse = await fetch(url);
      if (basisResponse.ok) {
        const basisArrayBuffer = await basisResponse.arrayBuffer();
        return new BasisTexture(new Uint8Array(basisArrayBuffer));
      }
      throw new Error(\`Failed to load Basis texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const BasisTexture = await getBasis();
      const basisTexture = await fetchBasisTexture(url, BasisTexture);
      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);
      return {
        width: basisTexture.getImageWidth(0, 0),
        height: basisTexture.getImageHeight(0, 0),
        format: basisTranscodedTextureFormat,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getBasis();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type](message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Ba=null,p4=class{constructor(){Ba||(Ba=URL.createObjectURL(new Blob([FU],{type:"application/javascript"}))),this.worker=new Worker(Ba)}};p4.revokeObjectURL=function(){Ba&&(URL.revokeObjectURL(Ba),Ba=null)};const hf={jsUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.js",wasmUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"};function LU(n){Object.assign(hf,n)}let Dl;const m4={};function NU(n){return Dl||(Dl=new p4().worker,Dl.onmessage=e=>{const{success:t,url:r,textureOptions:o}=e.data;t||console.warn("Failed to load Basis texture",r),m4[r](o)},Dl.postMessage({type:"init",jsUrl:hf.jsUrl,wasmUrl:hf.wasmUrl,supportedTextures:n})),Dl}function g4(n,e){const t=NU(e);return new Promise(r=>{m4[n]=r,t.postMessage({type:"load",url:n})})}const $U={extension:{type:O.LoadParser,priority:mr.High,name:"loadBasis"},name:"loadBasis",test(n){return Rr(n,[".basis"])},async load(n,e,t){const r=await ld(),o=await g4(n,r),i=new ad(o);return Ji(i,t,n)},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};function UU(n,e){const t=n.getNumImages(),r=n.getNumLevels(0);if(!n.startTranscoding())throw new Error("startTranscoding failed");const i=[];for(let s=0;s<r;++s)for(let a=0;a<t;++a){const l=n.getImageTranscodedSizeInBytes(a,s,e),c=new Uint8Array(l);if(!n.transcodeImage(c,a,s,e,1,0))throw new Error("transcodeImage failed");i.push(c)}return i}const GU={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function VU(n){const e=GU[n];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${n}`)}const zU={MAGIC:0,SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19,PF_FLAGS:20,FOURCC:21,RGB_BITCOUNT:22,R_BIT_MASK:23,G_BIT_MASK:24,B_BIT_MASK:25,A_BIT_MASK:26},HU={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};var Dy=(n=>(n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",n))(Dy||{}),My=(n=>(n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D",n))(My||{});function tn(n){return n.charCodeAt(0)+(n.charCodeAt(1)<<8)+(n.charCodeAt(2)<<16)+(n.charCodeAt(3)<<24)}var $n=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.R8G8B8=20]="R8G8B8",n[n.A8R8G8B8=21]="A8R8G8B8",n[n.X8R8G8B8=22]="X8R8G8B8",n[n.R5G6B5=23]="R5G6B5",n[n.X1R5G5B5=24]="X1R5G5B5",n[n.A1R5G5B5=25]="A1R5G5B5",n[n.A4R4G4B4=26]="A4R4G4B4",n[n.R3G3B2=27]="R3G3B2",n[n.A8=28]="A8",n[n.A8R3G3B2=29]="A8R3G3B2",n[n.X4R4G4B4=30]="X4R4G4B4",n[n.A2B10G10R10=31]="A2B10G10R10",n[n.A8B8G8R8=32]="A8B8G8R8",n[n.X8B8G8R8=33]="X8B8G8R8",n[n.G16R16=34]="G16R16",n[n.A2R10G10B10=35]="A2R10G10B10",n[n.A16B16G16R16=36]="A16B16G16R16",n[n.A8P8=40]="A8P8",n[n.P8=41]="P8",n[n.L8=50]="L8",n[n.A8L8=51]="A8L8",n[n.A4L4=52]="A4L4",n[n.V8U8=60]="V8U8",n[n.L6V5U5=61]="L6V5U5",n[n.X8L8V8U8=62]="X8L8V8U8",n[n.Q8W8V8U8=63]="Q8W8V8U8",n[n.V16U16=64]="V16U16",n[n.A2W10V10U10=67]="A2W10V10U10",n[n.Q16W16V16U16=110]="Q16W16V16U16",n[n.R16F=111]="R16F",n[n.G16R16F=112]="G16R16F",n[n.A16B16G16R16F=113]="A16B16G16R16F",n[n.R32F=114]="R32F",n[n.G32R32F=115]="G32R32F",n[n.A32B32G32R32F=116]="A32B32G32R32F",n[n.UYVY=tn("UYVY")]="UYVY",n[n.R8G8_B8G8=tn("RGBG")]="R8G8_B8G8",n[n.YUY2=tn("YUY2")]="YUY2",n[n.D3DFMT_G8R8_G8B8=tn("GRGB")]="D3DFMT_G8R8_G8B8",n[n.DXT1=tn("DXT1")]="DXT1",n[n.DXT2=tn("DXT2")]="DXT2",n[n.DXT3=tn("DXT3")]="DXT3",n[n.DXT4=tn("DXT4")]="DXT4",n[n.DXT5=tn("DXT5")]="DXT5",n[n.ATI1=tn("ATI1")]="ATI1",n[n.AT1N=tn("AT1N")]="AT1N",n[n.ATI2=tn("ATI2")]="ATI2",n[n.AT2N=tn("AT2N")]="AT2N",n[n.BC4U=tn("BC4U")]="BC4U",n[n.BC4S=tn("BC4S")]="BC4S",n[n.BC5U=tn("BC5U")]="BC5U",n[n.BC5S=tn("BC5S")]="BC5S",n[n.DX10=tn("DX10")]="DX10",n))($n||{});const Db={[$n.DXT1]:"bc1-rgba-unorm",[$n.DXT2]:"bc2-rgba-unorm",[$n.DXT3]:"bc2-rgba-unorm",[$n.DXT4]:"bc3-rgba-unorm",[$n.DXT5]:"bc3-rgba-unorm",[$n.ATI1]:"bc4-r-unorm",[$n.BC4U]:"bc4-r-unorm",[$n.BC4S]:"bc4-r-snorm",[$n.ATI2]:"bc5-rg-unorm",[$n.BC5U]:"bc5-rg-unorm",[$n.BC5S]:"bc5-rg-snorm",36:"rgba16uint",110:"rgba16sint",111:"r16float",112:"rg16float",113:"rgba16float",114:"r32float",115:"rg32float",116:"rgba32float"},Un={70:"bc1-rgba-unorm",71:"bc1-rgba-unorm",72:"bc1-rgba-unorm-srgb",73:"bc2-rgba-unorm",74:"bc2-rgba-unorm",75:"bc2-rgba-unorm-srgb",76:"bc3-rgba-unorm",77:"bc3-rgba-unorm",78:"bc3-rgba-unorm-srgb",79:"bc4-r-unorm",80:"bc4-r-unorm",81:"bc4-r-snorm",82:"bc5-rg-unorm",83:"bc5-rg-unorm",84:"bc5-rg-snorm",94:"bc6h-rgb-ufloat",95:"bc6h-rgb-ufloat",96:"bc6h-rgb-float",97:"bc7-rgba-unorm",98:"bc7-rgba-unorm",99:"bc7-rgba-unorm-srgb",28:"rgba8unorm",29:"rgba8unorm-srgb",87:"bgra8unorm",91:"bgra8unorm-srgb",41:"r32float",49:"rg8unorm",56:"r16uint",61:"r8unorm",24:"rgb10a2unorm",11:"rgba16uint",13:"rgba16sint",10:"rgba16float",54:"r16float",34:"rg16float",16:"rg32float",2:"rgba32float"},Ee={MAGIC_VALUE:542327876,MAGIC_SIZE:4,HEADER_SIZE:124,HEADER_DX10_SIZE:20,PIXEL_FORMAT_FLAGS:{ALPHAPIXELS:1,ALPHA:2,FOURCC:4,RGB:64,RGBA:65,YUV:512,LUMINANCE:131072,LUMINANCEA:131073},RESOURCE_MISC_TEXTURECUBE:4,HEADER_FIELDS:zU,HEADER_DX10_FIELDS:HU,DXGI_FORMAT:Dy,D3D10_RESOURCE_DIMENSION:My,D3DFMT:$n},b4={"bc1-rgba-unorm":8,"bc1-rgba-unorm-srgb":8,"bc2-rgba-unorm":16,"bc2-rgba-unorm-srgb":16,"bc3-rgba-unorm":16,"bc3-rgba-unorm-srgb":16,"bc4-r-unorm":8,"bc4-r-snorm":8,"bc5-rg-unorm":16,"bc5-rg-snorm":16,"bc6h-rgb-ufloat":16,"bc6h-rgb-float":16,"bc7-rgba-unorm":16,"bc7-rgba-unorm-srgb":16};function v4(n,e){const{format:t,fourCC:r,width:o,height:i,dataOffset:s,mipmapCount:a}=WU(n);if(!e.includes(t))throw new Error(`Unsupported texture format: ${r} ${t}, supported: ${e}`);if(a<=1)return{format:t,width:o,height:i,resource:[new Uint8Array(n,s)],alphaMode:"no-premultiply-alpha"};const l=jU(t,o,i,s,a,n);return{format:t,width:o,height:i,resource:l,alphaMode:"no-premultiply-alpha"}}function jU(n,e,t,r,o,i){const s=[],a=b4[n];let l=e,c=t,u=r;for(let d=0;d<o;++d){const h=a?Math.max(4,l)/4*Math.max(4,c)/4*a:l*c*4,f=new Uint8Array(i,u,h);s.push(f),u+=h,l=Math.max(l>>1,1),c=Math.max(c>>1,1)}return s}function WU(n){const e=new Uint32Array(n,0,Ee.HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(e[Ee.HEADER_FIELDS.MAGIC]!==Ee.MAGIC_VALUE)throw new Error("Invalid magic number in DDS header");const t=e[Ee.HEADER_FIELDS.HEIGHT],r=e[Ee.HEADER_FIELDS.WIDTH],o=Math.max(1,e[Ee.HEADER_FIELDS.MIPMAP_COUNT]),i=e[Ee.HEADER_FIELDS.PF_FLAGS],s=e[Ee.HEADER_FIELDS.FOURCC],a=KU(e,i,s,n),l=Ee.MAGIC_SIZE+Ee.HEADER_SIZE+(s===Ee.D3DFMT.DX10?Ee.HEADER_DX10_SIZE:0);return{format:a,fourCC:s,width:r,height:t,dataOffset:l,mipmapCount:o}}function KU(n,e,t,r){if(e&Ee.PIXEL_FORMAT_FLAGS.FOURCC){if(t===Ee.D3DFMT.DX10){const o=new Uint32Array(r,Ee.MAGIC_SIZE+Ee.HEADER_SIZE,Ee.HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(o[Ee.HEADER_DX10_FIELDS.MISC_FLAG]===Ee.RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(o[Ee.HEADER_DX10_FIELDS.RESOURCE_DIMENSION]===Ee.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");const a=o[Ee.HEADER_DX10_FIELDS.DXGI_FORMAT];if(a in Un)return Un[a];throw new Error(`DDSParser cannot parse texture data with DXGI format ${a}`)}if(t in Db)return Db[t];throw new Error(`DDSParser cannot parse texture data with fourCC format ${t}`)}if(e&Ee.PIXEL_FORMAT_FLAGS.RGB||e&Ee.PIXEL_FORMAT_FLAGS.RGBA)return XU(n);throw e&Ee.PIXEL_FORMAT_FLAGS.YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):e&Ee.PIXEL_FORMAT_FLAGS.LUMINANCE||e&Ee.PIXEL_FORMAT_FLAGS.LUMINANCEA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):e&Ee.PIXEL_FORMAT_FLAGS.ALPHA||e&Ee.PIXEL_FORMAT_FLAGS.ALPHAPIXELS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}function XU(n){const e=n[Ee.HEADER_FIELDS.RGB_BITCOUNT],t=n[Ee.HEADER_FIELDS.R_BIT_MASK],r=n[Ee.HEADER_FIELDS.G_BIT_MASK],o=n[Ee.HEADER_FIELDS.B_BIT_MASK],i=n[Ee.HEADER_FIELDS.A_BIT_MASK];switch(e){case 32:if(t===255&&r===65280&&o===16711680&&i===4278190080)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];if(t===16711680&&r===65280&&o===255&&i===4278190080)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];if(t===1072693248&&r===1047552&&o===1023&&i===3221225472)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];if(t===65535&&r===4294901760&&o===0&&i===0)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];if(t===4294967295&&r===0&&o===0&&i===0)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];break;case 24:break;case 16:if(t===31744&&r===992&&o===31&&i===32768)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];if(t===63488&&r===2016&&o===31&&i===0)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];if(t===3840&&r===240&&o===15&&i===61440)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];if(t===255&&r===0&&o===0&&i===65280)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];if(t===65535&&r===0&&o===0&&i===0)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];break;case 8:if(t===255&&r===0&&o===0&&i===0)return Un[Ee.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];break}throw new Error(`DDSParser does not support uncompressed texture with configuration:
                bitCount = ${e}, rBitMask = ${t}, gBitMask = ${r}, aBitMask = ${i}`)}const qU={extension:{type:O.LoadParser,priority:mr.High,name:"loadDDS"},name:"loadDDS",test(n){return Rr(n,[".dds"])},async load(n,e,t){const r=await ld(),i=await(await fetch(n)).arrayBuffer(),s=v4(i,r),a=new ad(s);return Ji(a,t,n)},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};var y4=(n=>(n[n.RGBA8_SNORM=36759]="RGBA8_SNORM",n[n.RGBA=6408]="RGBA",n[n.RGBA8UI=36220]="RGBA8UI",n[n.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",n[n.RGBA8I=36238]="RGBA8I",n[n.RGBA8=32856]="RGBA8",n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",n[n.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",n[n.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",n[n.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",n[n.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",n[n.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",n[n.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",n[n.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",n[n.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",n[n.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",n[n.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",n[n.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",n[n.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",n[n.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",n[n.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",n[n.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(y4||{});const YU={33776:"bc1-rgba-unorm",33777:"bc1-rgba-unorm",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",35916:"bc1-rgba-unorm-srgb",35917:"bc1-rgba-unorm-srgb",35918:"bc2-rgba-unorm-srgb",35919:"bc3-rgba-unorm-srgb",36283:"bc4-r-unorm",36284:"bc4-r-snorm",36285:"bc5-rg-unorm",36286:"bc5-rg-snorm",37488:"eac-r11unorm",37490:"eac-rg11snorm",37492:"etc2-rgb8unorm",37496:"etc2-rgba8unorm",37493:"etc2-rgb8unorm-srgb",37497:"etc2-rgba8unorm-srgb",37494:"etc2-rgb8a1unorm",37495:"etc2-rgb8a1unorm-srgb",37808:"astc-4x4-unorm",37840:"astc-4x4-unorm-srgb",37809:"astc-5x4-unorm",37841:"astc-5x4-unorm-srgb",37810:"astc-5x5-unorm",37842:"astc-5x5-unorm-srgb",37811:"astc-6x5-unorm",37843:"astc-6x5-unorm-srgb",37812:"astc-6x6-unorm",37844:"astc-6x6-unorm-srgb",37813:"astc-8x5-unorm",37845:"astc-8x5-unorm-srgb",37814:"astc-8x6-unorm",37846:"astc-8x6-unorm-srgb",37815:"astc-8x8-unorm",37847:"astc-8x8-unorm-srgb",37816:"astc-10x5-unorm",37848:"astc-10x5-unorm-srgb",37817:"astc-10x6-unorm",37849:"astc-10x6-unorm-srgb",37818:"astc-10x8-unorm",37850:"astc-10x8-unorm-srgb",37819:"astc-10x10-unorm",37851:"astc-10x10-unorm-srgb",37820:"astc-12x10-unorm",37852:"astc-12x10-unorm-srgb",37821:"astc-12x12-unorm",37853:"astc-12x12-unorm-srgb",36492:"bc7-rgba-unorm",36493:"bc7-rgba-unorm-srgb",36494:"bc6h-rgb-float",36495:"bc6h-rgb-ufloat",35907:"rgba8unorm-srgb",36759:"rgba8snorm",36220:"rgba8uint",36238:"rgba8sint",6408:"rgba8unorm"},ZU=[171,75,84,88,32,49,49,187,13,10,26,10],JU={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},QU=64,eG=67305985,tG={5121:1,5123:2,5124:4,5125:4,5126:4,36193:8},nG={6408:4,6407:3,33319:2,6403:1,6409:1,6410:2,6406:1},rG={32819:2,32820:2,33635:2},oG={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,36283:.5,36284:.5,36285:1,36286:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,37808:1,37840:1,37809:.8,37841:.8,37810:.64,37842:.64,37811:.53375,37843:.53375,37812:.445,37844:.445,37813:.4,37845:.4,37814:.33375,37846:.33375,37815:.25,37847:.25,37816:.32,37848:.32,37817:.26625,37849:.26625,37818:.2,37850:.2,37819:.16,37851:.16,37820:.13375,37852:.13375,37821:.11125,37853:.11125,36492:1,36493:1,36494:1,36495:1},Pt={FILE_HEADER_SIZE:QU,FILE_IDENTIFIER:ZU,FORMATS_TO_COMPONENTS:nG,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:oG,INTERNAL_FORMAT_TO_TEXTURE_FORMATS:YU,FIELDS:JU,TYPES_TO_BYTES_PER_COMPONENT:tG,TYPES_TO_BYTES_PER_PIXEL:rG,ENDIANNESS:eG};function _4(n,e){const t=new DataView(n);if(!lG(t))throw new Error("Invalid KTX identifier in header");const{littleEndian:r,glType:o,glFormat:i,glInternalFormat:s,pixelWidth:a,pixelHeight:l,numberOfMipmapLevels:c,offset:u}=aG(t),d=Pt.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[s];if(!d)throw new Error(`Unknown texture format ${s}`);if(!e.includes(d))throw new Error(`Unsupported texture format: ${d}, supportedFormats: ${e}`);const h=sG(o,i,s),f=iG(t,o,h,a,l,u,c,r);return{format:d,width:a,height:l,resource:f,alphaMode:"no-premultiply-alpha"}}function iG(n,e,t,r,o,i,s,a){const l=r+3&-4,c=o+3&-4;let u=r*o;e===0&&(u=l*c);let d=u*t,h=r,f=o,p=l,m=c,g=i;const b=new Array(s);for(let _=0;_<s;_++){const v=n.getUint32(g,a);let y=g+4;b[_]=new Uint8Array(n.buffer,y,d),y+=d,g+=v+4,g=g%4!==0?g+4-g%4:g,h=h>>1||1,f=f>>1||1,p=h+4-1&-4,m=f+4-1&-4,d=p*m*t}return b}function sG(n,e,t){let r=Pt.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];if(n!==0&&(Pt.TYPES_TO_BYTES_PER_COMPONENT[n]?r=Pt.TYPES_TO_BYTES_PER_COMPONENT[n]*Pt.FORMATS_TO_COMPONENTS[e]:r=Pt.TYPES_TO_BYTES_PER_PIXEL[n]),r===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");return r}function aG(n){const e=n.getUint32(Pt.FIELDS.ENDIANNESS,!0)===Pt.ENDIANNESS,t=n.getUint32(Pt.FIELDS.GL_TYPE,e),r=n.getUint32(Pt.FIELDS.GL_FORMAT,e),o=n.getUint32(Pt.FIELDS.GL_INTERNAL_FORMAT,e),i=n.getUint32(Pt.FIELDS.PIXEL_WIDTH,e),s=n.getUint32(Pt.FIELDS.PIXEL_HEIGHT,e)||1,a=n.getUint32(Pt.FIELDS.PIXEL_DEPTH,e)||1,l=n.getUint32(Pt.FIELDS.NUMBER_OF_ARRAY_ELEMENTS,e)||1,c=n.getUint32(Pt.FIELDS.NUMBER_OF_FACES,e),u=n.getUint32(Pt.FIELDS.NUMBER_OF_MIPMAP_LEVELS,e),d=n.getUint32(Pt.FIELDS.BYTES_OF_KEY_VALUE_DATA,e);if(s===0||a!==1)throw new Error("Only 2D textures are supported");if(c!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(l!==1)throw new Error("WebGL does not support array textures");return{littleEndian:e,glType:t,glFormat:r,glInternalFormat:o,pixelWidth:i,pixelHeight:s,numberOfMipmapLevels:u,offset:Pt.FILE_HEADER_SIZE+d}}function lG(n){for(let e=0;e<Pt.FILE_IDENTIFIER.length;e++)if(n.getUint8(e)!==Pt.FILE_IDENTIFIER[e])return!1;return!0}const cG={extension:{type:O.LoadParser,priority:mr.High,name:"loadKTX"},name:"loadKTX",test(n){return Rr(n,".ktx")},async load(n,e,t){const r=await ld(),i=await(await fetch(n)).arrayBuffer(),s=_4(i,r),a=new ad(s);return Ji(a,t,n)},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}},uG=`(function () {
    'use strict';

    const converters = {
      rgb8unorm: {
        convertedFormat: "rgba8unorm",
        convertFunction: convertRGBtoRGBA
      },
      "rgb8unorm-srgb": {
        convertedFormat: "rgba8unorm-srgb",
        convertFunction: convertRGBtoRGBA
      }
    };
    function convertFormatIfRequired(textureOptions) {
      const format = textureOptions.format;
      if (converters[format]) {
        const convertFunction = converters[format].convertFunction;
        const levelBuffers = textureOptions.resource;
        for (let i = 0; i < levelBuffers.length; i++) {
          levelBuffers[i] = convertFunction(levelBuffers[i]);
        }
        textureOptions.format = converters[format].convertedFormat;
      }
    }
    function convertRGBtoRGBA(levelBuffer) {
      const pixelCount = levelBuffer.byteLength / 3;
      const levelBufferWithAlpha = new Uint32Array(pixelCount);
      for (let i = 0; i < pixelCount; ++i) {
        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;
      }
      return new Uint8Array(levelBufferWithAlpha.buffer);
    }

    function createLevelBuffersFromKTX(ktxTexture) {
      const levelBuffers = [];
      for (let i = 0; i < ktxTexture.numLevels; i++) {
        const imageData = ktxTexture.getImageData(i, 0, 0);
        const levelBuffer = new Uint8Array(imageData.byteLength);
        levelBuffer.set(imageData);
        levelBuffers.push(levelBuffer);
      }
      return levelBuffers;
    }

    const glFormatToGPUFormatMap = {
      6408: "rgba8unorm",
      32856: "bgra8unorm",
      //
      32857: "rgb10a2unorm",
      33189: "depth16unorm",
      33190: "depth24plus",
      33321: "r8unorm",
      33323: "rg8unorm",
      33325: "r16float",
      33326: "r32float",
      33327: "rg16float",
      33328: "rg32float",
      33329: "r8sint",
      33330: "r8uint",
      33331: "r16sint",
      33332: "r16uint",
      33333: "r32sint",
      33334: "r32uint",
      33335: "rg8sint",
      33336: "rg8uint",
      33337: "rg16sint",
      33338: "rg16uint",
      33339: "rg32sint",
      33340: "rg32uint",
      33778: "bc2-rgba-unorm",
      33779: "bc3-rgba-unorm",
      34836: "rgba32float",
      34842: "rgba16float",
      35056: "depth24plus-stencil8",
      35898: "rg11b10ufloat",
      35901: "rgb9e5ufloat",
      35907: "rgba8unorm-srgb",
      // bgra8unorm-srgb
      36012: "depth32float",
      36013: "depth32float-stencil8",
      36168: "stencil8",
      36208: "rgba32uint",
      36214: "rgba16uint",
      36220: "rgba8uint",
      36226: "rgba32sint",
      36232: "rgba16sint",
      36238: "rgba8sint",
      36492: "bc7-rgba-unorm",
      36756: "r8snorm",
      36757: "rg8snorm",
      36759: "rgba8snorm",
      37496: "etc2-rgba8unorm",
      37808: "astc-4x4-unorm"
    };
    function glFormatToGPUFormat(glInternalFormat) {
      const format = glFormatToGPUFormatMap[glInternalFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported glInternalFormat: \${glInternalFormat}\`);
    }

    const vkFormatToGPUFormatMap = {
      23: "rgb8unorm",
      // VK_FORMAT_R8G8B8_UNORM
      37: "rgba8unorm",
      // VK_FORMAT_R8G8B8A8_UNORM
      43: "rgba8unorm-srgb"
      // VK_FORMAT_R8G8B8A8_SRGB
      // TODO add more!
    };
    function vkFormatToGPUFormat(vkFormat) {
      const format = vkFormatToGPUFormatMap[vkFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported VkFormat: \${vkFormat}\`);
    }

    function getTextureFormatFromKTXTexture(ktxTexture) {
      if (ktxTexture.classId === 2) {
        return vkFormatToGPUFormat(ktxTexture.vkFormat);
      }
      return glFormatToGPUFormat(ktxTexture.glInternalformat);
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": "BC3_RGBA",
      "bc7-rgba-unorm": "BC7_M5_RGBA",
      "etc2-rgba8unorm": "ETC2_RGBA",
      "astc-4x4-unorm": "ASTC_4x4_RGBA",
      // Uncompressed
      rgba8unorm: "RGBA32",
      rg11b10ufloat: "R11F_G11F_B10F"
    };
    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "",
      wasmUrl: ""
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let ktxPromise;
    async function getKTX() {
      if (!ktxPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        ktxPromise = new Promise((resolve) => {
          LIBKTX({
            locateFile: (_file) => absoluteWasmUrl
          }).then((libktx) => {
            resolve(libktx);
          });
        });
      }
      return ktxPromise;
    }
    async function fetchKTXTexture(url, ktx) {
      const ktx2Response = await fetch(url);
      if (ktx2Response.ok) {
        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();
        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));
      }
      throw new Error(\`Failed to load KTX(2) texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const ktx = await getKTX();
      const ktxTexture = await fetchKTXTexture(url, ktx);
      let format;
      if (ktxTexture.needsTranscoding) {
        format = basisTranscodedTextureFormat;
        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];
        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);
        if (result !== ktx.ErrorCode.SUCCESS) {
          throw new Error("Unable to transcode basis texture.");
        }
      } else {
        format = getTextureFormatFromKTXTexture(ktxTexture);
      }
      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);
      const textureOptions = {
        width: ktxTexture.baseWidth,
        height: ktxTexture.baseHeight,
        format,
        mipLevelCount: ktxTexture.numLevels,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
      convertFormatIfRequired(textureOptions);
      return textureOptions;
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getKTX();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type]?.(message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Oa=null;class x4{constructor(){Oa||(Oa=URL.createObjectURL(new Blob([uG],{type:"application/javascript"}))),this.worker=new Worker(Oa)}}x4.revokeObjectURL=function(){Oa&&(URL.revokeObjectURL(Oa),Oa=null)};const ff={jsUrl:"https://files.pixijs.download/transcoders/ktx/libktx.js",wasmUrl:"https://files.pixijs.download/transcoders/ktx/libktx.wasm"};function dG(n){Object.assign(ff,n)}let Ml;const w4={};function hG(n){return Ml||(Ml=new x4().worker,Ml.onmessage=e=>{const{success:t,url:r,textureOptions:o}=e.data;t||console.warn("Failed to load KTX texture",r),w4[r](o)},Ml.postMessage({type:"init",jsUrl:ff.jsUrl,wasmUrl:ff.wasmUrl,supportedTextures:n})),Ml}function C4(n,e){const t=hG(e);return new Promise(r=>{w4[n]=r,t.postMessage({type:"load",url:n})})}const fG={extension:{type:O.LoadParser,priority:mr.High,name:"loadKTX2"},name:"loadKTX2",test(n){return Rr(n,".ktx2")},async load(n,e,t){const r=await ld(),o=await C4(n,r),i=new ad(o);return Ji(i,t,n)},async unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}},ig={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:Q2},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:Q2}};function pG(n){const e=n.format;if(ig[e]){const t=ig[e].convertFunction,r=n.resource;for(let o=0;o<r.length;o++)r[o]=t(r[o]);n.format=ig[e].convertedFormat}}function Q2(n){const e=n.byteLength/3,t=new Uint32Array(e);for(let r=0;r<e;++r)t[r]=n[r*3]+(n[r*3+1]<<8)+(n[r*3+2]<<16)+4278190080;return new Uint8Array(t.buffer)}function mG(n){const e=[];for(let t=0;t<n.numLevels;t++){const r=n.getImageData(t,0,0),o=new Uint8Array(r.byteLength);o.set(r),e.push(o)}return e}const gG={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function S4(n){const e=gG[n];if(e)return e;throw new Error(`Unsupported glInternalFormat: ${n}`)}const bG={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function T4(n){const e=bG[n];if(e)return e;throw new Error(`Unsupported VkFormat: ${n}`)}function vG(n){return n.classId===2?T4(n.vkFormat):S4(n.glInternalformat)}const yG={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function _G(n){const e=yG[n];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${n}`)}const pf=["basis","bc7","bc6h","astc","etc2","bc5","bc4","bc3","bc2","bc1","eac"],xG={extension:O.ResolveParser,test:n=>Rr(n,[".ktx",".ktx2",".dds"]),parse:n=>{var r;let e;const t=n.split(".");if(t.length>2){const o=t[t.length-2];pf.includes(o)&&(e=o)}else e=t[t.length-1];return{resolution:parseFloat(((r=Zi.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:e,src:n}}};let Yd;const wG={extension:{type:O.DetectionParser,priority:2},test:async()=>!!(await od()||rd()),add:async n=>{const e=await Oy();return Yd=CG(e),[...Yd,...n]},remove:async n=>Yd?n.filter(e=>!(e in Yd)):n};function CG(n){const e=["basis"],t={};return n.forEach(r=>{const o=r.split("-")[0];o&&!t[o]&&(t[o]=!0,e.push(o))}),e.sort((r,o)=>{const i=pf.indexOf(r),s=pf.indexOf(o);return i===-1?1:s===-1?-1:i-s}),e}const SG=new un,Mb=class{cull(e,t,r=!0){this._cullRecursive(e,t,r)}_cullRecursive(e,t,r=!0){if(e.cullable&&e.measurable&&e.includeInBuild){const o=e.cullArea??td(e,r,SG);e.culled=o.x>=t.x+t.width||o.y>=t.y+t.height||o.x+o.width<=t.x||o.y+o.height<=t.y}else e.culled=!1;if(!(!e.cullableChildren||e.culled||!e.renderable||!e.measurable||!e.includeInBuild))for(let o=0;o<e.children.length;o++)this._cullRecursive(e.children[o],t,r)}};Mb.shared=new Mb;let k4=Mb;class E4{static init(){this._renderRef=this.render.bind(this),this.render=()=>{k4.shared.cull(this.stage,this.renderer.screen),this.renderer.render({container:this.stage})}}static destroy(){this.render=this._renderRef}}E4.extension={priority:10,type:O.Application,name:"culler"};var Qi={},di={};function TG(n,e,t){if(t===void 0&&(t=Array.prototype),n&&typeof t.find=="function")return t.find.call(n,e);for(var r=0;r<n.length;r++)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if(e.call(void 0,o,r,n))return o}}function Fy(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function kG(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var A4=Fy({HTML:"text/html",isHTML:function(n){return n===A4.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),P4=Fy({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===P4.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});di.assign=kG;di.find=TG;di.freeze=Fy;di.MIME_TYPE=A4;di.NAMESPACE=P4;var I4=di,vo=I4.find,jc=I4.NAMESPACE;function EG(n){return n!==""}function AG(n){return n?n.split(/[\t\n\f\r ]+/).filter(EG):[]}function PG(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function ew(n){if(!n)return[];var e=AG(n);return Object.keys(e.reduce(PG,{}))}function IG(n){return function(e){return n&&n.indexOf(e)!==-1}}function cd(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function Qn(n,e){var t=n.prototype;if(!(t instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,cd(t,r),n.prototype=t=r}t.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),t.constructor=n)}var er={},Hr=er.ELEMENT_NODE=1,qa=er.ATTRIBUTE_NODE=2,mf=er.TEXT_NODE=3,R4=er.CDATA_SECTION_NODE=4,B4=er.ENTITY_REFERENCE_NODE=5,RG=er.ENTITY_NODE=6,O4=er.PROCESSING_INSTRUCTION_NODE=7,D4=er.COMMENT_NODE=8,M4=er.DOCUMENT_NODE=9,F4=er.DOCUMENT_TYPE_NODE=10,ei=er.DOCUMENT_FRAGMENT_NODE=11,BG=er.NOTATION_NODE=12,Tn={},dn={};Tn.INDEX_SIZE_ERR=(dn[1]="Index size error",1);Tn.DOMSTRING_SIZE_ERR=(dn[2]="DOMString size error",2);var Vn=Tn.HIERARCHY_REQUEST_ERR=(dn[3]="Hierarchy request error",3);Tn.WRONG_DOCUMENT_ERR=(dn[4]="Wrong document",4);Tn.INVALID_CHARACTER_ERR=(dn[5]="Invalid character",5);Tn.NO_DATA_ALLOWED_ERR=(dn[6]="No data allowed",6);Tn.NO_MODIFICATION_ALLOWED_ERR=(dn[7]="No modification allowed",7);var L4=Tn.NOT_FOUND_ERR=(dn[8]="Not found",8);Tn.NOT_SUPPORTED_ERR=(dn[9]="Not supported",9);var tw=Tn.INUSE_ATTRIBUTE_ERR=(dn[10]="Attribute in use",10);Tn.INVALID_STATE_ERR=(dn[11]="Invalid state",11);Tn.SYNTAX_ERR=(dn[12]="Syntax error",12);Tn.INVALID_MODIFICATION_ERR=(dn[13]="Invalid modification",13);Tn.NAMESPACE_ERR=(dn[14]="Invalid namespace",14);Tn.INVALID_ACCESS_ERR=(dn[15]="Invalid access",15);function Nt(n,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,dn[n]),this.message=dn[n],Error.captureStackTrace&&Error.captureStackTrace(this,Nt);return t.code=n,e&&(this.message=this.message+": "+e),t}Nt.prototype=Error.prototype;cd(Tn,Nt);function qo(){}qo.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var t=[],r=0;r<this.length;r++)ma(this[r],t,n,e);return t.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function Ya(n,e){this._node=n,this._refresh=e,Ly(this)}function Ly(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var t=n._refresh(n._node);if(q4(n,"length",t.length),!n.$$length||t.length<n.$$length)for(var r=t.length;r in n;r++)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];cd(t,n),n._inc=e}}Ya.prototype.item=function(n){return Ly(this),this[n]||null};Qn(Ya,qo);function gf(){}function N4(n,e){for(var t=n.length;t--;)if(n[t]===e)return t}function nw(n,e,t,r){if(r?e[N4(e,r)]=t:e[e.length++]=t,n){t.ownerElement=n;var o=n.ownerDocument;o&&(r&&G4(o,n,r),OG(o,n,t))}}function rw(n,e,t){var r=N4(e,t);if(r>=0){for(var o=e.length-1;r<o;)e[r]=e[++r];if(e.length=o,n){var i=n.ownerDocument;i&&(G4(i,n,t),t.ownerElement=null)}}else throw new Nt(L4,new Error(n.tagName+"@"+t))}gf.prototype={length:0,item:qo.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==n)return t}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new Nt(tw);var t=this.getNamedItem(n.nodeName);return nw(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var e=n.ownerElement,t;if(e&&e!=this._ownerElement)throw new Nt(tw);return t=this.getNamedItemNS(n.namespaceURI,n.localName),nw(this._ownerElement,this,n,t),t},removeNamedItem:function(n){var e=this.getNamedItem(n);return rw(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var t=this.getNamedItemNS(n,e);return rw(this._ownerElement,this,t),t},getNamedItemNS:function(n,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==n)return r}return null}};function $4(){}$4.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,t){var r=new ud;if(r.implementation=this,r.childNodes=new qo,r.doctype=t||null,t&&r.appendChild(t),e){var o=r.createElementNS(n,e);r.appendChild(o)}return r},createDocumentType:function(n,e,t){var r=new zp;return r.name=n,r.nodeName=n,r.publicId=e||"",r.systemId=t||"",r}};function it(){}it.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return bf(this,n,e)},replaceChild:function(n,e){bf(this,n,e,z4),e&&this.removeChild(e)},removeChild:function(n){return V4(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return Fb(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==mf&&n.nodeType==mf?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===n)return r}e=e.nodeType==qa?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n];e=e.nodeType==qa?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function U4(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}cd(er,it);cd(er,it.prototype);function Wc(n,e){if(e(n))return!0;if(n=n.firstChild)do if(Wc(n,e))return!0;while(n=n.nextSibling)}function ud(){this.ownerDocument=this}function OG(n,e,t){n&&n._inc++;var r=t.namespaceURI;r===jc.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function G4(n,e,t,r){n&&n._inc++;var o=t.namespaceURI;o===jc.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function Ny(n,e,t){if(n&&n._inc){n._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var o=e.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i,delete r[r.length]}}}function V4(n,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:n.firstChild=r,r?r.previousSibling=t:n.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Ny(n.ownerDocument,n),e}function DG(n){return n&&(n.nodeType===it.DOCUMENT_NODE||n.nodeType===it.DOCUMENT_FRAGMENT_NODE||n.nodeType===it.ELEMENT_NODE)}function MG(n){return n&&(yo(n)||$y(n)||ti(n)||n.nodeType===it.DOCUMENT_FRAGMENT_NODE||n.nodeType===it.COMMENT_NODE||n.nodeType===it.PROCESSING_INSTRUCTION_NODE)}function ti(n){return n&&n.nodeType===it.DOCUMENT_TYPE_NODE}function yo(n){return n&&n.nodeType===it.ELEMENT_NODE}function $y(n){return n&&n.nodeType===it.TEXT_NODE}function ow(n,e){var t=n.childNodes||[];if(vo(t,yo)||ti(e))return!1;var r=vo(t,ti);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function iw(n,e){var t=n.childNodes||[];function r(i){return yo(i)&&i!==e}if(vo(t,r))return!1;var o=vo(t,ti);return!(e&&o&&t.indexOf(o)>t.indexOf(e))}function FG(n,e,t){if(!DG(n))throw new Nt(Vn,"Unexpected parent node type "+n.nodeType);if(t&&t.parentNode!==n)throw new Nt(L4,"child not in parent");if(!MG(e)||ti(e)&&n.nodeType!==it.DOCUMENT_NODE)throw new Nt(Vn,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function LG(n,e,t){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===it.DOCUMENT_FRAGMENT_NODE){var i=o.filter(yo);if(i.length>1||vo(o,$y))throw new Nt(Vn,"More than one element or text in fragment");if(i.length===1&&!ow(n,t))throw new Nt(Vn,"Element in fragment can not be inserted before doctype")}if(yo(e)&&!ow(n,t))throw new Nt(Vn,"Only one element can be added and only after doctype");if(ti(e)){if(vo(r,ti))throw new Nt(Vn,"Only one doctype is allowed");var s=vo(r,yo);if(t&&r.indexOf(s)<r.indexOf(t))throw new Nt(Vn,"Doctype can only be inserted before an element");if(!t&&s)throw new Nt(Vn,"Doctype can not be appended since element is present")}}function z4(n,e,t){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===it.DOCUMENT_FRAGMENT_NODE){var i=o.filter(yo);if(i.length>1||vo(o,$y))throw new Nt(Vn,"More than one element or text in fragment");if(i.length===1&&!iw(n,t))throw new Nt(Vn,"Element in fragment can not be inserted before doctype")}if(yo(e)&&!iw(n,t))throw new Nt(Vn,"Only one element can be added and only after doctype");if(ti(e)){if(vo(r,function(l){return ti(l)&&l!==t}))throw new Nt(Vn,"Only one doctype is allowed");var s=vo(r,yo);if(t&&r.indexOf(s)<r.indexOf(t))throw new Nt(Vn,"Doctype can only be inserted before an element")}}function bf(n,e,t,r){FG(n,e,t),n.nodeType===it.DOCUMENT_NODE&&(r||LG)(n,e,t);var o=e.parentNode;if(o&&o.removeChild(e),e.nodeType===ei){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var a=t?t.previousSibling:n.lastChild;i.previousSibling=a,s.nextSibling=t,a?a.nextSibling=i:n.firstChild=i,t==null?n.lastChild=s:t.previousSibling=s;do i.parentNode=n;while(i!==s&&(i=i.nextSibling));return Ny(n.ownerDocument||n,n),e.nodeType==ei&&(e.firstChild=e.lastChild=null),e}function NG(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,Ny(n.ownerDocument,n,e),e}ud.prototype={nodeName:"#document",nodeType:M4,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==ei){for(var t=n.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return n}return bf(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===Hr&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),V4(this,n)},replaceChild:function(n,e){bf(this,n,e,z4),n.ownerDocument=this,e&&this.removeChild(e),yo(n)&&(this.documentElement=n)},importNode:function(n,e){return X4(this,n,e)},getElementById:function(n){var e=null;return Wc(this.documentElement,function(t){if(t.nodeType==Hr&&t.getAttribute("id")==n)return e=t,!0}),e},getElementsByClassName:function(n){var e=ew(n);return new Ya(this,function(t){var r=[];return e.length>0&&Wc(t.documentElement,function(o){if(o!==t&&o.nodeType===Hr){var i=o.getAttribute("class");if(i){var s=n===i;if(!s){var a=ew(i);s=e.every(IG(a))}s&&r.push(o)}}}),r})},createElement:function(n){var e=new Ps;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new qo;var t=e.attributes=new gf;return t._ownerElement=e,e},createDocumentFragment:function(){var n=new Hp;return n.ownerDocument=this,n.childNodes=new qo,n},createTextNode:function(n){var e=new Uy;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new Gy;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new Vy;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var t=new Hy;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=n,t.nodeValue=t.data=e,t},createAttribute:function(n){var e=new vf;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new zy;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var t=new Ps,r=e.split(":"),o=t.attributes=new gf;return t.childNodes=new qo,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=n,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,o._ownerElement=t,t},createAttributeNS:function(n,e){var t=new vf,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=n,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};Qn(ud,it);function Ps(){this._nsMap={}}Ps.prototype={nodeType:Hr,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var t=this.ownerDocument.createAttribute(n);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===ei?this.insertBefore(n,null):NG(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);return t&&t.value||""},setAttributeNS:function(n,e,t){var r=this.ownerDocument.createAttributeNS(n,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new Ya(this,function(e){var t=[];return Wc(e,function(r){r!==e&&r.nodeType==Hr&&(n==="*"||r.tagName==n)&&t.push(r)}),t})},getElementsByTagNameNS:function(n,e){return new Ya(this,function(t){var r=[];return Wc(t,function(o){o!==t&&o.nodeType===Hr&&(n==="*"||o.namespaceURI===n)&&(e==="*"||o.localName==e)&&r.push(o)}),r})}};ud.prototype.getElementsByTagName=Ps.prototype.getElementsByTagName;ud.prototype.getElementsByTagNameNS=Ps.prototype.getElementsByTagNameNS;Qn(Ps,it);function vf(){}vf.prototype.nodeType=qa;Qn(vf,it);function dd(){}dd.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(dn[Vn])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,t){var r=this.data.substring(0,n),o=this.data.substring(n+e);t=r+t+o,this.nodeValue=this.data=t,this.length=t.length}};Qn(dd,it);function Uy(){}Uy.prototype={nodeName:"#text",nodeType:mf,splitText:function(n){var e=this.data,t=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Qn(Uy,dd);function Gy(){}Gy.prototype={nodeName:"#comment",nodeType:D4};Qn(Gy,dd);function Vy(){}Vy.prototype={nodeName:"#cdata-section",nodeType:R4};Qn(Vy,dd);function zp(){}zp.prototype.nodeType=F4;Qn(zp,it);function H4(){}H4.prototype.nodeType=BG;Qn(H4,it);function j4(){}j4.prototype.nodeType=RG;Qn(j4,it);function zy(){}zy.prototype.nodeType=B4;Qn(zy,it);function Hp(){}Hp.prototype.nodeName="#document-fragment";Hp.prototype.nodeType=ei;Qn(Hp,it);function Hy(){}Hy.prototype.nodeType=O4;Qn(Hy,it);function W4(){}W4.prototype.serializeToString=function(n,e,t){return K4.call(n,e,t)};it.prototype.toString=K4;function K4(n,e){var t=[],r=this.nodeType==9&&this.documentElement||this,o=r.prefix,i=r.namespaceURI;if(i&&o==null){var o=r.lookupPrefix(i);if(o==null)var s=[{namespace:i,prefix:null}]}return ma(this,t,n,e,s),t.join("")}function sw(n,e,t){var r=n.prefix||"",o=n.namespaceURI;if(!o||r==="xml"&&o===jc.XML||o===jc.XMLNS)return!1;for(var i=t.length;i--;){var s=t[i];if(s.prefix===r)return s.namespace!==o}return!0}function sg(n,e,t){n.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,U4),'"')}function ma(n,e,t,r,o){if(o||(o=[]),r)if(n=r(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Hr:var i=n.attributes,s=i.length,b=n.firstChild,a=n.tagName;t=jc.isHTML(n.namespaceURI)||t;var l=a;if(!t&&!n.prefix&&n.namespaceURI){for(var c,u=0;u<i.length;u++)if(i.item(u).name==="xmlns"){c=i.item(u).value;break}if(!c)for(var d=o.length-1;d>=0;d--){var h=o[d];if(h.prefix===""&&h.namespace===n.namespaceURI){c=h.namespace;break}}if(c!==n.namespaceURI)for(var d=o.length-1;d>=0;d--){var h=o[d];if(h.namespace===n.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var f=0;f<s;f++){var p=i.item(f);p.prefix=="xmlns"?o.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&o.push({prefix:"",namespace:p.value})}for(var f=0;f<s;f++){var p=i.item(f);if(sw(p,t,o)){var m=p.prefix||"",g=p.namespaceURI;sg(e,m?"xmlns:"+m:"xmlns",g),o.push({prefix:m,namespace:g})}ma(p,e,t,r,o)}if(a===l&&sw(n,t,o)){var m=n.prefix||"",g=n.namespaceURI;sg(e,m?"xmlns:"+m:"xmlns",g),o.push({prefix:m,namespace:g})}if(b||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),t&&/^script$/i.test(a))for(;b;)b.data?e.push(b.data):ma(b,e,t,r,o.slice()),b=b.nextSibling;else for(;b;)ma(b,e,t,r,o.slice()),b=b.nextSibling;e.push("</",l,">")}else e.push("/>");return;case M4:case ei:for(var b=n.firstChild;b;)ma(b,e,t,r,o.slice()),b=b.nextSibling;return;case qa:return sg(e,n.name,n.value);case mf:return e.push(n.data.replace(/[<&>]/g,U4));case R4:return e.push("<![CDATA[",n.data,"]]>");case D4:return e.push("<!--",n.data,"-->");case F4:var _=n.publicId,v=n.systemId;if(e.push("<!DOCTYPE ",n.name),_)e.push(" PUBLIC ",_),v&&v!="."&&e.push(" ",v),e.push(">");else if(v&&v!=".")e.push(" SYSTEM ",v,">");else{var y=n.internalSubset;y&&e.push(" [",y,"]"),e.push(">")}return;case O4:return e.push("<?",n.target," ",n.data,"?>");case B4:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function X4(n,e,t){var r;switch(e.nodeType){case Hr:r=e.cloneNode(!1),r.ownerDocument=n;case ei:break;case qa:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,t)for(var o=e.firstChild;o;)r.appendChild(X4(n,o,t)),o=o.nextSibling;return r}function Fb(n,e,t){var r=new e.constructor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=e[o];typeof i!="object"&&i!=r[o]&&(r[o]=i)}switch(e.childNodes&&(r.childNodes=new qo),r.ownerDocument=n,r.nodeType){case Hr:var s=e.attributes,a=r.attributes=new gf,l=s.length;a._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(Fb(n,s.item(c),!0));break;case qa:t=!0}if(t)for(var u=e.firstChild;u;)r.appendChild(Fb(n,u,t)),u=u.nextSibling;return r}function q4(n,e,t){n[e]=t}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Hr:case ei:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(n(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(Ya.prototype,"length",{get:function(){return Ly(this),this.$$length}}),Object.defineProperty(it.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Hr:case ei:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),q4=function(e,t,r){e["$$"+t]=r}}}catch{}Qi.DocumentType=zp;Qi.DOMException=Nt;Qi.DOMImplementation=$4;Qi.Element=Ps;Qi.Node=it;Qi.NodeList=qo;Qi.XMLSerializer=W4;var jp={},Y4={};(function(n){var e=di.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),n.entityMap=n.HTML_ENTITIES})(Y4);var jy={},Kc=di.NAMESPACE,Lb=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,aw=new RegExp("[\\-\\.0-9"+Lb.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),lw=new RegExp("^"+Lb.source+aw.source+"*(?::"+Lb.source+aw.source+"*)?$"),Fl=0,mi=1,Ys=2,Ll=3,Zs=4,Js=5,Nl=6,Zd=7;function Za(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Za)}Za.prototype=new Error;Za.prototype.name=Za.name;function Z4(){}Z4.prototype={parse:function(n,e,t){var r=this.domBuilder;r.startDocument(),J4(e,e={}),$G(n,e,t,r,this.errorHandler),r.endDocument()}};function $G(n,e,t,r,o){function i(F){if(F>65535){F-=65536;var L=55296+(F>>10),ie=56320+(F&1023);return String.fromCharCode(L,ie)}else return String.fromCharCode(F)}function s(F){var L=F.slice(1,-1);return Object.hasOwnProperty.call(t,L)?t[L]:L.charAt(0)==="#"?i(parseInt(L.substr(1).replace("x","0x"))):(o.error("entity not found:"+F),F)}function a(F){if(F>m){var L=n.substring(m,F).replace(/&#?\w+;/g,s);h&&l(m),r.characters(L,0,F-m),m=F}}function l(F,L){for(;F>=u&&(L=d.exec(n));)c=L.index,u=c+L[0].length,h.lineNumber++;h.columnNumber=F-c+1}for(var c=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,f=[{currentNSMap:e}],p={},m=0;;){try{var g=n.indexOf("<",m);if(g<0){if(!n.substr(m).match(/^\s*$/)){var b=r.doc,_=b.createTextNode(n.substr(m));b.appendChild(_),r.currentElement=_}return}switch(g>m&&a(g),n.charAt(g+1)){case"/":var P=n.indexOf(">",g+3),v=n.substring(g+2,P).replace(/[ \t\n\r]+$/g,""),y=f.pop();P<0?(v=n.substring(g+2).replace(/[\s<].*/,""),o.error("end tag name: "+v+" is not complete:"+y.tagName),P=g+1+v.length):v.match(/\s</)&&(v=v.replace(/[\s<].*/,""),o.error("end tag name: "+v+" maybe not complete"),P=g+1+v.length);var w=y.localNSMap,S=y.tagName==v,C=S||y.tagName&&y.tagName.toLowerCase()==v.toLowerCase();if(C){if(r.endElement(y.uri,y.localName,v),w)for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&r.endPrefixMapping(k);S||o.fatalError("end tag name: "+v+" is not match the current start tagName:"+y.tagName)}else f.push(y);P++;break;case"?":h&&l(g),P=HG(n,g,r);break;case"!":h&&l(g),P=zG(n,g,r,o);break;default:h&&l(g);var E=new Q4,A=f[f.length-1].currentNSMap,P=UG(n,g,E,A,s,o),I=E.length;if(!E.closed&&VG(n,P,E.tagName,p)&&(E.closed=!0,t.nbsp||o.warning("unclosed xml attribute")),h&&I){for(var $=cw(h,{}),V=0;V<I;V++){var ee=E[V];l(ee.offset),ee.locator=cw(h,{})}r.locator=$,uw(E,r,A)&&f.push(E),r.locator=h}else uw(E,r,A)&&f.push(E);Kc.isHTML(E.uri)&&!E.closed?P=GG(n,P,E.tagName,s,r):P++}}catch(F){if(F instanceof Za)throw F;o.error("element parse error: "+F),P=-1}P>m?m=P:a(Math.max(g,m)+1)}}function cw(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function UG(n,e,t,r,o,i){function s(h,f,p){t.attributeNames.hasOwnProperty(h)&&i.fatalError("Attribute "+h+" redefined"),t.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),p)}for(var a,l,c=++e,u=Fl;;){var d=n.charAt(c);switch(d){case"=":if(u===mi)a=n.slice(e,c),u=Ll;else if(u===Ys)u=Ll;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===Ll||u===mi)if(u===mi&&(i.warning('attribute value must after "="'),a=n.slice(e,c)),e=c+1,c=n.indexOf(d,e),c>0)l=n.slice(e,c),s(a,l,e-1),u=Js;else throw new Error("attribute value no end '"+d+"' match");else if(u==Zs)l=n.slice(e,c),s(a,l,e),i.warning('attribute "'+a+'" missed start quot('+d+")!!"),e=c+1,u=Js;else throw new Error('attribute value must after "="');break;case"/":switch(u){case Fl:t.setTagName(n.slice(e,c));case Js:case Nl:case Zd:u=Zd,t.closed=!0;case Zs:case mi:break;case Ys:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),u==Fl&&t.setTagName(n.slice(e,c)),c;case">":switch(u){case Fl:t.setTagName(n.slice(e,c));case Js:case Nl:case Zd:break;case Zs:case mi:l=n.slice(e,c),l.slice(-1)==="/"&&(t.closed=!0,l=l.slice(0,-1));case Ys:u===Ys&&(l=a),u==Zs?(i.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!Kc.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case Ll:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case Fl:t.setTagName(n.slice(e,c)),u=Nl;break;case mi:a=n.slice(e,c),u=Ys;break;case Zs:var l=n.slice(e,c);i.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case Js:u=Nl;break}else switch(u){case Ys:t.tagName,(!Kc.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=c,u=mi;break;case Js:i.warning('attribute space is required"'+a+'"!!');case Nl:u=mi,e=c;break;case Ll:u=Zs,e=c;break;case Zd:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function uw(n,e,t){for(var r=n.tagName,o=null,d=n.length;d--;){var i=n[d],s=i.qName,a=i.value,h=s.indexOf(":");if(h>0)var l=i.prefix=s.slice(0,h),c=s.slice(h+1),u=l==="xmlns"&&c;else c=s,l=null,u=s==="xmlns"&&"";i.localName=c,u!==!1&&(o==null&&(o={},J4(t,t={})),t[u]=o[u]=a,i.uri=Kc.XMLNS,e.startPrefixMapping(u,a))}for(var d=n.length;d--;){i=n[d];var l=i.prefix;l&&(l==="xml"&&(i.uri=Kc.XML),l!=="xmlns"&&(i.uri=t[l||""]))}var h=r.indexOf(":");h>0?(l=n.prefix=r.slice(0,h),c=n.localName=r.slice(h+1)):(l=null,c=n.localName=r);var f=n.uri=t[l||""];if(e.startElement(f,c,r,n),n.closed){if(e.endElement(f,c,r),o)for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&e.endPrefixMapping(l)}else return n.currentNSMap=t,n.localNSMap=o,!0}function GG(n,e,t,r,o){if(/^(?:script|textarea)$/i.test(t)){var i=n.indexOf("</"+t+">",e),s=n.substring(e+1,i);if(/[&<]/.test(s))return/^script$/i.test(t)?(o.characters(s,0,s.length),i):(s=s.replace(/&#?\w+;/g,r),o.characters(s,0,s.length),i)}return e+1}function VG(n,e,t,r){var o=r[t];return o==null&&(o=n.lastIndexOf("</"+t+">"),o<e&&(o=n.lastIndexOf("</"+t)),r[t]=o),o<e}function J4(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function zG(n,e,t,r){var o=n.charAt(e+2);switch(o){case"-":if(n.charAt(e+3)==="-"){var i=n.indexOf("-->",e+4);return i>e?(t.comment(n,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var i=n.indexOf("]]>",e+9);return t.startCDATA(),t.characters(n,e+9,i-e-9),t.endCDATA(),i+3}var s=jG(n,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],c=!1,u=!1;a>3&&(/^public$/i.test(s[2][0])?(c=s[3][0],u=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(u=s[3][0]));var d=s[a-1];return t.startDTD(l,c,u),t.endDTD(),d.index+d[0].length}}return-1}function HG(n,e,t){var r=n.indexOf("?>",e);if(r){var o=n.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,t.processingInstruction(o[1],o[2]),r+2):-1}return-1}function Q4(){this.attributeNames={}}Q4.prototype={setTagName:function(n){if(!lw.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,t){if(!lw.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:t}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function jG(n,e){var t,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(n);t=o.exec(n);)if(r.push(t),t[1])return r}jy.XMLReader=Z4;jy.ParseError=Za;var WG=di,KG=Qi,dw=Y4,e5=jy,XG=KG.DOMImplementation,hw=WG.NAMESPACE,qG=e5.ParseError,YG=e5.XMLReader;function t5(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function n5(n){this.options=n||{locator:{}}}n5.prototype.parseFromString=function(n,e){var t=this.options,r=new YG,o=t.domBuilder||new hd,i=t.errorHandler,s=t.locator,a=t.xmlns||{},l=/\/x?html?$/.test(e),c=l?dw.HTML_ENTITIES:dw.XML_ENTITIES;s&&o.setDocumentLocator(s),r.errorHandler=ZG(i,o,s),r.domBuilder=t.domBuilder||o,l&&(a[""]=hw.HTML),a.xml=a.xml||hw.XML;var u=t.normalizeLineEndings||t5;return n&&typeof n=="string"?r.parse(u(n),a,c):r.errorHandler.error("invalid doc source"),o.doc};function ZG(n,e,t){if(!n){if(e instanceof hd)return e;n=e}var r={},o=n instanceof Function;t=t||{};function i(s){var a=n[s];!a&&o&&(a=n.length==2?function(l){n(s,l)}:n),r[s]=a&&function(l){a("[xmldom "+s+"]	"+l+Nb(t))}||function(){}}return i("warning"),i("error"),i("fatalError"),r}function hd(){this.cdata=!1}function Qs(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}hd.prototype={startDocument:function(){this.doc=new XG().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,t,r){var o=this.doc,i=o.createElementNS(n,t||e),s=r.length;Jd(this,i),this.currentElement=i,this.locator&&Qs(this.locator,i);for(var a=0;a<s;a++){var n=r.getURI(a),l=r.getValue(a),t=r.getQName(a),c=o.createAttributeNS(n,t);this.locator&&Qs(r.getLocator(a),c),c.value=c.nodeValue=l,i.setAttributeNode(c)}},endElement:function(n,e,t){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var t=this.doc.createProcessingInstruction(n,e);this.locator&&Qs(this.locator,t),Jd(this,t)},ignorableWhitespace:function(n,e,t){},characters:function(n,e,t){if(n=fw.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&Qs(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,t){n=fw.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&Qs(this.locator,r),Jd(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(n,e,t);this.locator&&Qs(this.locator,o),Jd(this,o),this.doc.doctype=o}},warning:function(n){console.warn("[xmldom warning]	"+n,Nb(this.locator))},error:function(n){console.error("[xmldom error]	"+n,Nb(this.locator))},fatalError:function(n){throw new qG(n,this.locator)}};function Nb(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function fw(n,e,t){return typeof n=="string"?n.substr(e,t):n.length>=e+t||e?new java.lang.String(n,e,t)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){hd.prototype[n]=function(){return null}});function Jd(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}jp.__DOMHandler=hd;jp.normalizeLineEndings=t5;jp.DOMParser=n5;var JG=jp.DOMParser;const QG={createCanvas:(n,e)=>new OffscreenCanvas(n??0,e??0),getCanvasRenderingContext2D:()=>OffscreenCanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>globalThis.location.href,getFontFaceSet:()=>globalThis.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new JG().parseFromString(n,"text/xml")};class eV{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||(mn.system.add(this._tickerUpdate,this,Jo.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(mn.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const zo=new eV;class Xc extends hl{constructor(){super(...arguments),this.client=new ot,this.movement=new ot,this.offset=new ot,this.global=new ot,this.screen=new ot}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,o,i,s,a,l,c,u,d,h,f,p,m){throw new Error("Method not implemented.")}}class _r extends Xc{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Is extends Xc{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Is.DOM_DELTA_PIXEL=0;Is.DOM_DELTA_LINE=1;Is.DOM_DELTA_PAGE=2;const tV=2048,nV=new ot,$l=new ot;class r5{constructor(e){this.dispatch=new Zn,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,o)=>r.priority-o.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,o=t.length;r<o;r++)t[r].fn(e);else Ce(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){zo.pauseUpdate=!0;const o=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[o](this.rootTarget,this.rootTarget.eventMode,nV.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let o=0,i=r.length-1;o<i;o++)if(e.currentTarget=r[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let o=r.length-2;o>=0;o--)if(e.currentTarget=r[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const o=Array.isArray(t)?t:[t];for(let i=r.length-1;i>=0;i--)o.forEach(s=>{e.currentTarget=r[i],this.notifyTarget(e,s)})}propagationPath(e){const t=[e];for(let r=0;r<tV&&e!==this.rootTarget&&e.parent;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,o,i,s=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(zo.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let d=u.length-1;d>=0;d--){const h=u[d],f=this.hitTestMoveRecursive(h,this._isInteractive(t)?t:h.eventMode,r,o,i,s||i(e,r));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const l=this._isInteractive(t),c=e.isInteractive();return c&&c&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:a?this._hitElements:l&&!i(e,r)&&o(e,r)?c?[e]:[]:null}hitTestRecursive(e,t,r,o,i){if(this._interactivePrune(e)||i(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(zo.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children,c=r;for(let u=l.length-1;u>=0;u--){const d=l[u],h=this.hitTestRecursive(d,this._isInteractive(t)?t:d.eventMode,c,o,i);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const s=this._isInteractive(t),a=e.isInteractive();return s&&o(e,r)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,$l),!e.hitArea.contains($l.x,$l.y)))return!0;if(e.effects&&e.effects.length)for(let r=0;r<e.effects.length;r++){const o=e.effects[r];if(o.containsPoint&&!o.containsPoint(t,this.hitTestFn))return!0}return!1}hitTestFn(e,t){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(t,$l),e.containsPoint($l)):!1}notifyTarget(e,t){var i,s;if(!e.currentTarget.isInteractive())return;t??(t=e.type);const r=`on${t}`;(s=(i=e.currentTarget)[r])==null||s.call(i,e);const o=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this._notifyListeners(e,o),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const o=t.button===2;this.dispatchEvent(t,o?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var l,c;if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",o=this.trackingData(e.pointerId),i=this.findMountedTarget(o.overTargets);if(((l=o.overTargets)==null?void 0:l.length)>0&&i!==t.target){const u=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,u,i);if(this.dispatchEvent(d,"pointerout"),r&&this.dispatchEvent(d,"mouseout"),!t.composedPath().includes(i)){const h=this.createPointerEvent(e,"pointerleave",i);for(h.eventPhase=h.AT_TARGET;h.target&&!t.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}if(i!==t.target){const u=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(t,u);this.dispatchEvent(d,"pointerover"),r&&this.dispatchEvent(d,"mouseover");let h=i==null?void 0:i.parent;for(;h&&h!==this.rootTarget.parent&&h!==t.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(t,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==i&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),r&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}const s=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(t,"pointermove"),a&&s.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),a&&s.push("globaltouchmove")),r&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),a&&s.push("globalmousemove"),this.cursor=(c=t.target)==null?void 0:c.cursor),s.length>0&&this.all(t,s),this._allInteractiveElements.length=0,this._hitElements.length=0,o.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var s;if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),o=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),o&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(s=r.target)==null?void 0:s.cursor);const i=this.clonePointerEvent(r,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==this.rootTarget.parent;)i.currentTarget=i.target,this.notifyTarget(i),o&&this.notifyTarget(i,"mouseenter"),i.target=i.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(i)}mapPointerOut(e){if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",o=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",o);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");const s=this.createPointerEvent(e,"pointerleave",o);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const o=this.trackingData(e.pointerId),i=this.findMountedTarget(o.pressTargetsByButton[e.button]);let s=i;if(i&&!r.composedPath().includes(i)){let a=i;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete o.pressTargetsByButton[e.button],s=a}if(s){const a=this.clonePointerEvent(r,"click");a.target=s,a.path=null,o.clicksByButton[e.button]||(o.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const l=o.clicksByButton[e.button];if(l.target===a.target&&t-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=t,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof _r)){Ce("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),o=this.createPointerEvent(e);if(r){let i=r;for(;i;)o.currentTarget=i,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"?this.notifyTarget(o,"touchendoutside"):(o.pointerType==="mouse"||o.pointerType==="pen")&&this.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(o)}mapWheel(e){if(!(e instanceof Is)){Ce("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const o=this.allocateEvent(_r);return this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e,o.target=r??this.hitTest(o.global.x,o.global.y)??this._hitElements[0],typeof t=="string"&&(o.type=t),o}createWheelEvent(e){const t=this.allocateEvent(Is);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(_r);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof _r&&t instanceof _r&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof Xc&&t instanceof Xc&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.defaultPrevented=!1,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}_notifyListeners(e,t){const r=e.currentTarget._events[t];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let o=0,i=r.length;o<i&&!e.propagationImmediatelyStopped;o++)r[o].once&&e.currentTarget.removeListener(t,r[o].fn,void 0,!0),r[o].fn.call(r[o].context,e)}}const rV=1,oV={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Wy=class $b{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new r5(null),zo.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new _r(null),this._rootWheelEvent=new Is(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...$b.defaultEventFeatures},{set:(t,r,o)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=o),t[r]=o,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,$b._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this._currentCursor===e)return;this._currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,o=t.length;r<o;r++){const i=t[r],s=this._bootstrapEvent(this._rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,zo.pointerMoved();const t=this._normalizeToPointerData(e);for(let r=0,o=t.length;r<o;r++){const i=this._bootstrapEvent(this._rootPointerEvent,t[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",o=this._normalizeToPointerData(e);for(let i=0,s=o.length;i<s;i++){const a=this._bootstrapEvent(this._rootPointerEvent,o[i]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);for(let r=0,o=t.length;r<o;r++){const i=this._bootstrapEvent(this._rootPointerEvent,t[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this._removeEvents(),this.domElement=e,zo.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;zo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;zo.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,t,r){const o=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-o.left)*(this.domElement.width/o.width)*i,e.y=(r-o.top)*(this.domElement.height/o.height)*i}_normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,o=e.changedTouches.length;r<o;r++){const i=e.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=rV),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this._rootWheelEvent;return this._transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}_bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this._transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=oV[e.type]||e.type),e}_transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Wy.extension={name:"events",type:[O.WebGLSystem,O.CanvasSystem,O.WebGPUSystem],priority:-1};Wy.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let o5=Wy;const iV={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(n){this.eventMode=n?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??o5.defaultEventMode},set eventMode(n){this._internalEventMode=n},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,o=typeof t=="object"?t.signal:void 0,i=typeof t=="object"?t.once===!0:!1,s=typeof e=="function"?void 0:e;n=r?`${n}capture`:n;const a=typeof e=="function"?e:e.handleEvent,l=this;o&&o.addEventListener("abort",()=>{l.off(n,a,s)}),i?l.once(n,a,s):l.on(n,a,s)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,o=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,o)},dispatchEvent(n){if(!(n instanceof hl))throw new Error("Container cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};var Wp=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,i5=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,Ub=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const s5=class a5 extends ui{constructor(e){e={...a5.defaultOptions,...e};const t=Jn.from({vertex:{source:Ub,entryPoint:"mainVertex"},fragment:{source:Ub,entryPoint:"mainFragment"}}),r=gr.from({vertex:Wp,fragment:i5,name:"alpha-filter"}),{alpha:o,...i}=e,s=new Vt({uAlpha:{value:o,type:"f32"}});super({...i,gpuProgram:t,glProgram:r,resources:{alphaUniforms:s}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};s5.defaultOptions={alpha:1};let sV=s5;const Ky={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},aV=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function l5(n){const e=Ky[n],t=e.length;let r=aV,o="";const i="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let s;for(let a=0;a<n;a++){let l=i.replace("%index%",a.toString());s=a,a>=t&&(s=n-a-1),l=l.replace("%value%",e[s].toString()),o+=l,o+=`
`}return r=r.replace("%blur%",o),r=r.replace("%size%",n.toString()),r}const lV=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function c5(n,e){const t=Math.ceil(n/2);let r=lV,o="",i;e?i="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":i="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let s=0;s<n;s++){let a=i.replace("%index%",s.toString());a=a.replace("%sampleIndex%",`${s-(t-1)}.0`),o+=a,o+=`
`}return r=r.replace("%blur%",o),r=r.replace("%size%",n.toString()),r=r.replace("%dimension%",e?"z":"w"),r}function u5(n,e){const t=c5(e,n),r=l5(e);return gr.from({vertex:t,fragment:r,name:`blur-${n?"horizontal":"vertical"}-pass-filter`})}var d5=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function h5(n,e){const t=Ky[e],r=t.length,o=[],i=[],s=[];for(let d=0;d<e;d++){o[d]=`@location(${d}) offset${d}: vec2<f32>,`,n?i[d]=`filteredCord + vec2(${d-r+1} * pixelStrength, 0.0),`:i[d]=`filteredCord + vec2(0.0, ${d-r+1} * pixelStrength),`;const h=d<r?d:e-d-1,f=t[h].toString();s[d]=`finalColor += textureSample(uTexture, uSampler, offset${d}) * ${f};`}const a=o.join(`
`),l=i.join(`
`),c=s.join(`
`),u=d5.replace("%blur-struct%",a).replace("%blur-vertex-out%",l).replace("%blur-fragment-in%",a).replace("%blur-sampling%",c).replace("%dimension%",n?"z":"w");return Jn.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"}})}const f5=class p5 extends ui{constructor(e){e={...p5.defaultOptions,...e};const t=u5(e.horizontal,e.kernelSize),r=h5(e.horizontal,e.kernelSize);super({glProgram:t,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,t,r,o){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,t,r,o);else{const i=Lt.getSameSizeTexture(t);let s=t,a=i;this._state.blend=!1;const l=e.renderer.type===qn.WEBGPU;for(let c=0;c<this.passes-1;c++){e.applyFilter(this,s,a,c===0?!0:l);const u=a;a=s,s=u}this._state.blend=!0,e.applyFilter(this,s,r,o),Lt.returnTexture(i)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};f5.defaultOptions={strength:8,quality:4,kernelSize:5};let Eh=f5;class m5 extends ui{constructor(...e){let t=e[0]??{};typeof t=="number"&&(_e(Pe,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),t={strength:t},e[1]!==void 0&&(t.quality=e[1]),e[2]!==void 0&&(t.resolution=e[2]||"inherit"),e[3]!==void 0&&(t.kernelSize=e[3])),t={...Eh.defaultOptions,...t};const{strength:r,strengthX:o,strengthY:i,quality:s,...a}=t;super({...a,compatibleRenderers:qn.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Eh({horizontal:!0,...t}),this.blurYFilter=new Eh({horizontal:!1,...t}),this.quality=s,this.strengthX=o??r,this.strengthY=i??r,this.repeatEdgePixels=!1}apply(e,t,r,o){const i=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(i&&s){const a=Lt.getSameSizeTexture(t);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,t,a,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,a,r,o),Lt.returnTexture(a)}else s?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,t,r,o)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,t,r,o))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return _e("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){_e("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return _e("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){_e("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return _e("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){_e("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}m5.defaultOptions={strength:8,quality:4,kernelSize:5};var g5=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`,Gb=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class cV extends ui{constructor(e={}){const t=new Vt({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),r=Jn.from({vertex:{source:Gb,entryPoint:"mainVertex"},fragment:{source:Gb,entryPoint:"mainFragment"}}),o=gr.from({vertex:Wp,fragment:g5,name:"color-matrix-filter"});super({...e,gpuProgram:r,glProgram:o,resources:{colorMatrixUniforms:t}}),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.matrix,e),r=this._colorMatrix(r)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=r,this.resources.colorMatrixUniforms.update()}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,o,i]=Ke.shared.setValue(e).toArray(),s=[r,0,0,0,0,0,o,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(s,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}grayscale(e,t){this.greyscale(e,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),o=Math.sin(e),i=Math.sqrt,s=1/3,a=i(s),l=r+(1-r)*s,c=s*(1-r)-a*o,u=s*(1-r)+a*o,d=s*(1-r)+a*o,h=r+s*(1-r),f=s*(1-r)-a*o,p=s*(1-r)-a*o,m=s*(1-r)+a*o,g=r+s*(1-r),b=[l,c,u,0,0,d,h,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(b,t)}contrast(e,t){const r=(e||0)+1,o=-.5*(r-1),i=[r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0];this._loadMatrix(i,t)}saturate(e=0,t){const r=e*2/3+1,o=(r-1)*-.5,i=[r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,o,i){e||(e=.2),t||(t=.15),r||(r=16770432),o||(o=3375104);const s=Ke.shared,[a,l,c]=s.setValue(r).toArray(),[u,d,h]=s.setValue(o).toArray(),f=[.3,.59,.11,0,0,a,l,c,e,0,u,d,h,t,0,a-u,l-d,c-h,0,0];this._loadMatrix(f,i)}night(e,t){e||(e=.1);const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(e){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=e}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(e){this.resources.colorMatrixUniforms.uniforms.uAlpha=e}}var b5=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,v5=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,Vb=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class uV extends ui{constructor(...e){let t=e[0];t instanceof Kr&&(e[1]&&_e(Pe,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),t={sprite:t,scale:e[1]});const{sprite:r,scale:o,...i}=t;let s=o??20;typeof s=="number"&&(s=new ot(s,s));const a=new Vt({uFilterMatrix:{value:new be,type:"mat3x3<f32>"},uScale:{value:s,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),l=gr.from({vertex:v5,fragment:b5,name:"displacement-filter"}),c=Jn.from({vertex:{source:Vb,entryPoint:"mainVertex"},fragment:{source:Vb,entryPoint:"mainFragment"}}),u=r.texture.source;super({...i,gpuProgram:c,glProgram:l,resources:{filterUniforms:a,uMapTexture:u,uMapSampler:u.style}}),this._sprite=t.sprite,this._sprite.renderable=!1}apply(e,t,r,o){const i=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(i.uFilterMatrix,this._sprite);const s=this._sprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);a!==0&&l!==0&&(i.uRotation[0]=s.a/a,i.uRotation[1]=s.b/a,i.uRotation[2]=s.c/l,i.uRotation[3]=s.d/l),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,t,r,o)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}var y5=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) *  uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    finalColor = color;
}
`,zb=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
  uNoise:f32,
  uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

fn rand(co:vec2<f32>) -> f32
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);
  
    
    var sample = textureSample(uTexture, uSampler, uv);
    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;
  
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (sample.a > 0.0) {
      sample.r /= sample.a;
      sample.g /= sample.a;
      sample.b /= sample.a;
    }

    sample.r += diff;
    sample.g += diff;
    sample.b += diff;

    // Premultiply alpha again.
    sample.r *= sample.a;
    sample.g *= sample.a;
    sample.b *= sample.a;
    
    return sample;
}`;const _5=class x5 extends ui{constructor(e={}){e={...x5.defaultOptions,...e};const t=Jn.from({vertex:{source:zb,entryPoint:"mainVertex"},fragment:{source:zb,entryPoint:"mainFragment"}}),r=gr.from({vertex:Wp,fragment:y5,name:"noise-filter"}),{noise:o,seed:i,...s}=e;super({...s,gpuProgram:t,glProgram:r,resources:{noiseUniforms:new Vt({uNoise:{value:1,type:"f32"},uSeed:{value:1,type:"f32"}})}}),this.noise=o,this.seed=i??Math.random()}get noise(){return this.resources.noiseUniforms.uniforms.uNoise}set noise(e){this.resources.noiseUniforms.uniforms.uNoise=e}get seed(){return this.resources.noiseUniforms.uniforms.uSeed}set seed(e){this.resources.noiseUniforms.uniforms.uSeed=e}};_5.defaultOptions={noise:.5};let dV=_5;class w5{constructor(e){this._renderer=e}push(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}w5.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"filter"};const hV=new be;function C5(n,e){e.clear(),Xy(n,e),e.isValid||e.set(0,0,0,0);const t=n.renderGroup||n.parentRenderGroup;return e.applyMatrix(t.worldTransform),e}function Xy(n,e){if(n.localDisplayStatus!==7||!n.measurable)return;const t=!!n.effects.length;let r=e;if((n.renderGroup||t)&&(r=mo.get().clear()),n.boundsArea)e.addRect(n.boundsArea,n.worldTransform);else{if(n.renderPipeId){const i=n.bounds;r.addFrame(i.minX,i.minY,i.maxX,i.maxY,n.groupTransform)}const o=n.children;for(let i=0;i<o.length;i++)Xy(o[i],r)}if(t){let o=!1;const i=n.renderGroup||n.parentRenderGroup;for(let s=0;s<n.effects.length;s++)n.effects[s].addBounds&&(o||(o=!0,r.applyMatrix(i.worldTransform)),n.effects[s].addBounds(r,!0));o&&(r.applyMatrix(i.worldTransform.copyTo(hV).invert()),e.addBounds(r,n.relativeGroupTransform)),e.addBounds(r),mo.return(r)}else n.renderGroup&&(e.addBounds(r,n.relativeGroupTransform),mo.return(r))}function S5(n,e){e.clear();const t=e.matrix;for(let r=0;r<n.length;r++){const o=n[r];o.globalDisplayStatus<7||(e.matrix=o.worldTransform,e.addBounds(o.bounds))}return e.matrix=t,e}const fV=new Us({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class T5{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new Vt({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new go({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){var f;const t=this.renderer,r=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const o=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,r.length===0){o.skip=!0;return}const i=o.bounds;if(e.renderables?S5(e.renderables,i):e.filterEffect.filterArea?(i.clear(),i.addRect(e.filterEffect.filterArea),i.applyMatrix(e.container.worldTransform)):C5(e.container,i),e.container){const m=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;m&&i.applyMatrix(m)}const s=t.renderTarget.renderTarget.colorTexture.source;let a=1/0,l=0,c=!0,u=!1,d=!1,h=!0;for(let p=0;p<r.length;p++){const m=r[p];if(a=Math.min(a,m.resolution==="inherit"?s._resolution:m.resolution),l+=m.padding,m.antialias==="off"?c=!1:m.antialias==="inherit"&&c&&(c=s.antialias),m.clipToViewport||(h=!1),!!!(m.compatibleRenderers&t.type)){d=!1;break}if(m.blendRequired&&!(((f=t.backBuffer)==null?void 0:f.useBackBuffer)??!0)){Ce("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),d=!1;break}d=m.enabled||d,u||(u=m.blendRequired)}if(!d){o.skip=!0;return}if(h){const p=t.renderTarget.rootViewPort,m=t.renderTarget.renderTarget.resolution;i.fitBounds(0,p.width/m,0,p.height/m)}if(i.scale(a).ceil().scale(1/a).pad(l|0),!i.isPositive){o.skip=!0;return}o.skip=!1,o.bounds=i,o.blendRequired=u,o.container=e.container,o.filterEffect=e.filterEffect,o.previousRenderSurface=t.renderTarget.renderSurface,o.inputTexture=Lt.getOptimalTexture(i.width,i.height,a,c),t.renderTarget.bind(o.inputTexture,!0),t.globalUniforms.push({offset:i})}pop(){const e=this.renderer;this._filterStackIndex--;const t=this._filterStack[this._filterStackIndex];if(t.skip)return;this._activeFilterData=t;const r=t.inputTexture,o=t.bounds;let i=ae.EMPTY;if(e.renderTarget.finishRenderPass(),t.blendRequired){const a=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,l=e.renderTarget.getRenderTarget(t.previousRenderSurface);i=this.getBackTexture(l,o,a)}t.backTexture=i;const s=t.filterEffect.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(i.source,3),e.globalUniforms.pop(),s.length===1)s[0].apply(this,r,t.previousRenderSurface,!1),Lt.returnTexture(r);else{let a=t.inputTexture,l=Lt.getOptimalTexture(o.width,o.height,a.source._resolution,!1),c=0;for(c=0;c<s.length-1;++c){s[c].apply(this,a,l,!0);const d=a;a=l,l=d}s[c].apply(this,a,t.previousRenderSurface,!1),Lt.returnTexture(a),Lt.returnTexture(l)}t.blendRequired&&Lt.returnTexture(i)}getBackTexture(e,t,r){const o=e.colorTexture.source._resolution,i=Lt.getOptimalTexture(t.width,t.height,o,!1);let s=t.minX,a=t.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*o),a=Math.floor(a*o);const l=Math.ceil(t.width*o),c=Math.ceil(t.height*o);return this.renderer.renderTarget.copyToTexture(e,i,{x:s,y:a},{width:l,height:c},{x:0,y:0}),i}applyFilter(e,t,r,o){const i=this.renderer,s=this._filterStack[this._filterStackIndex],a=s.bounds,l=ot.shared,u=s.previousRenderSurface===r;let d=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,h=this._filterStackIndex-1;for(;h>0&&this._filterStack[h].skip;)--h;h>0&&(d=this._filterStack[h].inputTexture.source._resolution);const f=this._filterGlobalUniforms,p=f.uniforms,m=p.uOutputFrame,g=p.uInputSize,b=p.uInputPixel,_=p.uInputClamp,v=p.uGlobalFrame,y=p.uOutputTexture;if(u){let C=this._filterStackIndex;for(;C>0;){C--;const k=this._filterStack[this._filterStackIndex-1];if(!k.skip){l.x=k.bounds.minX,l.y=k.bounds.minY;break}}m[0]=a.minX-l.x,m[1]=a.minY-l.y}else m[0]=0,m[1]=0;m[2]=t.frame.width,m[3]=t.frame.height,g[0]=t.source.width,g[1]=t.source.height,g[2]=1/g[0],g[3]=1/g[1],b[0]=t.source.pixelWidth,b[1]=t.source.pixelHeight,b[2]=1/b[0],b[3]=1/b[1],_[0]=.5*b[2],_[1]=.5*b[3],_[2]=t.frame.width*g[2]-.5*b[2],_[3]=t.frame.height*g[3]-.5*b[3];const w=this.renderer.renderTarget.rootRenderTarget.colorTexture;v[0]=l.x*d,v[1]=l.y*d,v[2]=w.source.width*d,v[3]=w.source.height*d;const S=this.renderer.renderTarget.getRenderTarget(r);if(i.renderTarget.bind(r,!!o),r instanceof ae?(y[0]=r.frame.width,y[1]=r.frame.height):(y[0]=S.width,y[1]=S.height),y[2]=S.isRoot?-1:1,f.update(),i.renderPipes.uniformBatch){const C=i.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(C,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,i.encoder.draw({geometry:fV,shader:e,state:e._state,topology:"triangle-list"}),i.type===qn.WEBGL&&i.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new un,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,t){const r=this._activeFilterData,o=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),i=t.worldTransform.copyTo(be.shared),s=t.renderGroup||t.parentRenderGroup;return s&&s.cacheToLocalTransform&&i.prepend(s.cacheToLocalTransform),i.invert(),o.prepend(i),o.scale(1/t.texture.frame.width,1/t.texture.frame.height),o.translate(t.anchor.x,t.anchor.y),o}}T5.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"filter"};var k5=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,E5=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,Hb=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;class A5 extends ui{constructor(e){const{sprite:t,...r}=e,o=new Hv(t.texture),i=new Vt({uFilterMatrix:{value:new be,type:"mat3x3<f32>"},uMaskClamp:{value:o.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}}),s=Jn.from({vertex:{source:Hb,entryPoint:"mainVertex"},fragment:{source:Hb,entryPoint:"mainFragment"}}),a=gr.from({vertex:E5,fragment:k5,name:"mask-filter"});super({...r,gpuProgram:s,glProgram:a,resources:{filterUniforms:i,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=o}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(e,t,r,o){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,o)}}var pV=`fn getLuminosity(c: vec3<f32>) -> f32 {
  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
}

fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {
  let d: f32 = lum - getLuminosity(c);
  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);

  // clip back into legal range
  let newLum: f32 = getLuminosity(newColor);
  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));
  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));

  let t1: f32 = newLum / (newLum - cMin);
  let t2: f32 = (1.0 - newLum) / (cMax - newLum);

  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));

  return finalColor;
}

fn getSaturation(c: vec3<f32>) -> f32 {
  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
}

// Set saturation if color components are sorted in ascending order.
fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {
  var result: vec3<f32>;
  if (cSorted.z > cSorted.x) {
    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));
    result = vec3<f32>(0.0, newY, s);
  } else {
    result = vec3<f32>(0.0, 0.0, 0.0);
  }
  return vec3<f32>(result.x, result.y, result.z);
}

fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {
    var result: vec3<f32> = c;

    if (c.r <= c.g && c.r <= c.b) {
        if (c.g <= c.b) {
            result = setSaturationMinMidMax(result, s);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.r, temp.b, temp.g);
        }
    } else if (c.g <= c.r && c.g <= c.b) {
        if (c.r <= c.b) {
            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.r, temp.b);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.b, temp.r);
        }
    } else {
        if (c.r <= c.g) {
            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.r, temp.g);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.g, temp.r);
        }
    }

    return result;
}`;function jb(n,e,t,r,o,i,s,a){const l=s-t,c=a-r,u=o-t,d=i-r,h=n-t,f=e-r,p=l*l+c*c,m=l*u+c*d,g=l*h+c*f,b=u*u+d*d,_=u*h+d*f,v=1/(p*b-m*m),y=(b*g-m*_)*v,w=(p*_-m*g)*v;return y>=0&&w>=0&&y+w<1}class qy{constructor(e=0,t=0,r=0,o=0,i=0,s=0){this.type="triangle",this.x=e,this.y=t,this.x2=r,this.y2=o,this.x3=i,this.y3=s}contains(e,t){const r=(this.x-this.x3)*(t-this.y3)-(this.y-this.y3)*(e-this.x3),o=(this.x2-this.x)*(t-this.y)-(this.y2-this.y)*(e-this.x);if(r<0!=o<0&&r!==0&&o!==0)return!1;const i=(this.x3-this.x2)*(t-this.y2)-(this.y3-this.y2)*(e-this.x2);return i===0||i<0==r+o<=0}strokeContains(e,t,r){const o=r/2,i=o*o,{x:s,x2:a,x3:l,y:c,y2:u,y3:d}=this;return fc(e,t,s,c,a,d)<=i||fc(e,t,a,u,l,d)<=i||fc(e,t,l,d,s,c)<=i}clone(){return new qy(this.x,this.y,this.x2,this.y2,this.x3,this.y3)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x2=e.x2,this.y2=e.y2,this.x3=e.x3,this.y3=e.y3,this}copyTo(e){return e.copyFrom(this),e}getBounds(e){e||(e=new Qe);const t=Math.min(this.x,this.x2,this.x3),r=Math.max(this.x,this.x2,this.x3),o=Math.min(this.y,this.y2,this.y3),i=Math.max(this.y,this.y2,this.y3);return e.x=t,e.y=o,e.width=r-t,e.height=i-o,e}}const P5=class I5{constructor(e){this._tick=()=>{this.timeout=setTimeout(this._processQueue,0)},this._processQueue=()=>{const{queue:t}=this;let r=0;for(;t.length&&r<I5.uploadsPerFrame;){const o=t.shift();this.uploadQueueItem(o),r++}t.length?mn.system.addOnce(this._tick,this,Jo.UTILITY):this._resolve()},this.renderer=e,this.queue=[],this.resolves=[]}getQueue(){return[...this.queue]}add(e){const t=Array.isArray(e)?e:[e];for(const r of t)r instanceof Je?this._addContainer(r):this.resolveQueueItem(r,this.queue);return this}_addContainer(e){this.resolveQueueItem(e,this.queue);for(const t of e.children)this._addContainer(t)}upload(e){return e&&this.add(e),new Promise(t=>{this.queue.length?(this.resolves.push(t),this.dedupeQueue(),mn.system.addOnce(this._tick,this,Jo.UTILITY)):t()})}dedupeQueue(){const e=Object.create(null);let t=0;for(let r=0;r<this.queue.length;r++){const o=this.queue[r];e[o.uid]||(e[o.uid]=!0,this.queue[t++]=o)}this.queue.length=t}_resolve(){const{resolves:e}=this,t=e.slice(0);e.length=0;for(const r of t)r()}};P5.uploadsPerFrame=4;let R5=P5;class ho extends ci{constructor(e){e instanceof Rn&&(e={context:e});const{context:t,roundPixels:r,...o}=e||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",t?this._context=t:this._context=this._ownedContext=new Rn,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,t){return this.context[e](...t),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new ho(this._context.clone()):(this._ownedContext=null,new ho(this._context))}lineStyle(e,t,r){_e(Pe,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return e&&(o.width=e),t&&(o.color=t),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(e,t){_e(Pe,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),t!==void 0&&(r.alpha=t),this.context.fillStyle=r,this}endFill(){_e(Pe,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Rn.defaultStrokeStyle.width||e.color!==Rn.defaultStrokeStyle.color||e.alpha!==Rn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return _e(Pe,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return _e(Pe,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return _e(Pe,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return _e(Pe,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return _e(Pe,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return _e(Pe,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const B5=class O5 extends Us{constructor(...e){let t=e[0]??{};t instanceof Float32Array&&(_e(Pe,"use new MeshGeometry({ positions, uvs, indices }) instead"),t={positions:t,uvs:e[1],indices:e[2]}),t={...O5.defaultOptions,...t};const r=t.positions||new Float32Array([0,0,1,0,1,1,0,1]),o=t.uvs||new Float32Array([0,0,1,0,1,1,0,1]),i=t.indices||new Uint32Array([0,1,2,0,2,3]),s=t.shrinkBuffersToFit,a=new Mn({data:r,label:"attribute-mesh-positions",shrinkToFit:s,usage:Ne.VERTEX|Ne.COPY_DST}),l=new Mn({data:o,label:"attribute-mesh-uvs",shrinkToFit:s,usage:Ne.VERTEX|Ne.COPY_DST}),c=new Mn({data:i,label:"index-mesh-buffer",shrinkToFit:s,usage:Ne.INDEX|Ne.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:l,format:"float32x2",stride:2*4,offset:0}},indexBuffer:c,topology:t.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};B5.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let es=B5;class bl extends ci{constructor(...e){let t=e[0];t instanceof Us&&(_e(Pe,"Mesh: use new Mesh({ geometry, shader }) instead"),t={geometry:t,shader:e[1]},e[3]&&(_e(Pe,"Mesh: drawMode argument has been removed, use geometry.topology instead"),t.geometry.topology=e[3]));const{geometry:r,shader:o,texture:i,roundPixels:s,state:a,...l}=t;super({label:"Mesh",...l}),this.renderPipeId="mesh",this._shader=null,this.allowChildren=!1,this.shader=o??null,this.texture=i??(o==null?void 0:o.texture)??ae.WHITE,this.state=a??pr.for2d(),this._geometry=r,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=s??!1}get material(){return _e(Pe,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(e){this._shader!==e&&(this._shader=e,this.onViewUpdate())}get shader(){return this._shader}set geometry(e){var t;this._geometry!==e&&((t=this._geometry)==null||t.off("update",this.onViewUpdate,this),e.on("update",this.onViewUpdate,this),this._geometry=e,this.onViewUpdate())}get geometry(){return this._geometry}set texture(e){e||(e=ae.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=e),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}get batched(){return this._shader||this.state.data&12?!1:this._geometry instanceof es?this._geometry.batchMode==="auto"?this._geometry.positions.length/2<=100:this._geometry.batchMode==="batch":!1}get bounds(){return this._geometry.bounds}updateBounds(){this._bounds=this._geometry.bounds}containsPoint(e){const{x:t,y:r}=e;if(!this.bounds.containsPoint(t,r))return!1;const o=this.geometry.getBuffer("aPosition").data,i=this.geometry.topology==="triangle-strip"?3:1;if(this.geometry.getIndex()){const s=this.geometry.getIndex().data,a=s.length;for(let l=0;l+2<a;l+=i){const c=s[l]*2,u=s[l+1]*2,d=s[l+2]*2;if(jb(t,r,o[c],o[c+1],o[u],o[u+1],o[d],o[d+1]))return!0}}else{const s=o.length/2;for(let a=0;a+2<s;a+=i){const l=a*2,c=(a+1)*2,u=(a+2)*2;if(jb(t,r,o[l],o[l+1],o[c],o[c+1],o[u],o[u+1]))return!0}}return!1}destroy(e){var r;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const o=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(o)}(r=this._geometry)==null||r.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null}}class qc extends Kr{constructor(...e){let t=e[0];Array.isArray(e[0])&&(t={textures:e[0],autoUpdate:e[1]});const{textures:r,autoUpdate:o,...i}=t,[s]=r;super({...i,texture:s instanceof ae?s:s.texture}),this._textures=null,this._durations=null,this._autoUpdate=o??!0,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=r}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(mn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(mn.shared.add(this.update,this,Jo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=e.deltaTime,r=this.animationSpeed*t,o=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ae.from(e[r]));return new qc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ae.from(e[r]));return new qc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ae)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(mn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(mn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}let D5=class{constructor({matrix:e,observer:t}={}){this.dirty=!0,this._matrix=e??new be,this.observer=t,this.position=new Kt(this,0,0),this.scale=new Kt(this,1,1),this.pivot=new Kt(this,0,0),this.skew=new Kt(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var t;this.dirty=!0,e===this.skew&&this.updateSkew(),(t=this.observer)==null||t._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}};const M5=class Ah extends ci{constructor(...e){let t=e[0]||{};t instanceof ae&&(t={texture:t}),e.length>1&&(_e(Pe,"use new TilingSprite({ texture, width:100, height:100 }) instead"),t.width=e[1],t.height=e[2]),t={...Ah.defaultOptions,...t};const{texture:r,anchor:o,tilePosition:i,tileScale:s,tileRotation:a,width:l,height:c,applyAnchorToTexture:u,roundPixels:d,...h}=t??{};super({label:"TilingSprite",...h}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Kt({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=u,this.texture=r,this._width=l??r.width,this._height=c??r.height,this._tileTransform=new D5({observer:{_onUpdate:()=>this.onViewUpdate()}}),o&&(this.anchor=o),this.tilePosition=i,this.tileScale=s,this.tileRotation=a,this.roundPixels=d??!1}static from(e,t={}){return typeof e=="string"?new Ah({texture:ut.get(e),...t}):new Ah({texture:e,...t})}get uvRespectAnchor(){return Ce("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){Ce("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=ae.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,t){typeof e=="object"&&(t=e.height??e.width,e=e.width),this._width=e,this._height=t??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,t=this._anchor,r=this._width,o=this._height;e.maxX=-t._x*r,e.minX=e.maxX+r,e.maxY=-t._y*o,e.minY=e.maxY+o}containsPoint(e){const t=this._width,r=this._height,o=-t*this._anchor._x;let i=0;return e.x>=o&&e.x<=o+t&&(i=-r*this._anchor._y,e.y>=i&&e.y<=i+r)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null}};M5.defaultOptions={texture:ae.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let F5=M5;class Kp extends ci{constructor(e,t){const{text:r,resolution:o,style:i,anchor:s,width:a,height:l,roundPixels:c,...u}=e;super({...u}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=r??"",this.style=i,this.resolution=o??null,this.allowChildren=!1,this._anchor=new Kt({_onUpdate:()=>{this.onViewUpdate()}}),s&&(this.anchor=s),this.roundPixels=c??!1,a!==void 0&&(this.width=a),l!==void 0&&(this.height=l)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var t;e||(e={}),(t=this._style)==null||t.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,r=this.bounds.height,o=-t*this.anchor.x;let i=0;return e.x>=o&&e.x<=o+t&&(i=-r*this.anchor.y,e.y>=i&&e.y<=i+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Xp(n,e){let t=n[0]??{};return(typeof t=="string"||n[1])&&(_e(Pe,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:n[1]}),t}class Yc extends Kp{constructor(...e){const t=Xp(e,"Text");super(t,Yn),this.renderPipeId="text"}updateBounds(){const e=this._bounds,t=this._anchor,r=co.measureText(this._text,this._style),{width:o,height:i}=r;e.minX=-t._x*o,e.maxX=e.minX+o,e.minY=-t._y*i,e.maxY=e.minY+i}}class L5 extends R5{resolveQueueItem(e,t){return e instanceof Je?this.resolveContainerQueueItem(e,t):e instanceof Ot||e instanceof ae?t.push(e.source):e instanceof Rn&&t.push(e),null}resolveContainerQueueItem(e,t){e instanceof Kr||e instanceof F5||e instanceof bl?t.push(e.texture.source):e instanceof Yc?t.push(e):e instanceof ho?t.push(e.context):e instanceof qc&&e.textures.forEach(r=>{r.source?t.push(r.source):t.push(r.texture.source)})}resolveGraphicsContextQueueItem(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:t}=e;for(const r of t)if(r.action==="texture"){const{image:o}=r.data;return o.source}else if(r.action==="fill"){const{texture:o}=r.data.style;return o.source}return null}}class N5 extends Kp{constructor(...e){var t;const r=Xp(e,"BitmapText");r.style??(r.style=r.style||{}),(t=r.style).fill??(t.fill=16777215),super(r,Yn),this.renderPipeId="bitmapText"}updateBounds(){const e=this._bounds,t=this._anchor,r=Hc.measureText(this.text,this._style),o=r.scale,i=r.offsetY*o;let s=r.width*o,a=r.height*o;const l=this._style._stroke;l&&(s+=l.width,a+=l.width),e.minX=-t._x*s,e.maxX=e.minX+s,e.minY=-t._y*(a+i),e.maxY=e.minY+a}set resolution(e){e!==null&&Ce("[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.")}get resolution(){return this._resolution}}function $5(n){const e=n._stroke,t=n._fill,o=[`div { ${[`color: ${Ke.shared.setValue(t.color).toHex()}`,`font-size: ${n.fontSize}px`,`font-family: ${n.fontFamily}`,`font-weight: ${n.fontWeight}`,`font-style: ${n.fontStyle}`,`font-variant: ${n.fontVariant}`,`letter-spacing: ${n.letterSpacing}px`,`text-align: ${n.align}`,`padding: ${n.padding}px`,`white-space: ${n.whiteSpace==="pre"&&n.wordWrap?"pre-wrap":n.whiteSpace}`,...n.lineHeight?[`line-height: ${n.lineHeight}px`]:[],...n.wordWrap?[`word-wrap: ${n.breakWords?"break-all":"break-word"}`,`max-width: ${n.wordWrapWidth}px`]:[],...e?[G5(e)]:[],...n.dropShadow?[U5(n.dropShadow)]:[],...n.cssOverrides].join(";")} }`];return mV(n.tagStyles,o),o.join(" ")}function U5(n){const e=Ke.shared.setValue(n.color).setAlpha(n.alpha).toHexa(),t=Math.round(Math.cos(n.angle)*n.distance),r=Math.round(Math.sin(n.angle)*n.distance),o=`${t}px ${r}px`;return n.blur>0?`text-shadow: ${o} ${n.blur}px ${e}`:`text-shadow: ${o} ${e}`}function G5(n){return[`-webkit-text-stroke-width: ${n.width}px`,`-webkit-text-stroke-color: ${Ke.shared.setValue(n.color).toHex()}`,`text-stroke-width: ${n.width}px`,`text-stroke-color: ${Ke.shared.setValue(n.color).toHex()}`,"paint-order: stroke"].join(";")}const pw={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},mw={fill:n=>`color: ${Ke.shared.setValue(n).toHex()}`,breakWords:n=>`word-wrap: ${n?"break-all":"break-word"}`,stroke:G5,dropShadow:U5};function mV(n,e){for(const t in n){const r=n[t],o=[];for(const i in r)mw[i]?o.push(mw[i](r[i])):pw[i]&&o.push(pw[i].replace("{{VALUE}}",r[i]));e.push(`${t} { ${o.join(";")} }`)}}class Rs extends Yn{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=Ty(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new Rs({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=$5(this)),this._cssStyle}addOverride(...e){const t=e.filter(r=>!this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){const t=e.filter(r=>this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides=this.cssOverrides.filter(r=>!t.includes(r)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&Ce("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&Ce("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}const Wb="http://www.w3.org/2000/svg",Kb="http://www.w3.org/1999/xhtml";class Yy{constructor(){this.svgRoot=document.createElementNS(Wb,"svg"),this.foreignObject=document.createElementNS(Wb,"foreignObject"),this.domElement=document.createElementNS(Kb,"div"),this.styleElement=document.createElementNS(Kb,"style"),this.image=new Image;const{foreignObject:e,svgRoot:t,styleElement:r,domElement:o}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(o)}}let gw;function Zy(n,e,t,r){r||(r=gw||(gw=new Yy));const{domElement:o,styleElement:i,svgRoot:s}=r;o.innerHTML=`<style>${e.cssStyle};</style><div style='padding:0'>${n}</div>`,o.setAttribute("style","transform-origin: top left; display: inline-block"),t&&(i.textContent=t),document.body.appendChild(s);const a=o.getBoundingClientRect();s.remove();const l=e.padding*2;return{width:a.width-l,height:a.height-l}}class V5 extends Kp{constructor(...e){const t=Xp(e,"HtmlText");super(t,Rs),this.renderPipeId="htmlText"}updateBounds(){const e=this._bounds,t=this._anchor,r=Zy(this.text,this._style),{width:o,height:i}=r;e.minX=-t._x*o,e.maxX=e.minX+o,e.minY=-t._y*i,e.maxY=e.minY+i}}class z5 extends L5{uploadQueueItem(e){e instanceof Ot?this.uploadTextureSource(e):e instanceof Yc?this.uploadText(e):e instanceof V5?this.uploadHTMLText(e):e instanceof N5?this.uploadBitmapText(e):e instanceof Rn&&this.uploadGraphicsContext(e)}uploadTextureSource(e){this.renderer.texture.initSource(e)}uploadText(e){this.renderer.renderPipes.text.initGpuText(e)}uploadBitmapText(e){this.renderer.renderPipes.bitmapText.initGpuText(e)}uploadHTMLText(e){this.renderer.renderPipes.htmlText.initGpuText(e)}uploadGraphicsContext(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:t}=e;for(const r of t)if(r.action==="texture"){const{image:o}=r.data;this.uploadTextureSource(o.source)}else if(r.action==="fill"){const{texture:o}=r.data.style;this.uploadTextureSource(o.source)}return null}}class H5 extends z5{destroy(){clearTimeout(this.timeout),this.renderer=null,this.queue=null,this.resolves=null}}H5.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"prepare"};class Jy{constructor(){this._didUpload=!1,this._tempState=pr.for2d()}init(e){e.renderer.runners.contextChange.add(this)}contextChange(){this._didUpload=!1}start(e,t,r){const o=e.renderer;o.shader.bind(r,this._didUpload),o.shader.updateUniformGroup(o.globalUniforms.uniformGroup),o.geometry.bind(t,r.glProgram)}execute(e,t){const r=e.renderer;this._didUpload=!0,this._tempState.blendMode=t.blendMode,r.state.set(this._tempState);const o=t.textures.textures;for(let i=0;i<t.textures.count;i++)r.texture.bind(o[i],i);r.geometry.draw(t.topology,t.size,t.start)}}Jy.extension={type:[O.WebGLPipesAdaptor],name:"batch"};function gV(n){const e=[];let t=0;for(let r=0;r<n;r++)e[t]={texture:{sampleType:"float",viewDimension:"2d",multisampled:!1},binding:t,visibility:GPUShaderStage.FRAGMENT},t++,e[t]={sampler:{type:"filtering"},binding:t,visibility:GPUShaderStage.FRAGMENT},t++;return e}function bV(n){const e={};let t=0;for(let r=0;r<n;r++)e[`textureSource${r+1}`]=t++,e[`textureSampler${r+1}`]=t++;return e}const Qd=pr.for2d();class Qy{start(e,t,r){const o=e.renderer,i=o.encoder,s=r.gpuProgram;this._shader=r,this._geometry=t,i.setGeometry(t,s),Qd.blendMode="normal",o.pipeline.getPipeline(t,s,Qd);const a=o.globalUniforms.bindGroup;i.resetBindGroup(1),i.setBindGroup(0,a,s)}execute(e,t){const r=this._shader.gpuProgram,o=e.renderer,i=o.encoder;if(!t.bindGroup){const l=t.textures;t.bindGroup=Bp(l.textures,l.count)}Qd.blendMode=t.blendMode;const s=o.bindGroup.getBindGroup(t.bindGroup,r,1),a=o.pipeline.getPipeline(this._geometry,r,Qd,t.topology);t.bindGroup._touch(o.textureGC.count),i.setPipeline(a),i.renderPassEncoder.setBindGroup(1,s),i.renderPassEncoder.drawIndexed(t.size,1,t.start)}}Qy.extension={type:[O.WebGPUPipesAdaptor],name:"batch"};const e1=class j5{constructor(e,t){var r,o;this.state=pr.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,(o=(r=this._adaptor).init)==null||o.call(r,this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new Np)),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const r in this._activeBatches)this._activeBatches[r].begin()}addToBatch(e,t){if(this._activeBatch.name!==e.batcherName){this._activeBatch.break(t);let r=this._activeBatches[e.batcherName];r||(r=this._activeBatches[e.batcherName]=j5.getBatcher(e.batcherName),r.begin()),this._activeBatch=r}this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const r in t){const o=t[r],i=o.geometry;i.indexBuffer.setDataWithSize(o.indexBuffer,o.indexSize,!0),i.buffers[0].setDataWithSize(o.attributeBuffer.float32View,o.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const r in t){const o=t[r],i=o.geometry;o.dirty&&(o.dirty=!1,i.buffers[0].update(o.attributeSize*4))}}execute(e){if(e.action==="startBatch"){const t=e.batcher,r=t.geometry,o=t.shader;this._adaptor.start(this,r,o)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};e1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"batch"};e1._availableBatchers=Object.create(null);let t1=e1;dt.handleByMap(O.Batcher,t1._availableBatchers);dt.add(Np);function vV(n){const e=n.split(/([\n{}])/g).map(o=>o.trim()).filter(o=>o.length);let t="";return e.map(o=>{let i=t+o;return o==="{"?t+="    ":o==="}"&&(t=t.substr(0,t.length-4),i=t+o),i}).join(`
`)}const Da={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},W5={...Da,vertex:{...Da.vertex,header:Da.vertex.header.replace("group(1)","group(2)")}},qp={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},K5={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},X5={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;

         
        `,main:`
            outColor = texture(uTexture, vUV);
        `}};function q5(n,e){const t=n.root,r=n.instructionSet;r.reset();const o=e.renderPipes?e:e.batch.renderer,i=o.renderPipes;i.batch.buildStart(r),i.blendMode.buildStart(),i.colorMask.buildStart(),t.sortableChildren&&t.sortChildren(),Y5(t,r,o,!0),i.batch.buildEnd(r),i.blendMode.buildEnd(r)}function fd(n,e,t){const r=t.renderPipes?t:t.batch.renderer;n.globalDisplayStatus<7||!n.includeInBuild||(n.sortableChildren&&n.sortChildren(),n.isSimple?yV(n,e,r):Y5(n,e,r,!1))}function yV(n,e,t){if(n.renderPipeId){const r=n,{renderPipes:o,renderableGC:i}=t;o.blendMode.setBlendMode(r,n.groupBlendMode,e),o[r.renderPipeId].addRenderable(r,e),i.addRenderable(r,e),r.didViewUpdate=!1}if(!n.renderGroup){const r=n.children,o=r.length;for(let i=0;i<o;i++)fd(r[i],e,t)}}function Y5(n,e,t,r){const{renderPipes:o,renderableGC:i}=t;if(!r&&n.renderGroup)o.renderGroup.addRenderGroup(n.renderGroup,e);else{for(let c=0;c<n.effects.length;c++){const u=n.effects[c];o[u.pipe].push(u,n,e)}const s=n,a=s.renderPipeId;a&&(o.blendMode.setBlendMode(s,s.groupBlendMode,e),o[a].addRenderable(s,e),i.addRenderable(s,e),s.didViewUpdate=!1);const l=n.children;if(l.length)for(let c=0;c<l.length;c++)fd(l[c],e,t);for(let c=n.effects.length-1;c>=0;c--){const u=n.effects[c];o[u.pipe].pop(u,n,e)}}}const _V=new un;class xV extends Oc{constructor(){super(),this.filters=[new A5({sprite:new Kr(ae.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class n1{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const o=this._renderer;if(o.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const i=e.mask;i.includeInBuild=!0,fd(i,r,o),i.includeInBuild=!1}o.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const o=Ge.get(xV);if(o.inverse=e.inverse,r){e.mask.mask.measurable=!0;const i=td(e.mask.mask,!0,_V);e.mask.mask.measurable=!1,i.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,a=Lt.getOptimalTexture(i.width,i.height,s._resolution,s.antialias);t.renderTarget.push(a,!0),t.globalUniforms.push({offset:i,worldColor:4294967295});const l=o.sprite;l.texture=a,l.worldTransform.tx=i.minX,l.worldTransform.ty=i.minY,this._activeMaskStage.push({filterEffect:o,maskedContainer:e.maskedContainer,filterTexture:a})}else o.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:o,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const o=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===qn.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:o.maskedContainer,filterEffect:o.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){t.filter.pop();const o=this._activeMaskStage.pop();r&&Lt.returnTexture(o.filterTexture),Ge.return(o.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}n1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"alphaMask"};class r1{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const i=this._colorStack;i[this._colorStackIndex]=i[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const i=this._colorStack;this._colorStackIndex--;const s=i[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}r1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"colorMask"};class wV{constructor(e){this.priority=0,this.pipe="scissorMask",this.mask=e,this.mask.renderable=!1,this.mask.measurable=!1}addBounds(e,t){wp(this.mask,e,t)}addLocalBounds(e,t){Cp(this.mask,e,t)}containsPoint(e,t){const r=this.mask;return t(r,e)}reset(){this.mask.measurable=!0,this.mask=null}destroy(){this.reset()}}class o1{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var o;const i=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(i.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const a=i.mask;a.includeInBuild=!0,this._maskHash.has(i)||this._maskHash.set(i,{instructionsStart:0,instructionsLength:0});const l=this._maskHash.get(i);l.instructionsStart=r.instructionSize,fd(a,r,s),a.includeInBuild=!1,s.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const c=r.instructionSize-l.instructionsStart-1;l.instructionsLength=c;const u=s.renderTarget.renderTarget.uid;(o=this._maskStackHash)[u]??(o[u]=0)}pop(e,t,r){const o=e,i=this._renderer;i.renderPipes.batch.break(r),i.renderPipes.blendMode.setBlendMode(o.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const s=this._maskHash.get(e);for(let a=0;a<s.instructionsLength;a++)r.instructions[r.instructionSize++]=r.instructions[s.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,o=r.renderTarget.renderTarget.uid;let i=(t=this._maskStackHash)[o]??(t[o]=0);e.action==="pushMaskBegin"?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(It.RENDERING_MASK_ADD,i),i++,r.colorMask.setMask(0)):e.action==="pushMaskEnd"?(e.inverse?r.stencil.setStencilMode(It.INVERSE_MASK_ACTIVE,i):r.stencil.setStencilMode(It.MASK_ACTIVE,i),r.colorMask.setMask(15)):e.action==="popMaskBegin"?(r.colorMask.setMask(0),i!==0?r.stencil.setStencilMode(It.RENDERING_MASK_REMOVE,i):(r.renderTarget.clear(null,zn.STENCIL),r.stencil.setStencilMode(It.DISABLED,i)),i--):e.action==="popMaskEnd"&&(e.inverse?r.stencil.setStencilMode(It.INVERSE_MASK_ACTIVE,i):r.stencil.setStencilMode(It.MASK_ACTIVE,i),r.colorMask.setMask(15)),this._maskStackHash[o]=i}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}o1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"stencilMask"};var mc=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(mc||{});class Z5{constructor(e,t){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=t}}class i1{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){const e=this._gl=this._renderer.gl;this._gpuBuffers=Object.create(null),this._maxBindings=e.MAX_UNIFORM_BUFFER_BINDINGS?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:t}=this,r=this.getGlBuffer(e);t.bindBuffer(r.type,r.buffer)}bindBufferBase(e,t){const{_gl:r}=this;this._boundBufferBases[t]!==e&&(this._boundBufferBases[t]=e,e._lastBindBaseLocation=t,r.bindBufferBase(r.UNIFORM_BUFFER,t,e.buffer))}nextBindBase(e){this._bindCallId++,this._minBaseLocation=0,e&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(e){let t=this.getLastBindBaseLocation(e);if(t>=this._minBaseLocation)return e._lastBindCallId=this._bindCallId,t;let r=0,o=this._nextBindBaseIndex;for(;r<2;){o>=this._maxBindings&&(o=this._minBaseLocation,r++);const i=this._boundBufferBases[o];if(i&&i._lastBindCallId===this._bindCallId){o++;continue}break}return t=o,this._nextBindBaseIndex=o+1,r>=2?-1:(e._lastBindCallId=this._bindCallId,this._boundBufferBases[t]=null,t)}getLastBindBaseLocation(e){const t=e._lastBindBaseLocation;return this._boundBufferBases[t]===e?t:-1}bindBufferRange(e,t,r,o){const{_gl:i}=this;r||(r=0),t||(t=0),this._boundBufferBases[t]=null,i.bindBufferRange(i.UNIFORM_BUFFER,t||0,e.buffer,r*256,o||256)}updateBuffer(e){const{_gl:t}=this,r=this.getGlBuffer(e);if(e._updateID===r.updateID)return r;r.updateID=e._updateID,t.bindBuffer(r.type,r.buffer);const o=e.data,i=e.descriptor.usage&Ne.STATIC?t.STATIC_DRAW:t.DYNAMIC_DRAW;return o?r.byteLength>=o.byteLength?t.bufferSubData(r.type,0,o,0,e._updateSize/o.BYTES_PER_ELEMENT):(r.byteLength=o.byteLength,t.bufferData(r.type,o,i)):(r.byteLength=e.descriptor.size,t.bufferData(r.type,r.byteLength,i)),r}destroyAll(){const e=this._gl;for(const t in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[t].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,t){const r=this._gpuBuffers[e.uid],o=this._gl;t||o.deleteBuffer(r.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:t}=this;let r=mc.ARRAY_BUFFER;e.descriptor.usage&Ne.INDEX?r=mc.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&Ne.UNIFORM&&(r=mc.UNIFORM_BUFFER);const o=new Z5(t.createBuffer(),r);return this._gpuBuffers[e.uid]=o,e.on("destroy",this.onBufferDestroy,this),o}}i1.extension={type:[O.WebGLSystem],name:"buffer"};const s1=class J5{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){e={...J5.defaultOptions,...e};let t=this.multiView=e.multiView;if(e.context&&t&&(Ce("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),t=!1),t?this.canvas=Ve.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this.canvas=this._renderer.view.canvas,e.context)this.initFromContext(e.context);else{const r=this._renderer.background.alpha<1,o=e.premultipliedAlpha??!0,i=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:r,premultipliedAlpha:o,antialias:i,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}ensureCanvasSize(e){if(!this.multiView){e!==this.canvas&&Ce("multiView is disabled, but targetCanvas is not the main canvas");return}const{canvas:t}=this;(t.width<e.width||t.height<e.height)&&(t.width=Math.max(e.width,e.width),t.height=Math.max(e.height,e.height))}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof Ve.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const t=this._renderer.view.canvas;t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,t){let r;const o=this.canvas;if(e===2&&(r=o.getContext("webgl2",t)),!r&&(r=o.getContext("webgl",t),!r))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=r,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...t,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...t,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const r=e.getExtension("WEBGL_provoking_vertex");r&&r.provokingVertexWEBGL(r.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var t;this.gl.isContextLost()&&((t=this.extensions.loseContext)==null||t.restoreContext())},0))}handleContextRestored(){this._renderer.runners.contextChange.emit(this.gl)}destroy(){var t;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(t=this.extensions.loseContext)==null||t.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const t=e.getContextAttributes();t&&!t.stencil&&Ce("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const r=this.supports,o=this.webGLVersion===2,i=this.extensions;r.uint32Indices=o||!!i.uint32ElementIndex,r.uniformBufferObject=o,r.vertexArrayObject=o||!!i.vertexArrayObject,r.srgbTextures=o||!!i.srgb,r.nonPowOf2wrapping=o,r.nonPowOf2mipmaps=o,r.msaa=o,r.uint32Indices||Ce("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};s1.extension={type:[O.WebGLSystem],name:"context"};s1.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let Q5=s1;function a1(n,e){for(const t in n.attributes){const r=n.attributes[t],o=e[t];o?(r.format??(r.format=o.format),r.offset??(r.offset=o.offset),r.instance??(r.instance=o.instance)):Ce(`Attribute ${t} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}CV(n)}function CV(n){const{buffers:e,attributes:t}=n,r={},o={};for(const i in e){const s=e[i];r[s.uid]=0,o[s.uid]=0}for(const i in t){const s=t[i];r[s.buffer.uid]+=Qo(s.format).stride}for(const i in t){const s=t[i];s.stride??(s.stride=r[s.buffer.uid]),s.start??(s.start=o[s.buffer.uid]),o[s.buffer.uid]+=Qo(s.format).stride}}var yf=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(yf||{}),l1=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(l1||{}),eP=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(eP||{}),We=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(We||{});const bw={uint8x2:We.UNSIGNED_BYTE,uint8x4:We.UNSIGNED_BYTE,sint8x2:We.BYTE,sint8x4:We.BYTE,unorm8x2:We.UNSIGNED_BYTE,unorm8x4:We.UNSIGNED_BYTE,snorm8x2:We.BYTE,snorm8x4:We.BYTE,uint16x2:We.UNSIGNED_SHORT,uint16x4:We.UNSIGNED_SHORT,sint16x2:We.SHORT,sint16x4:We.SHORT,unorm16x2:We.UNSIGNED_SHORT,unorm16x4:We.UNSIGNED_SHORT,snorm16x2:We.SHORT,snorm16x4:We.SHORT,float16x2:We.HALF_FLOAT,float16x4:We.HALF_FLOAT,float32:We.FLOAT,float32x2:We.FLOAT,float32x3:We.FLOAT,float32x4:We.FLOAT,uint32:We.UNSIGNED_INT,uint32x2:We.UNSIGNED_INT,uint32x3:We.UNSIGNED_INT,uint32x4:We.UNSIGNED_INT,sint32:We.INT,sint32x2:We.INT,sint32x3:We.INT,sint32x4:We.INT};function tP(n){return bw[n]??bw.float32}const SV={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class c1{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const t=this._renderer.context.extensions.vertexArrayObject;t&&(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=o=>t.bindVertexArrayOES(o),e.deleteVertexArray=o=>t.deleteVertexArrayOES(o));const r=this._renderer.context.extensions.vertexAttribDivisorANGLE;r&&(e.drawArraysInstanced=(o,i,s,a)=>{r.drawArraysInstancedANGLE(o,i,s,a)},e.drawElementsInstanced=(o,i,s,a,l)=>{r.drawElementsInstancedANGLE(o,i,s,a,l)},e.vertexAttribDivisor=(o,i)=>r.vertexAttribDivisorANGLE(o,i)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,t){const r=this.gl;this._activeGeometry=e;const o=this.getVao(e,t);this._activeVao!==o&&(this._activeVao=o,r.bindVertexArray(o)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this._renderer.buffer;for(let r=0;r<e.buffers.length;r++){const o=e.buffers[r];t.updateBuffer(o)}}checkCompatibility(e,t){const r=e.attributes,o=t._attributeData;for(const i in o)if(!r[i])throw new Error(`shader and geometry incompatible, geometry missing the "${i}" attribute`)}getSignature(e,t){const r=e.attributes,o=t._attributeData,i=["g",e.uid];for(const s in r)o[s]&&i.push(s,o[s].location);return i.join("-")}getVao(e,t){var r;return((r=this._geometryVaoHash[e.uid])==null?void 0:r[t._key])||this.initGeometryVao(e,t)}initGeometryVao(e,t,r=!0){const o=this._renderer.gl,i=this._renderer.buffer;this._renderer.shader._getProgramData(t),this.checkCompatibility(e,t);const s=this.getSignature(e,t);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let l=a[s];if(l)return a[t._key]=l,l;a1(e,t._attributeData);const c=e.buffers;l=o.createVertexArray(),o.bindVertexArray(l);for(let u=0;u<c.length;u++){const d=c[u];i.bind(d)}return this.activateVao(e,t),a[t._key]=l,a[s]=l,o.bindVertexArray(null),l}onGeometryDestroy(e,t){const r=this._geometryVaoHash[e.uid],o=this.gl;if(r){if(t)for(const i in r)this._activeVao!==r[i]&&this.unbind(),o.deleteVertexArray(r[i]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const t=this.gl;for(const r in this._geometryVaoHash){if(e)for(const o in this._geometryVaoHash[r]){const i=this._geometryVaoHash[r];this._activeVao!==i&&this.unbind(),t.deleteVertexArray(i[o])}this._geometryVaoHash[r]=null}}activateVao(e,t){var a;const r=this._renderer.gl,o=this._renderer.buffer,i=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let s=null;for(const l in i){const c=i[l],u=c.buffer,d=o.getGlBuffer(u),h=t._attributeData[l];if(h){s!==d&&(o.bind(u),s=d);const f=h.location;r.enableVertexAttribArray(f);const p=Qo(c.format),m=tP(c.format);if(((a=h.format)==null?void 0:a.substring(1,4))==="int"?r.vertexAttribIPointer(f,p.size,m,c.stride,c.offset):r.vertexAttribPointer(f,p.size,m,p.normalised,c.stride,c.offset),c.instance)if(this.hasInstance){const g=c.divisor??1;r.vertexAttribDivisor(f,g)}else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,o){const{gl:i}=this._renderer,s=this._activeGeometry,a=SV[e||s.topology];if(o??(o=s.instanceCount),s.indexBuffer){const l=s.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?i.UNSIGNED_SHORT:i.UNSIGNED_INT;o>1?i.drawElementsInstanced(a,t||s.indexBuffer.data.length,c,(r||0)*l,o):i.drawElements(a,t||s.indexBuffer.data.length,c,(r||0)*l)}else o>1?i.drawArraysInstanced(a,r||0,t||s.getSize(),o):i.drawArrays(a,r||0,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}c1.extension={type:[O.WebGLSystem],name:"geometry"};const TV=new Us({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),u1=class nP{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:t,antialias:r}={...nP.defaultOptions,...e};this.useBackBuffer=t,this._antialias=r,this._renderer.context.supports.msaa||(Ce("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=pr.for2d();const o=new gr({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new br({glProgram:o,resources:{uTexture:ae.WHITE.source}})}renderStart(e){const t=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!t.isRoot,this._useBackBufferThisRender){const r=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=r.colorTexture,e.target=this._getBackBufferTexture(r.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:TV,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new ae({source:new Ot({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};u1.extension={type:[O.WebGLSystem],name:"backBuffer",priority:1};u1.defaultOptions={useBackBuffer:!1};let rP=u1;class d1{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}d1.extension={type:[O.WebGLSystem],name:"colorMask"};class h1{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,t){this._renderer.geometry.bind(e,t.glProgram)}finishRenderPass(){}draw(e){const t=this._renderer,{geometry:r,shader:o,state:i,skipSync:s,topology:a,size:l,start:c,instanceCount:u}=e;t.shader.bind(o,s),t.geometry.bind(r,t.shader._activeProgram),i&&t.state.set(i),t.geometry.draw(a,l,c,u??r.instanceCount)}destroy(){this._renderer=null}}h1.extension={type:[O.WebGLSystem],name:"encoder"};class oP{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const hi=[];hi[It.NONE]=void 0;hi[It.DISABLED]={stencilWriteMask:0,stencilReadMask:0};hi[It.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};hi[It.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};hi[It.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};hi[It.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"replace"},stencilBack:{compare:"not-equal",passOp:"replace"}};class f1{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:It.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this._stencilCache.enabled=!1,this._stencilCache.stencilMode=It.NONE,this._stencilCache.stencilReference=0}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let t=this._renderTargetStencilState[e.uid];t||(t=this._renderTargetStencilState[e.uid]={stencilMode:It.DISABLED,stencilReference:0}),this.setStencilMode(t.stencilMode,t.stencilReference)}setStencilMode(e,t){const r=this._renderTargetStencilState[this._activeRenderTarget.uid],o=this._gl,i=hi[e],s=this._stencilCache;if(r.stencilMode=e,r.stencilReference=t,e===It.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,o.disable(o.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,o.enable(o.STENCIL_TEST)),(e!==s.stencilMode||s.stencilReference!==t)&&(s.stencilMode=e,s.stencilReference=t,o.stencilFunc(this._comparisonFuncMapping[i.stencilBack.compare],t,255),o.stencilOp(o.KEEP,o.KEEP,this._stencilOpsMapping[i.stencilBack.passOp]))}}f1.extension={type:[O.WebGLSystem],name:"stencil"};class p1{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!iy())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new Mn({data:new Float32Array(t.layout.size/4),usage:Ne.UNIFORM|Ne.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const o=Object.keys(e.uniformStructures).map(a=>e.uniformStructures[a]),i=this._adaptor.createUboElements(o),s=this._generateUboSync(i.uboElements);r=this._syncFunctionHash[t]={layout:i,syncFunction:s}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const o=this.getUniformGroupData(e);e.buffer||(e.buffer=new Mn({data:new Float32Array(o.layout.size/4),usage:Ne.UNIFORM|Ne.COPY_DST}));let i=null;return t||(t=e.buffer.data,i=e.buffer.dataInt32),r||(r=0),o.syncFunction(e.uniforms,t,i,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}const m1={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function iP(n){const e=n.map(i=>({data:i,offset:0,size:0})),t=16;let r=0,o=0;for(let i=0;i<e.length;i++){const s=e[i];if(r=m1[s.data.type],!r)throw new Error(`Unknown type ${s.data.type}`);s.data.size>1&&(r=Math.max(r,t)*s.data.size);const a=r===12?16:r;s.size=r;const l=o%t;l>0&&t-l<a?o+=(t-l)%16:o+=(r-l%r)%r,s.offset=o,o+=r}return o=Math.ceil(o/16)*16,{uboElements:e,size:o}}const Bi=[{type:"mat3x3<f32>",test:n=>n.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:n=>n.type==="vec4<f32>"&&n.size===1&&n.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:n=>n.type==="vec2<f32>"&&n.size===1&&n.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:n=>n.type==="vec4<f32>"&&n.size===1&&n.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:n=>n.type==="vec3<f32>"&&n.size===1&&n.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function g1(n,e,t,r){const o=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let i=0;for(let a=0;a<n.length;a++){const l=n[a],c=l.data.name;let u=!1,d=0;for(let h=0;h<Bi.length;h++)if(Bi[h].test(l.data)){d=l.offset/4,o.push(`name = "${c}";`,`offset += ${d-i};`,Bi[h][e]||Bi[h].ubo),u=!0;break}if(!u)if(l.data.size>1)d=l.offset/4,o.push(t(l,d-i));else{const h=r[l.data.type];d=l.offset/4,o.push(`
                    v = uv.${c};
                    offset += ${d-i};
                    ${h};
                `)}i=d}const s=o.join(`
`);return new Function("uv","data","dataInt32","offset",s)}function ea(n,e){return`
        for (let i = 0; i < ${n*e}; i++) {
            data[offset + (((i / ${n})|0) * 4) + (i % ${n})] = v[i];
        }
    `}const b1={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":ea(3,2),"mat4x2<f32>":ea(4,2),"mat2x3<f32>":ea(2,3),"mat4x3<f32>":ea(4,3),"mat2x4<f32>":ea(2,4),"mat3x4<f32>":ea(3,4)},sP={...b1,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function aP(n,e){const t=Math.max(m1[n.data.type]/16,1),r=n.data.value.length/n.data.size,o=(4-r%4)%4,i=n.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${n.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${n.data.size*t}; i++)
        {
            for(var j = 0; j < ${r}; j++)
            {
                ${i}[arrayOffset++] = v[t++];
            }
            ${o!==0?`arrayOffset += ${o};`:""}
        }
    `}function lP(n){return g1(n,"uboStd40",aP,b1)}class v1 extends p1{constructor(){super({createUboElements:iP,generateUboSync:lP})}}v1.extension={type:[O.WebGLSystem],name:"ubo"};class cP{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Qe}init(e,t){this._renderer=e,this._renderTargetSystem=t,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Qe}copyToTexture(e,t,r,o,i){const s=this._renderTargetSystem,a=this._renderer,l=s.getGpuRenderTarget(e),c=a.gl;return this.finishRenderPass(e),c.bindFramebuffer(c.FRAMEBUFFER,l.resolveTargetFramebuffer),a.texture.bind(t,0),c.copyTexSubImage2D(c.TEXTURE_2D,0,i.x,i.y,r.x,r.y,o.width,o.height),t}startRenderPass(e,t=!0,r,o){const i=this._renderTargetSystem,s=e.colorTexture,a=i.getGpuRenderTarget(e);let l=o.y;e.isRoot&&(l=s.pixelHeight-o.height),e.colorTextures.forEach(d=>{this._renderer.texture.unbind(d)});const c=this._renderer.gl;c.bindFramebuffer(c.FRAMEBUFFER,a.framebuffer);const u=this._viewPortCache;(u.x!==o.x||u.y!==l||u.width!==o.width||u.height!==o.height)&&(u.x=o.x,u.y=l,u.width=o.width,u.height=o.height,c.viewport(o.x,l,o.width,o.height)),!a.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(a),this.clear(e,t,r)}finishRenderPass(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);if(!r.msaa)return;const o=this._renderer.gl;o.bindFramebuffer(o.FRAMEBUFFER,r.resolveTargetFramebuffer),o.bindFramebuffer(o.READ_FRAMEBUFFER,r.framebuffer),o.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,o.COLOR_BUFFER_BIT,o.NEAREST),o.bindFramebuffer(o.FRAMEBUFFER,r.framebuffer)}initGpuRenderTarget(e){const t=this._renderer,r=t.gl,o=new oP;return e.colorTexture.resource===t.canvas?(this._renderer.context.ensureCanvasSize(e.colorTexture.resource),o.framebuffer=null,o):(this._initColor(e,o),r.bindFramebuffer(r.FRAMEBUFFER,null),o)}destroyGpuRenderTarget(e){const t=this._renderer.gl;e.framebuffer&&(t.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(t.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(t.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(r=>{t.deleteRenderbuffer(r)}),e.msaaRenderBuffer=null}clear(e,t,r){if(!t)return;const o=this._renderTargetSystem;typeof t=="boolean"&&(t=t?zn.ALL:zn.NONE);const i=this._renderer.gl;if(t&zn.COLOR){r??(r=o.defaultClearColor);const s=this._clearColorCache,a=r;(s[0]!==a[0]||s[1]!==a[1]||s[2]!==a[2]||s[3]!==a[3])&&(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],i.clearColor(a[0],a[1],a[2],a[3]))}i.clear(t)}resizeGpuRenderTarget(e){if(e.isRoot)return;const r=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,r),(e.stencil||e.depth)&&this._resizeStencil(r)}_initColor(e,t){const r=this._renderer,o=r.gl,i=o.createFramebuffer();if(t.resolveTargetFramebuffer=i,o.bindFramebuffer(o.FRAMEBUFFER,i),t.width=e.colorTexture.source.pixelWidth,t.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((s,a)=>{const l=s.source;l.antialias&&(r.context.supports.msaa?t.msaa=!0:Ce("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),r.texture.bindSource(l,0);const u=r.texture.getGlSource(l).texture;o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+a,3553,u,0)}),t.msaa){const s=o.createFramebuffer();t.framebuffer=s,o.bindFramebuffer(o.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const c=o.createRenderbuffer();t.msaaRenderBuffer[l]=c})}else t.framebuffer=i;this._resizeColor(e,t)}_resizeColor(e,t){const r=e.colorTexture.source;if(t.width=r.pixelWidth,t.height=r.pixelHeight,e.colorTextures.forEach((o,i)=>{i!==0&&o.source.resize(r.width,r.height,r._resolution)}),t.msaa){const o=this._renderer,i=o.gl,s=t.framebuffer;i.bindFramebuffer(i.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const c=a.source;o.texture.bindSource(c,0);const d=o.texture.getGlSource(c).internalFormat,h=t.msaaRenderBuffer[l];i.bindRenderbuffer(i.RENDERBUFFER,h),i.renderbufferStorageMultisample(i.RENDERBUFFER,4,d,c.pixelWidth,c.pixelHeight),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,i.RENDERBUFFER,h)})}}_initStencil(e){if(e.framebuffer===null)return;const t=this._renderer.gl,r=t.createRenderbuffer();e.depthStencilRenderBuffer=r,t.bindRenderbuffer(t.RENDERBUFFER,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r),this._resizeStencil(e)}_resizeStencil(e){const t=this._renderer.gl;t.bindRenderbuffer(t.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?t.renderbufferStorageMultisample(t.RENDERBUFFER,4,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,this._renderer.context.webGLVersion===2?t.DEPTH24_STENCIL8:t.DEPTH_STENCIL,e.width,e.height)}prerender(e){const t=e.colorTexture.resource;this._renderer.context.multiView&&Zo.test(t)&&this._renderer.context.ensureCanvasSize(t)}postrender(e){if(this._renderer.context.multiView&&Zo.test(e.colorTexture.resource)){const t=this._renderer.context.canvas,r=e.colorTexture;r.context2D.drawImage(t,0,r.pixelHeight-t.height)}}}function uP(n,e,t,r,o,i){const s=i?1:-1;return n.identity(),n.a=1/r*2,n.d=s*(1/o*2),n.tx=-1-e*n.a,n.ty=-s-t*n.d,n}const aa=new Map;function y1(n,e){if(!aa.has(n)){const t=new ae({source:new Zo({resource:n,...e})}),r=()=>{aa.get(n)===t&&aa.delete(n)};t.once("destroy",r),t.source.once("destroy",r),aa.set(n,t)}return aa.get(n)}function kV(n){return aa.has(n)}function dP(n){const e=n.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const hP=class fP{constructor(e={}){if(this.uid=Ct("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...fP.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let t=0;t<e.colorTextures;t++)this.colorTextures.push(new Ot({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(r=>r.source)];const t=this.colorTexture.source;this.resize(t.width,t.height,t._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof ae||e.depthStencilTexture instanceof Ot?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new Ot({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,o=!1){this.dirtyId++,this.colorTextures.forEach((i,s)=>{o&&s===0||i.source.resize(e,t,r)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};hP.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let _f=hP;class _1{constructor(e){this.rootViewPort=new Qe,this.viewport=new Qe,this.onRenderTargetChange=new ay("onRenderTargetChange"),this.projectionMatrix=new be,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:o}){var i,s;this._renderTargetStack.length=0,this.push(e,t,r,o),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=dP(this.rootRenderTarget),(s=(i=this.adaptor).prerender)==null||s.call(i,this.rootRenderTarget)}postrender(){var e,t;(t=(e=this.adaptor).postrender)==null||t.call(e,this.rootRenderTarget)}bind(e,t=!0,r,o){const i=this.getRenderTarget(e),s=this.renderTarget!==i;this.renderTarget=i,this.renderSurface=e;const a=this.getGpuRenderTarget(i);(i.pixelWidth!==a.width||i.pixelHeight!==a.height)&&(this.adaptor.resizeGpuRenderTarget(i),a.width=i.pixelWidth,a.height=i.pixelHeight);const l=i.colorTexture,c=this.viewport,u=l.pixelWidth,d=l.pixelHeight;if(!o&&e instanceof ae&&(o=e.frame),o){const h=l._resolution;c.x=o.x*h+.5|0,c.y=o.y*h+.5|0,c.width=o.width*h+.5|0,c.height=o.height*h+.5|0}else c.x=0,c.y=0,c.width=u,c.height=d;return uP(this.projectionMatrix,0,0,c.width/l.resolution,c.height/l.resolution,!i.isRoot),this.adaptor.startRenderPass(i,t,r,c),s&&this.onRenderTargetChange.emit(i),i}clear(e,t=zn.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=zn.ALL,r,o){const i=this.bind(e,t,r,o);return this._renderTargetStack.push({renderTarget:i,frame:o}),i}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,o,i){r.x<0&&(o.width+=r.x,i.x-=r.x,r.x=0),r.y<0&&(o.height+=r.y,i.y-=r.y,r.y=0);const{pixelWidth:s,pixelHeight:a}=e;return o.width=Math.min(o.width,s-r.x),o.height=Math.min(o.height,a-r.y),this.adaptor.copyToTexture(e,t,r,o,i)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,t)=>{e!==t&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return Zo.test(e)&&(e=y1(e).source),e instanceof _f?t=e:e instanceof Ot&&(t=new _f({colorTextures:[e]}),Zo.test(e.source.resource)&&(t.isRoot=!0),e.once("destroy",()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))})),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}}class x1 extends _1{constructor(e){super(e),this.adaptor=new cP,this.adaptor.init(e,this)}}x1.extension={type:[O.WebGLSystem],name:"renderTarget"};class Yp extends Zn{constructor({buffer:e,offset:t,size:r}){super(),this.uid=Ct("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Ct("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=t|0,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Ct("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function pP(n,e){const t=[],r=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let o=!1,i=0;const s=e._getProgramData(n.glProgram);for(const l in n.groups){const c=n.groups[l];t.push(`
            resources = g[${l}].resources;
        `);for(const u in c.resources){const d=c.resources[u];if(d instanceof Vt)if(d.ubo){const h=n._uniformBindMap[l][Number(u)];t.push(`
                        sS.bindUniformBlock(
                            resources[${u}],
                            '${h}',
                            ${n.glProgram._uniformBlockData[h].index}
                        );
                    `)}else t.push(`
                        ugS.updateUniformGroup(resources[${u}], p, sD);
                    `);else if(d instanceof Yp){const h=n._uniformBindMap[l][Number(u)];t.push(`
                    sS.bindUniformBlock(
                        resources[${u}],
                        '${h}',
                        ${n.glProgram._uniformBlockData[h].index}
                    );
                `)}else if(d instanceof Ot){const h=n._uniformBindMap[l][u],f=s.uniformData[h];f&&(o||(o=!0,r.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(f.location,i),t.push(`
                        tS.bind(resources[${u}], ${i});
                    `),i++)}}}const a=[...r,...t].join(`
`);return new Function("r","s","sD",a)}class EV{}class mP{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function Xb(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function ag(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function w1(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ag(2*e);case"bvec3":return ag(3*e);case"bvec4":return ag(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let eh=null;const vw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},AV={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function C1(n,e){if(!eh){const t=Object.keys(vw);eh={};for(let r=0;r<t.length;++r){const o=t[r];eh[n[o]]=vw[o]}}return eh[e]}function gP(n,e){const t=C1(n,e);return AV[t]||"float32"}function bP(n,e,t=!1){const r={},o=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let s=0;s<o;s++){const a=e.getActiveAttrib(n,s);if(a.name.startsWith("gl_"))continue;const l=gP(e,a.type);r[a.name]={location:0,format:l,stride:Qo(l).stride,offset:0,instance:!1,start:0}}const i=Object.keys(r);if(t){i.sort((s,a)=>s>a?1:-1);for(let s=0;s<i.length;s++)r[i[s]].location=s,e.bindAttribLocation(n,s,i[s]);e.linkProgram(n)}else for(let s=0;s<i.length;s++)r[i[s]].location=e.getAttribLocation(n,i[s]);return r}function vP(n,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORM_BLOCKS);for(let o=0;o<r;o++){const i=e.getActiveUniformBlockName(n,o),s=e.getUniformBlockIndex(n,i),a=e.getActiveUniformBlockParameter(n,o,e.UNIFORM_BLOCK_DATA_SIZE);t[i]={name:i,index:s,size:a}}return t}function yP(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){const i=e.getActiveUniform(n,o),s=i.name.replace(/\[.*?\]$/,""),a=!!i.name.match(/\[.*?\]$/),l=C1(e,i.type);t[s]={name:s,index:o,type:l,size:i.size,isArray:a,value:w1(l,i.size)}}return t}function yw(n,e){const t=n.getShaderSource(e).split(`
`).map((c,u)=>`${u}: ${c}`),r=n.getShaderInfoLog(e),o=r.split(`
`),i={},s=o.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!i[c]?(i[c]=!0,!0):!1),a=[""];s.forEach(c=>{t[c-1]=`%c${t[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=t.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function _P(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||yw(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||yw(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}function xP(n,e){const t=Xb(n,n.VERTEX_SHADER,e.vertex),r=Xb(n,n.FRAGMENT_SHADER,e.fragment),o=n.createProgram();n.attachShader(o,t),n.attachShader(o,r);const i=e.transformFeedbackVaryings;i&&(typeof n.transformFeedbackVaryings!="function"?Ce("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(o,i.names,i.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)||_P(n,o,t,r),e._attributeData=bP(o,n,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=yP(o,n),e._uniformBlockData=vP(o,n),n.deleteShader(t),n.deleteShader(r);const s={};for(const l in e._uniformData){const c=e._uniformData[l];s[l]={location:n.getUniformLocation(o,l),value:w1(c.type,c.size)}}return new mP(o,s)}const th={textureCount:0,blockIndex:0};class S1{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(e){this._gl=e,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null,this.maxTextures=$s()}bind(e,t){if(this._setProgram(e.glProgram),t)return;th.textureCount=0,th.blockIndex=0;let r=this._shaderSyncFunctions[e.glProgram._key];r||(r=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),r(this._renderer,e,th)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,th)}bindUniformBlock(e,t,r=0){const o=this._renderer.buffer,i=this._getProgramData(this._activeProgram),s=e._bufferResource;s||this._renderer.ubo.updateUniformGroup(e);const a=e.buffer,l=o.updateBuffer(a),c=o.freeLocationForBufferBase(l);if(s){const{offset:d,size:h}=e;d===0&&h===a.data.byteLength?o.bindBufferBase(l,c):o.bindBufferRange(l,c,d)}else o.getLastBindBaseLocation(l)!==c&&o.bindBufferBase(l,c);const u=this._activeProgram._uniformBlockData[t].index;i.uniformBlockBindings[r]!==c&&(i.uniformBlockBindings[r]=c,this._renderer.gl.uniformBlockBinding(i.program,u,c))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const t=this._getProgramData(e);this._gl.useProgram(t.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const t=e._key;return this._programDataHash[t]=xP(this._gl,e),this._programDataHash[t]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null}_generateShaderSync(e,t){return pP(e,t)}}S1.extension={type:[O.WebGLSystem],name:"shader"};const wP={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},CP={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function SP(n,e){const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const r in n.uniforms){if(!e[r]){n.uniforms[r]instanceof Vt?n.uniforms[r].ubo?t.push(`
                        renderer.shader.bindUniformBlock(uv.${r}, "${r}");
                    `):t.push(`
                        renderer.shader.updateUniformGroup(uv.${r});
                    `):n.uniforms[r]instanceof Yp&&t.push(`
                        renderer.shader.bindBufferResource(uv.${r}, "${r}");
                    `);continue}const o=n.uniformStructures[r];let i=!1;for(let s=0;s<Bi.length;s++){const a=Bi[s];if(o.type===a.type&&a.test(o)){t.push(`name = "${r}";`,Bi[s].uniform),i=!0;break}}if(!i){const a=(o.size===1?wP:CP)[o.type].replace("location",`ud["${r}"].location`);t.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}class T1{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,t,r){const o=this._renderer.shader._getProgramData(t);(!e.isStatic||e._dirtyId!==o.uniformDirtyGroups[e.uid])&&(o.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,t)(o.uniformData,e.uniforms,this._renderer,r))}_getUniformSyncFunction(e,t){var r;return((r=this._uniformGroupSyncHash[e._signature])==null?void 0:r[t._key])||this._createUniformSyncFunction(e,t)}_createUniformSyncFunction(e,t){const r=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),o=this._getSignature(e,t._uniformData,"u");return this._cache[o]||(this._cache[o]=this._generateUniformsSync(e,t._uniformData)),r[t._key]=this._cache[o],r[t._key]}_generateUniformsSync(e,t){return SP(e,t)}_getSignature(e,t,r){const o=e.uniforms,i=[`${r}-`];for(const s in o)i.push(s),t[s]&&i.push(t[s].type);return i.join("-")}destroy(){this._renderer=null,this._cache=null}}T1.extension={type:[O.WebGLSystem],name:"uniformGroup"};function PV(n){return n=n.replaceAll("texture2D","texture").replaceAll("gl_FragColor","finalColor").replaceAll("varying","in"),n=`
        out vec4 finalColor;
    ${n}
    `,n}const IV={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function RV(n){return IV[n]}function TP(n){const e={};if(e.normal=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e.add=[n.ONE,n.ONE],e.multiply=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e.screen=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e["screen-npm"]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e.erase=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],!(n instanceof Ve.get().getWebGLRenderingContext()))e.min=[n.ONE,n.ONE,n.ONE,n.ONE,n.MIN,n.MIN],e.max=[n.ONE,n.ONE,n.ONE,n.ONE,n.MAX,n.MAX];else{const r=n.getExtension("EXT_blend_minmax");r&&(e.min=[n.ONE,n.ONE,n.ONE,n.ONE,r.MIN_EXT,r.MIN_EXT],e.max=[n.ONE,n.ONE,n.ONE,n.ONE,r.MAX_EXT,r.MAX_EXT])}return e}const BV=0,OV=1,DV=2,MV=3,FV=4,LV=5,kP=class qb{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[BV]=this.setBlend,this.map[OV]=this.setOffset,this.map[DV]=this.setCullFace,this.map[MV]=this.setDepthTest,this.map[FV]=this.setFrontFace,this.map[LV]=this.setDepthMask,this.checks=[],this.defaultState=pr.for2d()}contextChange(e){this.gl=e,this.blendModesMap=TP(e),this.reset()}set(e){if(e||(e=this.defaultState),this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e||(e=this.defaultState);for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(qb._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(qb._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const t=this.blendModesMap[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static _checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static _checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};kP.extension={type:[O.WebGLSystem],name:"state"};let EP=kP;class AP{constructor(e){this.target=l1.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=We.UNSIGNED_BYTE,this.internalFormat=yf.RGBA,this.format=yf.RGBA,this.samplerType=0}}const PP={id:"buffer",upload(n,e,t){e.width===n.width||e.height===n.height?t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,e.format,e.type,n.resource):t.texImage2D(e.target,0,e.internalFormat,n.width,n.height,0,e.format,e.type,n.resource),e.width=n.width,e.height=n.height}},NV={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},IP={id:"compressed",upload(n,e,t){t.pixelStorei(t.UNPACK_ALIGNMENT,4);let r=n.pixelWidth,o=n.pixelHeight;const i=!!NV[n.format];for(let s=0;s<n.resource.length;s++){const a=n.resource[s];i?t.compressedTexImage2D(t.TEXTURE_2D,s,e.internalFormat,r,o,0,a):t.texImage2D(t.TEXTURE_2D,s,e.internalFormat,r,o,0,e.format,e.type,a),r=Math.max(r>>1,1),o=Math.max(o>>1,1)}}},k1={id:"image",upload(n,e,t,r){const o=n.alphaMode==="premultiply-alpha-on-upload";t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o);const i=e.width,s=e.height,a=n.pixelWidth,l=n.pixelHeight,c=n.resourceWidth,u=n.resourceHeight;c<a||u<l?((i!==a||s!==l)&&t.texImage2D(e.target,0,e.internalFormat,a,l,0,e.format,e.type,null),r===2?t.texSubImage2D(t.TEXTURE_2D,0,0,0,c,u,e.format,e.type,n.resource):t.texSubImage2D(t.TEXTURE_2D,0,0,0,e.format,e.type,n.resource)):i===a||s===l?t.texSubImage2D(t.TEXTURE_2D,0,0,0,e.format,e.type,n.resource):r===2?t.texImage2D(e.target,0,e.internalFormat,a,l,0,e.format,e.type,n.resource):t.texImage2D(e.target,0,e.internalFormat,e.format,e.type,n.resource),e.width=a,e.height=l}},RP={id:"video",upload(n,e,t,r){if(!n.isValid){t.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}k1.upload(n,e,t,r)}},Yb={linear:9729,nearest:9728},BP={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},Ph={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},OP={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function Zb(n,e,t,r,o,i,s,a){const l=i;if(!a||n.addressModeU!=="repeat"||n.addressModeV!=="repeat"||n.addressModeW!=="repeat"){const c=Ph[s?"clamp-to-edge":n.addressModeU],u=Ph[s?"clamp-to-edge":n.addressModeV],d=Ph[s?"clamp-to-edge":n.addressModeW];e[o](l,e.TEXTURE_WRAP_S,c),e[o](l,e.TEXTURE_WRAP_T,u),e.TEXTURE_WRAP_R&&e[o](l,e.TEXTURE_WRAP_R,d)}if((!a||n.magFilter!=="linear")&&e[o](l,e.TEXTURE_MAG_FILTER,Yb[n.magFilter]),t){if(!a||n.mipmapFilter!=="linear"){const c=BP[n.minFilter][n.mipmapFilter];e[o](l,e.TEXTURE_MIN_FILTER,c)}}else e[o](l,e.TEXTURE_MIN_FILTER,Yb[n.minFilter]);if(r&&n.maxAnisotropy>1){const c=Math.min(n.maxAnisotropy,e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[o](l,r.TEXTURE_MAX_ANISOTROPY_EXT,c)}n.compare&&e[o](l,e.TEXTURE_COMPARE_FUNC,OP[n.compare])}function DP(n){return{r8unorm:n.RED,r8snorm:n.RED,r8uint:n.RED,r8sint:n.RED,r16uint:n.RED,r16sint:n.RED,r16float:n.RED,rg8unorm:n.RG,rg8snorm:n.RG,rg8uint:n.RG,rg8sint:n.RG,r32uint:n.RED,r32sint:n.RED,r32float:n.RED,rg16uint:n.RG,rg16sint:n.RG,rg16float:n.RG,rgba8unorm:n.RGBA,"rgba8unorm-srgb":n.RGBA,rgba8snorm:n.RGBA,rgba8uint:n.RGBA,rgba8sint:n.RGBA,bgra8unorm:n.RGBA,"bgra8unorm-srgb":n.RGBA,rgb9e5ufloat:n.RGB,rgb10a2unorm:n.RGBA,rg11b10ufloat:n.RGB,rg32uint:n.RG,rg32sint:n.RG,rg32float:n.RG,rgba16uint:n.RGBA,rgba16sint:n.RGBA,rgba16float:n.RGBA,rgba32uint:n.RGBA,rgba32sint:n.RGBA,rgba32float:n.RGBA,stencil8:n.STENCIL_INDEX8,depth16unorm:n.DEPTH_COMPONENT,depth24plus:n.DEPTH_COMPONENT,"depth24plus-stencil8":n.DEPTH_STENCIL,depth32float:n.DEPTH_COMPONENT,"depth32float-stencil8":n.DEPTH_STENCIL}}function MP(n,e){let t={},r=n.RGBA;return n instanceof Ve.get().getWebGLRenderingContext()?e.srgb&&(t={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(t={"rgba8unorm-srgb":n.SRGB8_ALPHA8,"bgra8unorm-srgb":n.SRGB8_ALPHA8},r=n.RGBA8),{r8unorm:n.R8,r8snorm:n.R8_SNORM,r8uint:n.R8UI,r8sint:n.R8I,r16uint:n.R16UI,r16sint:n.R16I,r16float:n.R16F,rg8unorm:n.RG8,rg8snorm:n.RG8_SNORM,rg8uint:n.RG8UI,rg8sint:n.RG8I,r32uint:n.R32UI,r32sint:n.R32I,r32float:n.R32F,rg16uint:n.RG16UI,rg16sint:n.RG16I,rg16float:n.RG16F,rgba8unorm:n.RGBA,...t,rgba8snorm:n.RGBA8_SNORM,rgba8uint:n.RGBA8UI,rgba8sint:n.RGBA8I,bgra8unorm:r,rgb9e5ufloat:n.RGB9_E5,rgb10a2unorm:n.RGB10_A2,rg11b10ufloat:n.R11F_G11F_B10F,rg32uint:n.RG32UI,rg32sint:n.RG32I,rg32float:n.RG32F,rgba16uint:n.RGBA16UI,rgba16sint:n.RGBA16I,rgba16float:n.RGBA16F,rgba32uint:n.RGBA32UI,rgba32sint:n.RGBA32I,rgba32float:n.RGBA32F,stencil8:n.STENCIL_INDEX8,depth16unorm:n.DEPTH_COMPONENT16,depth24plus:n.DEPTH_COMPONENT24,"depth24plus-stencil8":n.DEPTH24_STENCIL8,depth32float:n.DEPTH_COMPONENT32F,"depth32float-stencil8":n.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function FP(n){return{r8unorm:n.UNSIGNED_BYTE,r8snorm:n.BYTE,r8uint:n.UNSIGNED_BYTE,r8sint:n.BYTE,r16uint:n.UNSIGNED_SHORT,r16sint:n.SHORT,r16float:n.HALF_FLOAT,rg8unorm:n.UNSIGNED_BYTE,rg8snorm:n.BYTE,rg8uint:n.UNSIGNED_BYTE,rg8sint:n.BYTE,r32uint:n.UNSIGNED_INT,r32sint:n.INT,r32float:n.FLOAT,rg16uint:n.UNSIGNED_SHORT,rg16sint:n.SHORT,rg16float:n.HALF_FLOAT,rgba8unorm:n.UNSIGNED_BYTE,"rgba8unorm-srgb":n.UNSIGNED_BYTE,rgba8snorm:n.BYTE,rgba8uint:n.UNSIGNED_BYTE,rgba8sint:n.BYTE,bgra8unorm:n.UNSIGNED_BYTE,"bgra8unorm-srgb":n.UNSIGNED_BYTE,rgb9e5ufloat:n.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:n.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:n.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:n.UNSIGNED_INT,rg32sint:n.INT,rg32float:n.FLOAT,rgba16uint:n.UNSIGNED_SHORT,rgba16sint:n.SHORT,rgba16float:n.HALF_FLOAT,rgba32uint:n.UNSIGNED_INT,rgba32sint:n.INT,rgba32float:n.FLOAT,stencil8:n.UNSIGNED_BYTE,depth16unorm:n.UNSIGNED_SHORT,depth24plus:n.UNSIGNED_INT,"depth24plus-stencil8":n.UNSIGNED_INT_24_8,depth32float:n.FLOAT,"depth32float-stencil8":n.FLOAT_32_UNSIGNED_INT_24_8_REV}}function $V(n){n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));const e=n.length;for(let t=0;t<e;t+=4){const r=n[t+3];if(r!==0){const o=255.001/r;n[t]=n[t]*o+.5,n[t+1]=n[t+1]*o+.5,n[t+2]=n[t+2]*o+.5}}}const UV=4;class E1{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:k1,buffer:PP,video:RP,compressed:IP},this._useSeparateSamplers=!1,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=MP(e,this._renderer.context.extensions),this._mapFormatToType=FP(e),this._mapFormatToFormat=DP(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null);for(let t=0;t<16;t++)this.bind(ae.EMPTY,t)}initSource(e){this.bind(e)}bind(e,t=0){const r=e.source;e?(this.bindSource(r,t),this._useSeparateSamplers&&this._bindSampler(r.style,t)):(this.bindSource(null,t),this._useSeparateSamplers&&this._bindSampler(null,t))}bindSource(e,t=0){const r=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[t]!==e){this._boundTextures[t]=e,this._activateLocation(t),e||(e=ae.EMPTY.source);const o=this.getGlSource(e);r.bindTexture(o.target,o.texture)}}_bindSampler(e,t=0){const r=this._gl;if(!e){this._boundSamplers[t]=null,r.bindSampler(t,null);return}const o=this._getGlSampler(e);this._boundSamplers[t]!==o&&(this._boundSamplers[t]=o,r.bindSampler(t,o))}unbind(e){const t=e.source,r=this._boundTextures,o=this._gl;for(let i=0;i<r.length;i++)if(r[i]===t){this._activateLocation(i);const s=this.getGlSource(t);o.bindTexture(s.target,null),r[i]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const t=this._gl,r=new AP(t.createTexture());if(r.type=this._mapFormatToType[e.format],r.internalFormat=this._mapFormatToInternalFormat[e.format],r.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const o=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(o))+1}return this._glTextures[e.uid]=r,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),r}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,t){const r=this._gl,o=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,o.texture),this._boundTextures[this._activeTextureLocation]=e,Zb(e.style,r,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",r.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,t)}onSourceUnload(e){const t=this._glTextures[e.uid];t&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(t.texture))}onSourceUpdate(e){const t=this._gl,r=this.getGlSource(e);t.bindTexture(t.TEXTURE_2D,r.texture),this._boundTextures[this._activeTextureLocation]=e,this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,r,t,this._renderer.context.webGLVersion):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.pixelWidth,e.pixelHeight,0,t.RGBA,t.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,t=!0){t&&this.bindSource(e,0);const r=this.getGlSource(e);this._gl.generateMipmap(r.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const t=this._gl,r=this._gl.createSampler();return this._glSamplers[e._resourceId]=r,Zb(e,t,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",r,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:t,width:r,height:o}=this.getPixels(e),i=Ve.get().createCanvas();i.width=r,i.height=o;const s=i.getContext("2d");if(s){const a=s.createImageData(r,o);a.data.set(t),s.putImageData(a,0,0)}return i}getPixels(e){const t=e.source.resolution,r=e.frame,o=Math.max(Math.round(r.width*t),1),i=Math.max(Math.round(r.height*t),1),s=new Uint8Array(UV*o*i),a=this._renderer,l=a.renderTarget.getRenderTarget(e),c=a.renderTarget.getGpuRenderTarget(l),u=a.gl;return u.bindFramebuffer(u.FRAMEBUFFER,c.resolveTargetFramebuffer),u.readPixels(Math.round(r.x*t),Math.round(r.y*t),o,i,u.RGBA,u.UNSIGNED_BYTE,s),{pixels:new Uint8ClampedArray(s.buffer),width:o,height:i}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}}E1.extension={type:[O.WebGLSystem],name:"texture"};class A1{init(){const e=new Vt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new be,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),t=$s(),r=pl({name:"graphics",bits:[Dp,Fp(t),qp,gl]});this.shader=new br({glProgram:r,resources:{localUniforms:e,batchSamplers:Lp(t)}})}execute(e,t){const r=t.context,o=r.customShader||this.shader,i=e.renderer,s=i.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(r);o.groups[0]=i.globalUniforms.bindGroup,i.state.set(e.state),i.shader.bind(o),i.geometry.bind(a.geometry,o.glProgram);const c=l.instructions;for(let u=0;u<l.instructionSize;u++){const d=c[u];if(d.size){for(let h=0;h<d.textures.count;h++)i.texture.bind(d.textures.textures[h],h);i.geometry.draw(d.topology,d.size,d.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}A1.extension={type:[O.WebGLPipesAdaptor],name:"graphics"};class P1{init(){const e=pl({name:"mesh",bits:[qp,X5,gl]});this._shader=new br({glProgram:e,resources:{uTexture:ae.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new be}}}})}execute(e,t){const r=e.renderer;let o=t._shader;if(o){if(!o.glProgram){Ce("Mesh shader has no glProgram",t.shader);return}}else{o=this._shader;const i=t.texture,s=i.source;o.resources.uTexture=s,o.resources.uSampler=s.style,o.resources.textureUniforms.uniforms.uTextureMatrix=i.textureMatrix.mapCoord}o.groups[100]=r.globalUniforms.bindGroup,o.groups[101]=e.localUniformsBindGroup,r.encoder.draw({geometry:t._geometry,shader:o,state:t.state})}destroy(){this._shader.destroy(!0),this._shader=null}}P1.extension={type:[O.WebGLPipesAdaptor],name:"mesh"};class I1{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}I1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"customRender"};class pd{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}function xf(n,e){const t=n.instructionSet,r=t.instructions;for(let o=0;o<t.instructionSize;o++){const i=r[o];e[i.renderPipeId].execute(i)}}const GV=new be;class R1{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(Ge.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){const r=e._batchableRenderGroup??(e._batchableRenderGroup=Ge.get(pd));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.batch.addToBatch(r,t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=GV.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295}),xf(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),xf(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}R1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"renderGroup"};function wf(n,e){e||(e=0);for(let t=e;t<n.length&&n[t];t++)n[t]=null}const VV=new Je,_w=Aa|Mc|xp;function B1(n,e=!1){LP(n);const t=n.childrenToUpdate,r=n.updateTick++;for(const o in t){const i=Number(o),s=t[o],a=s.list,l=s.index;for(let c=0;c<l;c++){const u=a[c];u.parentRenderGroup===n&&u.relativeRenderGroupDepth===i&&O1(u,r,0)}wf(a,l),s.index=0}if(e)for(let o=0;o<n.renderGroupChildren.length;o++)B1(n.renderGroupChildren[o],e)}function LP(n){const e=n.root;let t;if(n.renderGroupParent){const r=n.renderGroupParent;n.worldTransform.appendFrom(e.relativeGroupTransform,r.worldTransform),n.worldColor=Dc(e.groupColor,r.worldColor),t=e.groupAlpha*r.worldAlpha}else n.worldTransform.copyFrom(e.localTransform),n.worldColor=e.localColor,t=e.localAlpha;t=t<0?0:t>1?1:t,n.worldAlpha=t,n.worldColorAlpha=n.worldColor+((t*255|0)<<24)}function O1(n,e,t){if(e===n.updateTick)return;n.updateTick=e,n.didChange=!1;const r=n.localTransform;n.updateLocalTransform();const o=n.parent;if(o&&!o.renderGroup?(t|=n._updateFlags,n.relativeGroupTransform.appendFrom(r,o.relativeGroupTransform),t&_w&&xw(n,o,t)):(t=n._updateFlags,n.relativeGroupTransform.copyFrom(r),t&_w&&xw(n,VV,t)),!n.renderGroup){const i=n.children,s=i.length;for(let c=0;c<s;c++)O1(i[c],e,t);const a=n.parentRenderGroup,l=n;l.renderPipeId&&!a.structureDidChange&&a.updateRenderable(l)}}function xw(n,e,t){if(t&Mc){n.groupColor=Dc(n.localColor,e.groupColor);let r=n.localAlpha*e.groupAlpha;r=r<0?0:r>1?1:r,n.groupAlpha=r,n.groupColorAlpha=n.groupColor+((r*255|0)<<24)}t&xp&&(n.groupBlendMode=n.localBlendMode==="inherit"?e.groupBlendMode:n.localBlendMode),t&Aa&&(n.globalDisplayStatus=n.localDisplayStatus&e.globalDisplayStatus),n._updateFlags=0}function NP(n,e){const{list:t,index:r}=n.childrenRenderablesToUpdate;let o=!1;for(let i=0;i<r;i++){const s=t[i];if(o=e[s.renderPipeId].validateRenderable(s),o)break}return n.structureDidChange=o,o}const zV=new be;class D1{constructor(e){this._renderer=e}render({container:e,transform:t}){const r=e.parent,o=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const i=this._renderer;let s=zV;t&&(s=s.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const a=i.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),i.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),xf(e.renderGroup,a),a.uniformBatch&&a.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(s),e.parent=r,e.renderGroup.renderGroupParent=o}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;t=e}e._parentCacheAsTextureRenderGroup=t;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const r=e.root.getLocalBounds();r.ceil();const o=e.texture;e.texture&&Lt.returnTexture(e.texture);const i=this._renderer,s=e.textureOptions.resolution||i.view.resolution,a=e.textureOptions.antialias??i.view.antialias;e.texture=Lt.getOptimalTexture(r.width,r.height,s,a),e._textureBounds||(e._textureBounds=new un),e._textureBounds.copyFrom(r),o!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(Lt.returnTexture(e.texture),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,r=t.renderPipes;if(e.runOnRender(),e.instructionSet.renderPipes=r,e.structureDidChange?wf(e.childrenRenderablesToUpdate.list,0):NP(e,r),B1(e),e.structureDidChange?(e.structureDidChange=!1,q5(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!(e.isCachedAsTexture&&!e.textureNeedsUpdate))for(let o=0;o<e.renderGroupChildren.length;o++)this._updateRenderGroups(e.renderGroupChildren[o])}_updateRenderables(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let o=0;o<r;o++){const i=t[o];i.didViewUpdate&&e.updateRenderable(i)}wf(t,r)}}D1.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"renderGroup"};class M1{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];Ge.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=Ge.get(pd);return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)Ge.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}M1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"sprite"};const F1=class $P{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ke(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...$P.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};F1.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"background",priority:0};F1.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let UP=F1;const gc={};dt.handle(O.BlendMode,n=>{if(!n.name)throw new Error("BlendMode extension must have a name property");gc[n.name]=n.ref},n=>{delete gc[n.name]});class L1{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e}setBlendMode(e,t,r){if(this._activeBlendMode===t){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!gc[t],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!gc[t]){Ce(`Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let r=this._filterHash[t];r||(r=this._filterHash[t]=new Oc,r.filters=[new gc[t]]);const o={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=o.renderables,e.add(o)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}L1.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"blendMode"};const lg={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},N1=class GP{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof Je||e instanceof ae?{target:e,...t}:{...t,...e}}async image(e){const t=new Image;return t.src=await this.base64(e),t}async base64(e){e=this._normalizeOptions(e,GP.defaultImageOptions);const{format:t,quality:r}=e,o=this.canvas(e);if(o.toBlob!==void 0)return new Promise((i,s)=>{o.toBlob(a=>{if(!a){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>i(l.result),l.onerror=s,l.readAsDataURL(a)},lg[t],r)});if(o.toDataURL!==void 0)return o.toDataURL(lg[t],r);if(o.convertToBlob!==void 0){const i=await o.convertToBlob({type:lg[t],quality:r});return new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=a,l.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const t=e.target,r=this._renderer;if(t instanceof ae)return r.texture.generateCanvas(t);const o=r.textureGenerator.generateTexture(e),i=r.texture.generateCanvas(o);return o.destroy(!0),i}pixels(e){e=this._normalizeOptions(e);const t=e.target,r=this._renderer,o=t instanceof ae?t:r.textureGenerator.generateTexture(e),i=r.texture.getPixels(o);return t instanceof Je&&o.destroy(!0),i}texture(e){return e=this._normalizeOptions(e),e.target instanceof ae?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),o=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const i=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${o}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",i)}destroy(){this._renderer=null}};N1.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"extract"};N1.defaultImageOptions={format:"png",quality:1};let VP=N1;class Zp extends ae{static create(e){return new Zp({source:new Ot(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const HV=new Qe,jV=new un,WV=[0,0,0,0];class $1{constructor(e){this._renderer=e}generateTexture(e){var c;e instanceof Je&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,o=e.target;let i=e.clearColor;i?i=Array.isArray(i)&&i.length===4?i:Ke.shared.setValue(i).toArray():i=WV;const s=((c=e.frame)==null?void 0:c.copyTo(HV))||_p(o,jV).rectangle;s.width=Math.max(s.width,1/t)|0,s.height=Math.max(s.height,1/t)|0;const a=Zp.create({...e.textureSourceOptions,width:s.width,height:s.height,resolution:t,antialias:r}),l=be.shared.translate(-s.x,-s.y);return this._renderer.render({container:o,transform:l,target:a,clearColor:i}),a.source.updateMipmaps(),a}destroy(){this._renderer=null}}$1.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"textureGenerator"};function KV(n,e,t,r){t[r++]=(n>>16&255)/255,t[r++]=(n>>8&255)/255,t[r++]=(n&255)/255,t[r++]=e}function vl(n,e,t){const r=(n>>24&255)/255;e[t++]=(n&255)/255*r,e[t++]=(n>>8&255)/255*r,e[t++]=(n>>16&255)/255*r,e[t++]=r}class U1{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:o,offset:i}){const s=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:s,worldTransformMatrix:new be,worldColor:4294967295,offset:new ot},l={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||s.size,worldTransformMatrix:r||a.worldTransformMatrix,worldColor:o||a.worldColor,offset:i||a.offset,bindGroup:null},c=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(c);const u=c.uniforms;u.uProjectionMatrix=l.projectionMatrix,u.uResolution=l.resolution,u.uWorldTransformMatrix.copyFrom(l.worldTransformMatrix),u.uWorldTransformMatrix.tx-=l.offset.x,u.uWorldTransformMatrix.ty-=l.offset.y,vl(l.worldColor,u.uWorldColorAlpha,0),c.update();let d;this._renderer.renderPipes.uniformBatch?d=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(c,!1):(d=this._bindGroupPool.pop()||new go,this._activeBindGroups.push(d),d.setResource(c,0)),l.bindGroup=d,this._currentGlobalUniformData=l}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===qn.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new Vt({uProjectionMatrix:{value:new be,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new be,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}U1.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"globalUniforms"};let XV=1;class G1{constructor(){this._tasks=[],this._offset=0}init(){mn.system.add(this._update,this)}repeat(e,t,r=!0){const o=XV++;let i=0;return r&&(this._offset+=1e3,i=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:i,last:performance.now(),repeat:!0,id:o}),o}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e){this._tasks.splice(t,1);return}}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.offset-r.last>=r.duration){const o=e-r.start;r.func(o),r.last=e}}}destroy(){mn.system.remove(this._update,this),this._tasks.length=0}}G1.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"scheduler",priority:0};let ww=!1;function zP(n){if(!ww){if(Ve.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${Uc} (${n}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${Uc} - ${n} - http://www.pixijs.com/`);ww=!0}}class Jp{constructor(e){this._renderer=e}init(e){if(e.hello){let t=this._renderer.name;this._renderer.type===qn.WEBGL&&(t+=` ${this._renderer.context.webGLVersion}`),zP(t)}}}Jp.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"hello",priority:-2};Jp.defaultOptions={hello:!1};function HP(n){let e=!1;for(const r in n)if(n[r]==null){e=!0;break}if(!e)return n;const t=Object.create(null);for(const r in n){const o=n[r];o&&(t[r]=o)}return t}function jP(n){let e=0;for(let t=0;t<n.length;t++)n[t]==null?e++:n[t-e]=n[t];return n.length-=e,n}const V1=class WP{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(e){e={...WP.defaultOptions,...e},this.maxUnusedTime=e.renderableGCMaxUnusedTime,this._frequency=e.renderableGCFrequency,this.enabled=e.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const t of this._managedHashes)t.context[t.hash]=HP(t.context[t.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const t of this._managedArrays)jP(t.context[t.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender(){this._now=performance.now()}addRenderable(e,t){this.enabled&&(e._lastUsed=this._now,e._lastInstructionTick===-1&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastInstructionTick=t.tick)}run(){var i;const e=performance.now(),t=this._managedRenderables,r=this._renderer.renderPipes;let o=0;for(let s=0;s<t.length;s++){const a=t[s];if(a===null){o++;continue}const l=a.renderGroup??a.parentRenderGroup,c=((i=l==null?void 0:l.instructionSet)==null?void 0:i.tick)??-1;a._lastInstructionTick!==c&&e-a._lastUsed>this.maxUnusedTime?(a.destroyed||r[a.renderPipeId].destroyRenderable(a),a._lastInstructionTick=-1,o++,a.off("destroyed",this._removeRenderable,this)):t[s-o]=a}t.length-=o}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}};V1.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"renderableGC",priority:0};V1.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let KP=V1;const z1=class XP{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={...XP.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle??e.textureGCMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};z1.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"textureGC"};z1.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:60*60,textureGCCheckCountMax:600};let qP=z1;const H1=class YP{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...YP.defaultOptions,...e},e.view&&(_e(Pe,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new Qe(0,0,e.width,e.height),this.canvas=e.canvas||Ve.get().createCanvas(),this.antialias=!!e.antialias,this.texture=y1(this.canvas,e),this.renderTarget=new _f({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.resolution=e.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};H1.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"view",priority:0};H1.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let ZP=H1;const j1=[UP,U1,Jp,ZP,D1,qP,$1,VP,cy,KP,G1],W1=[L1,t1,M1,R1,n1,o1,r1,I1],qV=[...j1,v1,rP,Q5,i1,E1,x1,c1,T1,S1,h1,EP,f1,d1],YV=[...W1],ZV=[Jy,P1,A1],JP=[],QP=[],e6=[];dt.handleByNamedList(O.WebGLSystem,JP);dt.handleByNamedList(O.WebGLPipes,QP);dt.handleByNamedList(O.WebGLPipesAdaptor,e6);dt.add(...qV,...YV,...ZV);class t6 extends nd{constructor(){const e={name:"webgl",type:qn.WEBGL,systems:JP,renderPipes:QP,renderPipeAdaptors:e6};super(e)}}const JV=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:t6},Symbol.toStringTag,{value:"Module"}));class K1{constructor(e){this._hash=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(e){this._gpu=e}getBindGroup(e,t,r){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,t,r)}_createBindGroup(e,t,r){const o=this._gpu.device,i=t.layout[r],s=[],a=this._renderer;for(const u in i){const d=e.resources[u]??e.resources[i[u]];let h;if(d._resourceType==="uniformGroup"){const f=d;a.ubo.updateUniformGroup(f);const p=f.buffer;h={buffer:a.buffer.getGPUBuffer(p),offset:0,size:p.descriptor.size}}else if(d._resourceType==="buffer"){const f=d;h={buffer:a.buffer.getGPUBuffer(f),offset:0,size:f.descriptor.size}}else if(d._resourceType==="bufferResource"){const f=d;h={buffer:a.buffer.getGPUBuffer(f.buffer),offset:f.offset,size:f.size}}else if(d._resourceType==="textureSampler"){const f=d;h=a.texture.getGpuSampler(f)}else if(d._resourceType==="textureSource"){const f=d;h=a.texture.getGpuSource(f).createView({})}s.push({binding:i[u],resource:h})}const l=a.shader.getProgramData(t).bindGroups[r],c=o.createBindGroup({layout:l,entries:s});return this._hash[e._key]=c,c}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}K1.extension={type:[O.WebGPUSystem],name:"bindGroup"};class X1{constructor(e){this._gpuBuffers=Object.create(null),this._managedBuffers=[],e.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const t=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),r=e.data;return e._updateID&&r&&(e._updateID=0,this._gpu.device.queue.writeBuffer(t,0,r.buffer,0,(e._updateSize||r.byteLength)+3&-4)),t}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(e));const t=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(df(e.data.buffer,t.getMappedRange()),t.unmap()),this._gpuBuffers[e.uid]=t,t}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}X1.extension={type:[O.WebGPUSystem],name:"buffer"};function QV(n,e){const t=n.descriptor.size,r=e.gpu.device,o=new Mn({data:new Float32Array(24e5),usage:Ne.MAP_READ|Ne.COPY_DST}),i=e.buffer.createGPUBuffer(o),s=r.createCommandEncoder();s.copyBufferToBuffer(e.buffer.getGPUBuffer(n),0,i,0,t),r.queue.submit([s.finish()]),i.mapAsync(GPUMapMode.READ,0,t).then(()=>{i.getMappedRange(0,t),i.unmap()})}class n6{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const t=this.byteIndex;let r=t+e*4;if(r=Math.ceil(r/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,r>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=r,t}addGroup(e){const t=this.addEmptyGroup(e.length);for(let r=0;r<e.length;r++)this.data[t/4+r]=e[r];return t}destroy(){this.data=null}}class q1{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}q1.extension={type:[O.WebGPUSystem],name:"colorMask"};class Qp{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(e).then(t=>{this.gpu=t,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const t=await Ve.get().getNavigator().gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),r=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(i=>t.features.has(i)),o=await t.requestDevice({requiredFeatures:r});return{adapter:t,device:o}}destroy(){this.gpu=null,this._renderer=null}}Qp.extension={type:[O.WebGPUSystem],name:"device"};Qp.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class Y1{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,t,r,o){const i=this._renderer.pipeline.getPipeline(e,t,r,o);this.setPipeline(i)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,t){this._boundVertexBuffer[e]!==t&&(this._boundVertexBuffer[e]=t,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(t)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const t=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),t)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,t,r){if(this._boundBindGroup[e]===t)return;this._boundBindGroup[e]=t,t._touch(this._renderer.textureGC.count);const o=this._renderer.bindGroup.getBindGroup(t,r,e);this.renderPassEncoder.setBindGroup(e,o)}setGeometry(e,t){const r=this._renderer.pipeline.getBufferNamesToBind(e,t);for(const o in r)this._setVertexBuffer(o,e.attributes[r[o]].buffer);e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,t){for(const r in e.groups){const o=e.groups[r];t||this._syncBindGroup(o),this.setBindGroup(r,o,e.gpuProgram)}}_syncBindGroup(e){for(const t in e.resources){const r=e.resources[t];r.isUniformGroup&&this._renderer.ubo.updateUniformGroup(r)}}draw(e){const{geometry:t,shader:r,state:o,topology:i,size:s,start:a,instanceCount:l,skipSync:c}=e;this.setPipelineFromGeometryProgramAndState(t,r.gpuProgram,o,i),this.setGeometry(t,r.gpuProgram),this._setShaderBindGroups(r,c),t.indexBuffer?this.renderPassEncoder.drawIndexed(s||t.indexBuffer.data.length,l??t.instanceCount,a||0):this.renderPassEncoder.draw(s||t.getSize(),l??t.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const t=this._boundPipeline,r={...this._boundVertexBuffer},o=this._boundIndexBuffer,i={...this._boundBindGroup};this._clearCache();const s=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(s.x,s.y,s.width,s.height,0,1),this.setPipeline(t);for(const a in r)this._setVertexBuffer(a,r[a]);for(const a in i)this.setBindGroup(a,i[a],null);this._setIndexBuffer(o)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}Y1.extension={type:[O.WebGPUSystem],name:"encoder",priority:1};class Z1{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let t=this._renderTargetStencilState[e.uid];t||(t=this._renderTargetStencilState[e.uid]={stencilMode:It.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(t.stencilMode,t.stencilReference)}setStencilMode(e,t){const r=this._renderTargetStencilState[this._activeRenderTarget.uid];r.stencilMode=e,r.stencilReference=t;const o=this._renderer;o.pipeline.setStencilMode(e),o.encoder.renderPassEncoder.setStencilReference(t)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}Z1.extension={type:[O.WebGPUSystem],name:"stencil"};const bc={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function r6(n){const e=n.map(r=>({data:r,offset:0,size:0}));let t=0;for(let r=0;r<e.length;r++){const o=e[r];let i=bc[o.data.type].size;const s=bc[o.data.type].align;if(!bc[o.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${o.data.type}`);o.data.size>1&&(i=Math.max(i,s)*o.data.size),t=Math.ceil(t/s)*s,o.size=i,o.offset=t,t+=i}return t=Math.ceil(t/16)*16,{uboElements:e,size:t}}function o6(n,e){const{size:t,align:r}=bc[n.data.type],o=(r-t)/4,i=n.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${n.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${n.data.size*(t/4)}; i++)
         {
             for(var j = 0; j < ${t/4}; j++)
             {
                 ${i}[arrayOffset++] = v[t++];
             }
             ${o!==0?`arrayOffset += ${o};`:""}
         }
     `}function i6(n){return g1(n,"uboWgsl",o6,sP)}class J1 extends p1{constructor(){super({createUboElements:r6,generateUboSync:i6})}}J1.extension={type:[O.WebGPUSystem],name:"ubo"};const gi=128;class Q1{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new n6({minUniformOffsetAlignment:gi});const t=256/gi;for(let r=0;r<t;r++){let o=Ne.UNIFORM|Ne.COPY_DST;r===0&&(o|=Ne.COPY_SRC),this._buffers.push(new Mn({data:this._batchBuffer.data,usage:o}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,t){if(!t&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const r=e.buffer.data,o=this._batchBuffer.addEmptyGroup(r.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,o/4),this._bindGroupHash[e.uid]=this._getBindGroup(o/gi),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const t=e.buffer.data,r=this._batchBuffer.addGroup(t);return this._getBufferResource(r/gi)}getArrayBindGroup(e){const t=this._batchBuffer.addGroup(e);return this._getBindGroup(t/gi)}getArrayBufferResource(e){const r=this._batchBuffer.addGroup(e)/gi;return this._getBufferResource(r)}_getBufferResource(e){if(!this._bufferResources[e]){const t=this._buffers[e%2];this._bufferResources[e]=new Yp({buffer:t,offset:(e/2|0)*256,size:gi})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const t=new go({0:this._getBufferResource(e)});this._bindGroups[e]=t}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,t=this._buffers[0];t.update(this._batchBuffer.byteIndex),e.updateBuffer(t);const r=this._renderer.gpu.device.createCommandEncoder();for(let o=1;o<this._buffers.length;o++){const i=this._buffers[o];r.copyBufferToBuffer(e.getGPUBuffer(t),gi,e.getGPUBuffer(i),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([r.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}Q1.extension={type:[O.WebGPUPipes],name:"uniformBatch"};const ez={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function tz(n,e,t,r,o){return n<<24|e<<16|t<<10|r<<5|o}function nz(n,e,t,r){return t<<6|n<<3|r<<1|e}class e_{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(It.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=hi[e],this._updatePipeHash())}setPipeline(e,t,r,o){const i=this.getPipeline(e,t,r);o.setPipeline(i)}getPipeline(e,t,r,o){e._layoutKey||(a1(e,t.attributeData),this._generateBufferKey(e)),o||(o=e.topology);const i=tz(e._layoutKey,t._layoutKey,r.data,r._blendModeId,ez[o]);return this._pipeCache[i]?this._pipeCache[i]:(this._pipeCache[i]=this._createPipeline(e,t,r,o),this._pipeCache[i])}_createPipeline(e,t,r,o){const i=this._gpu.device,s=this._createVertexBufferLayouts(e,t),a=this._renderer.state.getColorTargets(r);a[0].writeMask=this._stencilMode===It.RENDERING_MASK_ADD?0:this._colorMask;const l=this._renderer.shader.getProgramData(t).pipeline,c={vertex:{module:this._getModule(t.vertex.source),entryPoint:t.vertex.entryPoint,buffers:s},fragment:{module:this._getModule(t.fragment.source),entryPoint:t.fragment.entryPoint,targets:a},primitive:{topology:o,cullMode:r.cullMode},layout:l,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(c.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:r.depthTest,depthCompare:r.depthTest?"less":"always"}),i.createRenderPipeline(c)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const t=this._gpu.device;return this._moduleCache[e]=t.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const t=[];let r=0;const o=Object.keys(e.attributes).sort();for(let s=0;s<o.length;s++){const a=e.attributes[o[s]];t[r++]=a.offset,t[r++]=a.format,t[r++]=a.stride,t[r++]=a.instance}const i=t.join("|");return e._layoutKey=Wa(i,"geometry"),e._layoutKey}_generateAttributeLocationsKey(e){const t=[];let r=0;const o=Object.keys(e.attributeData).sort();for(let s=0;s<o.length;s++){const a=e.attributeData[o[s]];t[r++]=a.location}const i=t.join("|");return e._attributeLocationsKey=Wa(i,"programAttributes"),e._attributeLocationsKey}getBufferNamesToBind(e,t){const r=e._layoutKey<<16|t._attributeLocationsKey;if(this._bindingNamesCache[r])return this._bindingNamesCache[r];const o=this._createVertexBufferLayouts(e,t),i=Object.create(null),s=t.attributeData;for(let a=0;a<o.length;a++){const c=Object.values(o[a].attributes)[0].shaderLocation;for(const u in s)if(s[u].location===c){i[a]=u;break}}return this._bindingNamesCache[r]=i,i}_createVertexBufferLayouts(e,t){t._attributeLocationsKey||this._generateAttributeLocationsKey(t);const r=e._layoutKey<<16|t._attributeLocationsKey;if(this._bufferLayoutsCache[r])return this._bufferLayoutsCache[r];const o=[];return e.buffers.forEach(i=>{const s={arrayStride:0,stepMode:"vertex",attributes:[]},a=s.attributes;for(const l in t.attributeData){const c=e.attributes[l];(c.divisor??1)!==1&&Ce(`Attribute ${l} has an invalid divisor value of '${c.divisor}'. WebGPU only supports a divisor value of 1`),c.buffer===i&&(s.arrayStride=c.stride,s.stepMode=c.instance?"instance":"vertex",a.push({shaderLocation:t.attributeData[l].location,offset:c.offset,format:c.format}))}a.length&&o.push(s)}),this._bufferLayoutsCache[r]=o,o}_updatePipeHash(){const e=nz(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}e_.extension={type:[O.WebGPUSystem],name:"pipeline"};class s6{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class a6{init(e,t){this._renderer=e,this._renderTargetSystem=t}copyToTexture(e,t,r,o,i){const s=this._renderer,a=this._getGpuColorTexture(e),l=s.texture.getGpuSource(t.source);return s.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:r},{texture:l,origin:i},o),t}startRenderPass(e,t=!0,r,o){const s=this._renderTargetSystem.getGpuRenderTarget(e),a=this.getDescriptor(e,t,r);s.descriptor=a,this._renderer.pipeline.setRenderTarget(s),this._renderer.encoder.beginRenderPass(s),this._renderer.encoder.setViewport(o)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);return t.contexts[0]?t.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,t,r){typeof t=="boolean"&&(t=t?zn.ALL:zn.NONE);const o=this._renderTargetSystem,i=o.getGpuRenderTarget(e),s=e.colorTextures.map((c,u)=>{const d=i.contexts[u];let h,f;d?h=d.getCurrentTexture().createView():h=this._renderer.texture.getGpuSource(c).createView({mipLevelCount:1}),i.msaaTextures[u]&&(f=h,h=this._renderer.texture.getTextureView(i.msaaTextures[u]));const p=t&zn.COLOR?"clear":"load";return r??(r=o.defaultClearColor),{view:h,resolveTarget:f,clearValue:r,storeOp:"store",loadOp:p}});let a;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=i.msaa?4:1),e.depthStencilTexture){const c=t&zn.STENCIL?"clear":"load",u=t&zn.DEPTH?"clear":"load";a={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:c,depthClearValue:1,depthLoadOp:u,depthStoreOp:"store"}}return{colorAttachments:s,depthStencilAttachment:a}}clear(e,t=!0,r,o){if(!t)return;const{gpu:i,encoder:s}=this._renderer,a=i.device;if(s.commandEncoder===null){const c=a.createCommandEncoder(),u=this.getDescriptor(e,t,r),d=c.beginRenderPass(u);d.setViewport(o.x,o.y,o.width,o.height,0,1),d.end();const h=c.finish();a.queue.submit([h])}else this.startRenderPass(e,t,r,o)}initGpuRenderTarget(e){e.isRoot=!0;const t=new s6;return e.colorTextures.forEach((r,o)=>{if(Zo.test(r.resource)){const i=r.resource.getContext("webgpu"),s=r.transparent?"premultiplied":"opaque";try{i.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:s})}catch(a){console.error(a)}t.contexts[o]=i}if(t.msaa=r.source.antialias,r.source.antialias){const i=new Ot({width:0,height:0,sampleCount:4});t.msaaTextures[o]=i}}),t.msaa&&(t.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),t}destroyGpuRenderTarget(e){e.contexts.forEach(t=>{t.unconfigure()}),e.msaaTextures.forEach(t=>{t.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&t.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);t.width=e.width,t.height=e.height,t.msaa&&e.colorTextures.forEach((r,o)=>{const i=t.msaaTextures[o];i==null||i.resize(r.source.width,r.source.height,r.source._resolution)})}}class t_ extends _1{constructor(e){super(e),this.adaptor=new a6,this.adaptor.init(e,this)}}t_.extension={type:[O.WebGPUSystem],name:"renderTarget"};class n_{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e,this.maxTextures=e.device.limits.maxSampledTexturesPerShaderStage}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const t=this._gpu.device,r=e.gpuLayout.map(i=>t.createBindGroupLayout({entries:i})),o={bindGroupLayouts:r};return this._gpuProgramData[e._layoutKey]={bindGroups:r,pipeline:t.createPipelineLayout(o)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}n_.extension={type:[O.WebGPUSystem],name:"shader"};const Fn={};Fn.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};Fn.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};Fn.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};Fn.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Fn.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Fn.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};Fn["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};Fn["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};Fn["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};Fn.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};Fn.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};Fn.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}};class r_{constructor(){this.defaultState=new pr,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:Fn[e.blendMode]||Fn.normal}]}destroy(){this.gpu=null}}r_.extension={type:[O.WebGPUSystem],name:"state"};const l6={type:"image",upload(n,e,t){const r=n.resource,o=(n.pixelWidth|0)*(n.pixelHeight|0),i=r.byteLength/o;t.device.queue.writeTexture({texture:e},r,{offset:0,rowsPerImage:n.pixelHeight,bytesPerRow:n.pixelHeight*i},{width:n.pixelWidth,height:n.pixelHeight,depthOrArrayLayers:1})}},o_={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},rz={blockBytes:4,blockWidth:1,blockHeight:1},c6={type:"compressed",upload(n,e,t){let r=n.pixelWidth,o=n.pixelHeight;const i=o_[n.format]||rz;for(let s=0;s<n.resource.length;s++){const a=n.resource[s],l=Math.ceil(r/i.blockWidth)*i.blockBytes;t.device.queue.writeTexture({texture:e,mipLevel:s},a,{offset:0,bytesPerRow:l},{width:Math.ceil(r/i.blockWidth)*i.blockWidth,height:Math.ceil(o/i.blockHeight)*i.blockHeight,depthOrArrayLayers:1}),r=Math.max(r>>1,1),o=Math.max(o>>1,1)}}},i_={type:"image",upload(n,e,t){const r=n.resource;if(!r)return;const o=Math.min(e.width,n.resourceWidth||n.pixelWidth),i=Math.min(e.height,n.resourceHeight||n.pixelHeight),s=n.alphaMode==="premultiply-alpha-on-upload";t.device.queue.copyExternalImageToTexture({source:r},{texture:e,premultipliedAlpha:s},{width:o,height:i})}},u6={type:"video",upload(n,e,t){i_.upload(n,e,t)}};class d6{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let t=this.pipelines[e];return t||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),t=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=t),t}generateMipmap(e){const t=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let r=e;const o=e.depthOrArrayLayers||1,i=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!i){const l={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:o},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};r=this.device.createTexture(l)}const s=this.device.createCommandEncoder({}),a=t.getBindGroupLayout(0);for(let l=0;l<o;++l){let c=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),u=i?1:0;for(let d=1;d<e.mipLevelCount;++d){const h=r.createView({baseMipLevel:u++,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),f=s.beginRenderPass({colorAttachments:[{view:h,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),p=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:c}]});f.setPipeline(t),f.setBindGroup(0,p),f.draw(3,1,0,0),f.end(),c=h}}if(!i){const l={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:o};for(let c=1;c<e.mipLevelCount;++c)s.copyTextureToTexture({texture:r,mipLevel:c-1},{texture:e,mipLevel:c},l),l.width=Math.ceil(l.width/2),l.height=Math.ceil(l.height/2)}return this.device.queue.submit([s.finish()]),i||r.destroy(),e}}class s_{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:i_,buffer:l6,video:u6,compressed:c6},this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuSources"),e.renderableGC.addManagedHash(this,"_gpuSamplers"),e.renderableGC.addManagedHash(this,"_bindGroupHash"),e.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(e){this._gpu=e}initSource(e){if(e.autoGenerateMipmaps){const l=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(l))+1}let t=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(t|=GPUTextureUsage.RENDER_ATTACHMENT,t|=GPUTextureUsage.COPY_SRC);const r=o_[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},o=Math.ceil(e.pixelWidth/r.blockWidth)*r.blockWidth,i=Math.ceil(e.pixelHeight/r.blockHeight)*r.blockHeight,s={label:e.label,size:{width:o,height:i},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:t},a=this._gpu.device.createTexture(s);return this._gpuSources[e.uid]=a,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const t=this.getGpuSource(e);t&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,t,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const t=this._gpuSources[e.uid];t&&(this._gpuSources[e.uid]=null,t.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new d6(this._gpu.device));const t=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(t)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const t=this._gpuSources[e.uid];t?(t.width!==e.pixelWidth||t.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const t=e.source;return this._bindGroupHash[e.uid]=new go({0:t,1:t.style,2:new Vt({uTextureMatrix:{type:"mat3x3<f32>",value:e.textureMatrix.mapCoord}})}),this._bindGroupHash[e.uid]}getTextureView(e){const t=e.source;return this._textureViewHash[t.uid]??this._createTextureView(t)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const t=this._renderer,r=t.gpu.device.createCommandEncoder(),o=Ve.get().createCanvas();o.width=e.source.pixelWidth,o.height=e.source.pixelHeight;const i=o.getContext("webgpu");return i.configure({device:t.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:Ve.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),r.copyTextureToTexture({texture:t.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:i.getCurrentTexture()},{width:o.width,height:o.height}),t.gpu.device.queue.submit([r.finish()]),o}getPixels(e){const t=this.generateCanvas(e),r=bo.getOptimalCanvasAndContext(t.width,t.height),o=r.context;o.drawImage(t,0,0);const{width:i,height:s}=t,a=o.getImageData(0,0,i,s),l=new Uint8ClampedArray(a.data.buffer);return bo.returnCanvasAndContext(r),{pixels:l,width:i,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const t=Number(e),r=this._bindGroupHash[t];r==null||r.destroy(),this._bindGroupHash[t]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}s_.extension={type:[O.WebGPUSystem],name:"texture"};class a_{init(){const e=new Vt({uTransformMatrix:{value:new be,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),t=fl({name:"graphics",bits:[Op,Mp($s()),W5,ml]});this.shader=new br({gpuProgram:t,resources:{localUniforms:e}})}execute(e,t){const r=t.context,o=r.customShader||this.shader,i=e.renderer,s=i.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(r),c=i.encoder;c.setGeometry(a.geometry,o.gpuProgram);const u=i.globalUniforms.bindGroup;c.setBindGroup(0,u,o.gpuProgram);const d=i.renderPipes.uniformBatch.getUniformBindGroup(o.resources.localUniforms,!0);c.setBindGroup(2,d,o.gpuProgram);const h=l.instructions;let f=null;for(let p=0;p<l.instructionSize;p++){const m=h[p];if(m.topology!==f&&(f=m.topology,c.setPipelineFromGeometryProgramAndState(a.geometry,o.gpuProgram,e.state,m.topology)),o.groups[1]=m.bindGroup,!m.gpuBindGroup){const g=m.textures;m.bindGroup=Bp(g.textures,g.count),m.gpuBindGroup=i.bindGroup.getBindGroup(m.bindGroup,o.gpuProgram,1)}c.setBindGroup(1,m.bindGroup,o.gpuProgram),c.renderPassEncoder.drawIndexed(m.size,1,m.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}a_.extension={type:[O.WebGPUPipesAdaptor],name:"graphics"};class l_{init(){const e=fl({name:"mesh",bits:[Da,K5,ml]});this._shader=new br({gpuProgram:e,resources:{uTexture:ae.EMPTY._source,uSampler:ae.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new be}}}})}execute(e,t){const r=e.renderer;let o=t._shader;if(!o)o=this._shader,o.groups[2]=r.texture.getTextureBindGroup(t.texture);else if(!o.gpuProgram){Ce("Mesh shader has no gpuProgram",t.shader);return}const i=o.gpuProgram;if(i.autoAssignGlobalUniforms&&(o.groups[0]=r.globalUniforms.bindGroup),i.autoAssignLocalUniforms){const s=e.localUniforms;o.groups[1]=r.renderPipes.uniformBatch.getUniformBindGroup(s,!0)}r.encoder.draw({geometry:t._geometry,shader:o,state:t.state})}destroy(){this._shader.destroy(!0),this._shader=null}}l_.extension={type:[O.WebGPUPipesAdaptor],name:"mesh"};const oz=[...j1,J1,Y1,Qp,X1,s_,t_,n_,r_,e_,q1,Z1,K1],iz=[...W1,Q1],sz=[Qy,l_,a_],h6=[],f6=[],p6=[];dt.handleByNamedList(O.WebGPUSystem,h6);dt.handleByNamedList(O.WebGPUPipes,f6);dt.handleByNamedList(O.WebGPUPipesAdaptor,p6);dt.add(...oz,...iz,...sz);class m6 extends nd{constructor(){const e={name:"webgpu",type:qn.WEBGPU,systems:h6,renderPipes:f6,renderPipeAdaptors:p6};super(e)}}const az=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:m6},Symbol.toStringTag,{value:"Module"})),Cw={POINTS:"point-list",LINES:"line-list",LINE_STRIP:"line-strip",TRIANGLES:"triangle-list",TRIANGLE_STRIP:"triangle-strip"},lz=new Proxy(Cw,{get(n,e){return _e(Pe,`DRAW_MODES.${e} is deprecated, use '${Cw[e]}' instead`),n[e]}}),cz=new Qe(0,0,1,1);function uz(n,e,t){t||(t=cz);const r=e.pixelWidth,o=e.pixelHeight;return n.x=t.x*r|0,n.y=t.y*o|0,n.width=t.width*r|0,n.height=t.height*o|0,n}var g6=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(g6||{}),Cf=(n=>(n.CLAMP="clamp-to-edge",n.REPEAT="repeat",n.MIRRORED_REPEAT="mirror-repeat",n))(Cf||{});const dz=new Proxy(Cf,{get(n,e){return _e(Pe,`DRAW_MODES.${e} is deprecated, use '${Cf[e]}' instead`),n[e]}});var Sf=(n=>(n.NEAREST="nearest",n.LINEAR="linear",n))(Sf||{});const hz=new Proxy(Sf,{get(n,e){return _e(Pe,`DRAW_MODES.${e} is deprecated, use '${Sf[e]}' instead`),n[e]}});class fz{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const o=t.width,i=t.height;if(r){const s=e.width/2/o,a=e.height/2/i,l=e.x/o+s,c=e.y/i+a;r=Le.add(r,Le.NW),this.x0=l+s*Le.uX(r),this.y0=c+a*Le.uY(r),r=Le.add(r,2),this.x1=l+s*Le.uX(r),this.y1=c+a*Le.uY(r),r=Le.add(r,2),this.x2=l+s*Le.uX(r),this.y2=c+a*Le.uY(r),r=Le.add(r,2),this.x3=l+s*Le.uX(r),this.y3=c+a*Le.uY(r)}else this.x0=e.x/o,this.y0=e.y/i,this.x1=(e.x+e.width)/o,this.y1=e.y/i,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/i,this.x3=e.x/o,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[pixi.js/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}let pz=0;function mz(){return pz++}function gz(n){const e=n.toString(),t=e.indexOf("{"),r=e.lastIndexOf("}");if(t===-1||r===-1)throw new Error("getFunctionBody: No body found in function definition");return e.slice(t+1,r).trim()}class bz extends ci{constructor(e){typeof e=="function"&&(e={render:e});const{render:t,...r}=e;super({label:"RenderContainer",...r}),this.renderPipeId="customRender",this.batched=!1,t&&(this.render=t),this.containsPoint=e.containsPoint??(()=>!1),this.addBounds=e.addBounds??(()=>!1)}updateBounds(){this._bounds.clear(),this.addBounds(this._bounds)}render(e){}}function vz(n,e,t){const r=n>>16&255,o=n>>8&255,i=n&255,s=e>>16&255,a=e>>8&255,l=e&255,c=r+(s-r)*t,u=o+(a-o)*t,d=i+(l-i)*t;return(c<<16)+(u<<8)+d}function yz(n,e){const t=e._scale,r=e._pivot,o=e._position,i=t._x,s=t._y,a=r._x,l=r._y;n.a=e._cx*i,n.b=e._sx*i,n.c=e._cy*s,n.d=e._sy*s,n.tx=o._x-(a*n.a+l*n.c),n.ty=o._y-(a*n.b+l*n.d)}function _z(n,e,t){const r=n.a,o=n.b,i=n.c,s=n.d,a=n.tx,l=n.ty,c=e.a,u=e.b,d=e.c,h=e.d;t.a=r*c+o*d,t.b=r*u+o*h,t.c=i*c+s*d,t.d=i*u+s*h,t.tx=a*c+l*d+e.tx,t.ty=a*u+l*h+e.ty}class b6{constructor(e,t){this.state=pr.for2d(),this._graphicsBatchesHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init(),this.renderer.renderableGC.addManagedHash(this,"_graphicsBatchesHash")}validateRenderable(e){const t=e.context,r=!!this._graphicsBatchesHash[e.uid],o=this.renderer.graphicsContext.updateGpuContext(t);return!!(o.isBatchable||r!==o.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._graphicsBatchesHash[e.uid];if(t)for(let r=0;r<t.length;r++){const o=t[r];o._batcher.updateElement(o)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context;if(!t.graphicsContext.getGpuContext(r).batches.length)return;const i=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const s=i.resources.localUniforms.uniforms;s.uTransformMatrix=e.groupTransform,s.uRound=t._roundPixels|e._roundPixels,vl(e.groupColorAlpha,s.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=!!this._graphicsBatchesHash[e.uid],r=this.renderer.graphicsContext.updateGpuContext(e.context);t&&this._removeBatchForRenderable(e.uid),r.isBatchable&&this._initBatchesForRenderable(e),e.batched=r.isBatchable}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,o=this._getBatchesForRenderable(e);for(let i=0;i<o.length;i++){const s=o[i];r.addToBatch(s,t)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const t=e.context,r=this.renderer.graphicsContext.getGpuContext(t),o=this.renderer._roundPixels|e._roundPixels,i=r.batches.map(s=>{const a=Ge.get(Up);return s.copyTo(a),a.renderable=e,a.roundPixels=o,a});return this._graphicsBatchesHash[e.uid]===void 0&&e.on("destroyed",this._destroyRenderableBound),this._graphicsBatchesHash[e.uid]=i,i}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach(t=>{Ge.return(t)}),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}b6.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"graphics"};const xz={rectangle:vy,polygon:by,triangle:yy,circle:Xo,ellipse:Xo,roundedRectangle:Xo};function wz(n){n instanceof Hi&&(n={path:n,textureMatrix:null,out:null});const e=[],t=[],r=[],o=n.path.shapePath,i=n.textureMatrix;o.shapePrimitives.forEach(({shape:l,transform:c})=>{const u=r.length,d=e.length/2,h=[],f=xz[l.type];f.build(l,h),c&&$p(h,c),f.triangulate(h,e,2,d,r,u);const p=t.length/2;i?(c&&i.append(c.clone().invert()),fy(e,2,d,t,p,2,e.length/2-d,i)):py(t,p,2,e.length/2-d)});const s=n.out;return s?(s.positions=new Float32Array(e),s.uvs=new Float32Array(t),s.indices=new Uint32Array(r),s):new es({positions:new Float32Array(e),uvs:new Float32Array(t),indices:new Uint32Array(r)})}const v6=class y6 extends es{constructor(...e){super({});let t=e[0]??{};typeof t=="number"&&(_e(Pe,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(t)}build(e){e={...y6.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const t=this.verticesX*this.verticesY,r=[],o=[],i=[],s=this.verticesX-1,a=this.verticesY-1,l=this.width/s,c=this.height/a;for(let d=0;d<t;d++){const h=d%this.verticesX,f=d/this.verticesX|0;r.push(h*l,f*c),o.push(h/s,f/a)}const u=s*a;for(let d=0;d<u;d++){const h=d%s,f=d/s|0,p=f*this.verticesX+h,m=f*this.verticesX+h+1,g=(f+1)*this.verticesX+h,b=(f+1)*this.verticesX+h+1;i.push(p,m,g,m,b,g)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint32Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};v6.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let em=v6;function _6(n,e,t,r){const o=t.buffers[0],i=o.data,{verticesX:s,verticesY:a}=t,l=n/(s-1),c=e/(a-1);let u=0;const d=r[0],h=r[1],f=r[2],p=r[3],m=r[4],g=r[5],b=r[6],_=r[7],v=r[8];for(let y=0;y<i.length;y+=2){const w=u%s*l,S=(u/s|0)*c,C=d*w+h*S+f,k=p*w+m*S+g,E=b*w+_*S+v;i[y]=C/E,i[y+1]=k/E,u++}o.update()}function x6(n,e){const t=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n[0]=s*u-a*c,n[1]=o*c-r*u,n[2]=r*a-o*s,n[3]=a*l-i*u,n[4]=t*u-o*l,n[5]=o*i-t*a,n[6]=i*c-s*l,n[7]=r*l-t*c,n[8]=t*s-r*i,n}function w6(n,e,t){const r=e[0],o=e[1],i=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=t[0],f=t[1],p=t[2],m=t[3],g=t[4],b=t[5],_=t[6],v=t[7],y=t[8];return n[0]=h*r+f*s+p*c,n[1]=h*o+f*a+p*u,n[2]=h*i+f*l+p*d,n[3]=m*r+g*s+b*c,n[4]=m*o+g*a+b*u,n[5]=m*i+g*l+b*d,n[6]=_*r+v*s+y*c,n[7]=_*o+v*a+y*u,n[8]=_*i+v*l+y*d,n}function Cz(n,e,t){const r=t[0],o=t[1],i=t[2];return n[0]=e[0]*r+e[1]*o+e[2]*i,n[1]=e[3]*r+e[4]*o+e[5]*i,n[2]=e[6]*r+e[7]*o+e[8]*i,n}const Sz=[0,0,0,0,0,0,0,0,0],Tz=[0,0,0],nh=[0,0,0];function Sw(n,e,t,r,o,i,s,a,l){const c=Sz;c[0]=e,c[1]=r,c[2]=i,c[3]=t,c[4]=o,c[5]=s,c[6]=1,c[7]=1,c[8]=1;const u=x6(n,c);nh[0]=a,nh[1]=l,nh[2]=1;const d=Cz(Tz,u,nh),h=n;return n[0]=d[0],n[1]=0,n[2]=0,n[3]=0,n[4]=d[1],n[5]=0,n[6]=0,n[7]=0,n[8]=d[2],w6(n,h,c)}const kz=[0,0,0,0,0,0,0,0,0],Ez=[0,0,0,0,0,0,0,0,0];function C6(n,e,t,r,o,i,s,a,l,c,u,d,h,f,p,m,g){const b=Sw(kz,e,t,i,s,c,u,f,p),_=Sw(Ez,r,o,a,l,d,h,m,g);return w6(n,x6(b,b),_)}class S6 extends em{constructor(e){super(e),this._projectionMatrix=[0,0,0,0,0,0,0,0,0];const{width:t,height:r}=e;this.corners=[0,0,t,0,t,r,0,r]}setCorners(e,t,r,o,i,s,a,l){const c=this.corners;c[0]=e,c[1]=t,c[2]=r,c[3]=o,c[4]=i,c[5]=s,c[6]=a,c[7]=l,this.updateProjection()}updateProjection(){const{width:e,height:t}=this,r=this.corners,o=C6(this._projectionMatrix,0,0,r[0],r[1],e,0,r[2],r[3],e,t,r[4],r[5],0,t,r[6],r[7]);_6(e,t,this,o)}}const T6=class k6 extends bl{constructor(e){e={...k6.defaultOptions,...e};const{texture:t,verticesX:r,verticesY:o,...i}=e,s=new S6(Co({width:t.width,height:t.height,verticesX:r,verticesY:o}));super(Co({...i,geometry:s})),this._texture=t,this.geometry.setCorners(e.x0,e.y0,e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}textureUpdated(){const e=this.geometry;if(!e)return;const{width:t,height:r}=this.texture;(e.width!==t||e.height!==r)&&(e.width=t,e.height=r,e.updateProjection())}set texture(e){this._texture!==e&&(super.texture=e,this.textureUpdated())}get texture(){return this._texture}setCorners(e,t,r,o,i,s,a,l){this.geometry.setCorners(e,t,r,o,i,s,a,l)}};T6.defaultOptions={texture:ae.WHITE,verticesX:10,verticesY:10,x0:0,y0:0,x1:100,y1:0,x2:100,y2:100,x3:0,y3:100};let Az=T6;class Pz extends bl{constructor(e){const{texture:t,verticesX:r,verticesY:o,...i}=e,s=new em(Co({width:t.width,height:t.height,verticesX:r,verticesY:o}));super(Co({...i,geometry:s,texture:t})),this.texture=t,this.autoResize=!0}textureUpdated(){const e=this.geometry,{width:t,height:r}=this.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=t,e.height=r,e.build({}))}set texture(e){var t;(t=this._texture)==null||t.off("update",this.textureUpdated,this),super.texture=e,e.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(e){this.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const E6=class A6 extends es{constructor(e){const{width:t,points:r,textureScale:o}={...A6.defaultOptions,...e};super({positions:new Float32Array(r.length*4),uvs:new Float32Array(r.length*4),indices:new Uint32Array((r.length-1)*6)}),this.points=r,this._width=t,this.textureScale=o,this._build()}get width(){return this._width}_build(){const e=this.points;if(!e)return;const t=this.getBuffer("aPosition"),r=this.getBuffer("aUV"),o=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),o.data=new Uint16Array((e.length-1)*6));const i=r.data,s=o.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,u=e.length;for(let h=0;h<u;h++){const f=h*4;if(this.textureScale>0){const p=l.x-e[h].x,m=l.y-e[h].y,g=Math.sqrt(p*p+m*m);l=e[h],a+=g/c}else a=h/(u-1);i[f]=a,i[f+1]=0,i[f+2]=a,i[f+3]=1}let d=0;for(let h=0;h<u-1;h++){const f=h*2;s[d++]=f,s[d++]=f+1,s[d++]=f+2,s[d++]=f+2,s[d++]=f+1,s[d++]=f+3}r.update(),o.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,o=0,i=0;const s=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const u=e[c],d=c*4;c<e.length-1?r=e[c+1]:r=u,i=-(r.x-t.x),o=r.y-t.y;const h=Math.sqrt(o*o+i*i);h<1e-6?(o=0,i=0):(o/=h,i/=h,o*=l,i*=l),s[d]=u.x+o,s[d+1]=u.y+i,s[d+2]=u.x-o,s[d+3]=u.y-i,t=u}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};E6.defaultOptions={width:200,points:[],textureScale:0};let P6=E6;const I6=class R6 extends bl{constructor(e){const{texture:t,points:r,textureScale:o,...i}={...R6.defaultOptions,...e},s=new P6(Co({width:t.height,points:r,textureScale:o}));o>0&&(t.source.style.addressMode="repeat"),super(Co({...i,texture:t,geometry:s})),this.autoUpdate=!0,this.onRender=this._render}_render(){const e=this.geometry;(this.autoUpdate||e._width!==this.texture.height)&&(e._width=this.texture.height,e.update())}};I6.defaultOptions={textureScale:0};let Iz=I6;class Rz extends bl{constructor(e){const{texture:t,vertices:r,uvs:o,indices:i,topology:s,...a}=e,l=new es(Co({positions:r,uvs:o,indices:i,topology:s}));super(Co({...a,texture:t,geometry:l})),this.autoUpdate=!0,this.onRender=this._render}get vertices(){return this.geometry.getBuffer("aPosition").data}set vertices(e){this.geometry.getBuffer("aPosition").data=e}_render(){this.autoUpdate&&this.geometry.getBuffer("aPosition").update()}}class tm{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get uvs(){const t=this.geometry.getBuffer("aUV"),r=t.data;let o=r;const i=this.texture.textureMatrix;return i.isSimple||(o=this._transformedUvs,(this._textureMatrixUpdateId!==i._updateID||this._uvUpdateId!==t._updateID)&&((!o||o.length<r.length)&&(o=this._transformedUvs=new Float32Array(r.length)),this._textureMatrixUpdateId=i._updateID,this._uvUpdateId=t._updateID,i.multiplyUvs(r,o))),o}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}function Bz(n,e){const{width:t,height:r}=n.frame;return e.scale(1/t,1/r),e}class B6{constructor(e,t){this.localUniforms=new Vt({uTransformMatrix:{value:new be,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new go({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init(),e.renderableGC.addManagedHash(this,"_gpuBatchableMeshHash"),e.renderableGC.addManagedHash(this,"_meshDataHash")}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,o=e.batched;if(t.batched=o,r!==o)return!0;if(o){const i=e._geometry;if(i.indices.length!==t.indexSize||i.positions.length!==t.vertexSize)return t.indexSize=i.indices.length,t.vertexSize=i.positions.length,!0;const s=this._getBatchableMesh(e);return!s._batcher.checkAndUpdateTexture(s,e.texture)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,{batched:o}=this._getMeshData(e);if(o){const i=this._getBatchableMesh(e);i.texture=e._texture,i.geometry=e._geometry,r.addToBatch(i,t)}else r.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._gpuBatchableMeshHash[e.uid];t.texture=e._texture,t.geometry=e._geometry,t._batcher.updateElement(t)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const t=this._gpuBatchableMeshHash[e.uid];t&&(Ge.return(t),this._gpuBatchableMeshHash[e.uid]=null),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;e.state.blendMode=Xa(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),vl(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){var t,r;return this._meshDataHash[e.uid]={batched:e.batched,indexSize:(t=e._geometry.indices)==null?void 0:t.length,vertexSize:(r=e._geometry.positions)==null?void 0:r.length},e.on("destroyed",this._destroyRenderableBound),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=Ge.get(tm);return t.renderable=e,t.texture=e._texture,t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=t,t}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&Ge.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}B6.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"mesh"};class O6{execute(e,t){const r=e.state,o=e.renderer,i=t.shader||e.defaultShader;i.resources.uTexture=t.texture._source,i.resources.uniforms=e.localUniforms;const s=o.gl,a=e.getBuffers(t);o.shader.bind(i),o.state.set(r),o.geometry.bind(a.geometry,i.glProgram);const c=a.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,t.particleChildren.length*6,c,0)}}class D6{execute(e,t){const r=e.renderer,o=t.shader||e.defaultShader;o.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),o.groups[1]=r.texture.getTextureBindGroup(t.texture);const i=e.state,s=e.getBuffers(t);r.encoder.draw({geometry:s.geometry,shader:t.shader||e.defaultShader,state:i,size:t.particleChildren.length*6})}}function Jb(n,e=null){const t=n*6;if(t>65535?e||(e=new Uint32Array(t)):e||(e=new Uint16Array(t)),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,o=0;r<t;r+=6,o+=4)e[r+0]=o+0,e[r+1]=o+1,e[r+2]=o+2,e[r+3]=o+0,e[r+4]=o+2,e[r+5]=o+3;return e}function M6(n){return{dynamicUpdate:Tw(n,!0),staticUpdate:Tw(n,!1)}}function Tw(n,e){const t=[];t.push(`
      
        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let r=0;for(const i in n){const s=n[i];if(e!==s.dynamic)continue;t.push(`offset = index + ${r}`),t.push(s.code);const a=Qo(s.format);r+=a.stride/4}t.push(`
            index += stride * 4;
        }
    `),t.unshift(`
        var stride = ${r};
    `);const o=t.join(`
`);return new Function("ps","f32v","u32v",o)}class F6{constructor(e){this._size=0,this._generateParticleUpdateCache={};const t=this._size=e.size??1e3,r=e.properties;let o=0,i=0;for(const u in r){const d=r[u],h=Qo(d.format);d.dynamic?i+=h.stride:o+=h.stride}this._dynamicStride=i/4,this._staticStride=o/4,this.staticAttributeBuffer=new ps(t*4*o),this.dynamicAttributeBuffer=new ps(t*4*i),this.indexBuffer=Jb(t);const s=new Us;let a=0,l=0;this._staticBuffer=new Mn({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:Ne.VERTEX|Ne.COPY_DST}),this._dynamicBuffer=new Mn({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:Ne.VERTEX|Ne.COPY_DST});for(const u in r){const d=r[u],h=Qo(d.format);d.dynamic?(s.addAttribute(d.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:a*4,format:d.format}),a+=h.size):(s.addAttribute(d.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:l*4,format:d.format}),l+=h.size)}s.addIndex(this.indexBuffer);const c=this.getParticleUpdate(r);this._dynamicUpload=c.dynamicUpdate,this._staticUpload=c.staticUpdate,this.geometry=s}getParticleUpdate(e){const t=Oz(e);return this._generateParticleUpdateCache[t]?this._generateParticleUpdateCache[t]:(this._generateParticleUpdateCache[t]=this.generateParticleUpdate(e),this._generateParticleUpdateCache[t])}generateParticleUpdate(e){return M6(e)}update(e,t){e.length>this._size&&(t=!0,this._size=Math.max(e.length,this._size*1.5|0),this.staticAttributeBuffer=new ps(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new ps(this._size*this._dynamicStride*4*4),this.indexBuffer=Jb(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),t){const o=this.staticAttributeBuffer;this._staticUpload(e,o.float32View,o.uint32View),this._staticBuffer.setDataWithSize(o.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function Oz(n){const e=[];for(const t in n){const r=n[t];e.push(t,r.code,r.dynamic?"d":"s")}return e.join("_")}var L6=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,N6=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,Qb=`
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;class $6 extends br{constructor(){const e=gr.from({vertex:N6,fragment:L6}),t=Jn.from({fragment:{source:Qb,entryPoint:"mainFragment"},vertex:{source:Qb,entryPoint:"mainVertex"}});super({glProgram:e,gpuProgram:t,resources:{uTexture:ae.WHITE.source,uSampler:new zv({}),uniforms:{uTranslationMatrix:{value:new be,type:"mat3x3<f32>"},uColor:{value:new Ke(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class c_{constructor(e,t){this.state=pr.for2d(),this._gpuBufferHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.localUniforms=new Vt({uTranslationMatrix:{value:new be,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=t,this.defaultShader=new $6,this.state=pr.for2d()}validateRenderable(e){return!1}addRenderable(e,t){this.renderer.renderPipes.batch.break(t),t.add(e)}getBuffers(e){return this._gpuBufferHash[e.uid]||this._initBuffer(e)}_initBuffer(e){return this._gpuBufferHash[e.uid]=new F6({size:e.particleChildren.length,properties:e._properties}),e.on("destroyed",this._destroyRenderableBound),this._gpuBufferHash[e.uid]}updateRenderable(e){}destroyRenderable(e){this._gpuBufferHash[e.uid].destroy(),this._gpuBufferHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}execute(e){const t=e.particleChildren;if(t.length===0)return;const r=this.renderer,o=this.getBuffers(e);e.texture||(e.texture=t[0].texture);const i=this.state;o.update(t,e._childrenDirty),e._childrenDirty=!1,i.blendMode=Xa(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,a=s.uTranslationMatrix;e.worldTransform.copyTo(a),a.prepend(r.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=r.globalUniforms.globalUniformData.resolution,s.uRound=r._roundPixels|e._roundPixels,vl(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class U6 extends c_{constructor(e){super(e,new O6)}}U6.extension={type:[O.WebGLPipes],name:"particle"};class G6 extends c_{constructor(e){super(e,new D6)}}G6.extension={type:[O.WebGPUPipes],name:"particle"};const V6=class e0{constructor(e){if(e instanceof ae)this.texture=e,cf(this,e0.defaultOptions,{});else{const t={...e0.defaultOptions,...e};cf(this,t,{})}}get alpha(){return this._alpha}set alpha(e){this._alpha=Math.min(Math.max(e,0),1),this._updateColor()}get tint(){return Ea(this._tint)}set tint(e){typeof e=="number"?this._tint=e:this._tint=Ke.shared.setValue(e??16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+((this._alpha*255|0)<<24)}};V6.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let Dz=V6;const t0={vertex:{attributeName:"aVertex",format:"float32x2",code:`
            const texture = p.texture;
            const sx = p.scaleX;
            const sy = p.scaleY;
            const ax = p.anchorX;
            const ay = p.anchorY;
            const trim = texture.trim;
            const orig = texture.orig;

            if (trim)
            {
                w1 = trim.x - (ax * orig.width);
                w0 = w1 + trim.width;

                h1 = trim.y - (ay * orig.height);
                h0 = h1 + trim.height;
            }
            else
            {
                w1 = -ax * (orig.width);
                w0 = w1 + orig.width;

                h1 = -ay * (orig.height);
                h0 = h1 + orig.height;
            }

            f32v[offset] = w1 * sx;
            f32v[offset + 1] = h1 * sy;

            f32v[offset + stride] = w0 * sx;
            f32v[offset + stride + 1] = h1 * sy;

            f32v[offset + (stride * 2)] = w0 * sx;
            f32v[offset + (stride * 2) + 1] = h0 * sy;

            f32v[offset + (stride * 3)] = w1 * sx;
            f32v[offset + (stride * 3) + 1] = h0 * sy;
        `,dynamic:!1},position:{attributeName:"aPosition",format:"float32x2",code:`
            var x = p.x;
            var y = p.y;

            f32v[offset] = x;
            f32v[offset + 1] = y;

            f32v[offset + stride] = x;
            f32v[offset + stride + 1] = y;

            f32v[offset + (stride * 2)] = x;
            f32v[offset + (stride * 2) + 1] = y;

            f32v[offset + (stride * 3)] = x;
            f32v[offset + (stride * 3) + 1] = y;
        `,dynamic:!0},rotation:{attributeName:"aRotation",format:"float32",code:`
            var rotation = p.rotation;

            f32v[offset] = rotation;
            f32v[offset + stride] = rotation;
            f32v[offset + (stride * 2)] = rotation;
            f32v[offset + (stride * 3)] = rotation;
        `,dynamic:!1},uvs:{attributeName:"aUV",format:"float32x2",code:`
            var uvs = p.texture.uvs;

            f32v[offset] = uvs.x0;
            f32v[offset + 1] = uvs.y0;

            f32v[offset + stride] = uvs.x1;
            f32v[offset + stride + 1] = uvs.y1;

            f32v[offset + (stride * 2)] = uvs.x2;
            f32v[offset + (stride * 2) + 1] = uvs.y2;

            f32v[offset + (stride * 3)] = uvs.x3;
            f32v[offset + (stride * 3) + 1] = uvs.y3;
        `,dynamic:!1},color:{attributeName:"aColor",format:"unorm8x4",code:`
            const c = p.color;

            u32v[offset] = c;
            u32v[offset + stride] = c;
            u32v[offset + (stride * 2)] = c;
            u32v[offset + (stride * 3)] = c;
        `,dynamic:!1}},Mz=new un(0,0,0,0),z6=class n0 extends ci{constructor(e={}){e={...n0.defaultOptions,...e,dynamicProperties:{...n0.defaultOptions.dynamicProperties,...e==null?void 0:e.dynamicProperties}};const{dynamicProperties:t,shader:r,roundPixels:o,texture:i,particles:s,...a}=e;super({label:"ParticleContainer",...a}),this.renderPipeId="particle",this.batched=!1,this._childrenDirty=!1,this.texture=i||null,this.shader=r,this._properties={};for(const l in t0){const c=t0[l],u=t[l];this._properties[l]={...c,dynamic:u}}this.allowChildren=!0,this.roundPixels=o??!1,this.particleChildren=s??[]}addParticle(...e){for(let t=0;t<e.length;t++)this.particleChildren.push(e[t]);return this.onViewUpdate(),e[0]}removeParticle(...e){let t=!1;for(let r=0;r<e.length;r++){const o=this.particleChildren.indexOf(e[r]);o>-1&&(this.particleChildren.splice(o,1),t=!0)}return t&&this.onViewUpdate(),e[0]}update(){this._childrenDirty=!0}onViewUpdate(){this._childrenDirty=!0,super.onViewUpdate()}get bounds(){return Mz}updateBounds(){}destroy(e=!1){var r,o;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.textureSource,s=this.texture??((r=this.particleChildren[0])==null?void 0:r.texture);s&&s.destroy(i)}this.texture=null,(o=this.shader)==null||o.destroy()}removeParticles(e,t){const r=this.particleChildren.splice(e,t);return this.onViewUpdate(),r}removeParticleAt(e){const t=this.particleChildren.splice(e,1);return this.onViewUpdate(),t[0]}addParticleAt(e,t){return this.particleChildren.splice(t,0,e),this.onViewUpdate(),e}addChild(...e){throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")}removeChild(...e){throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")}removeChildren(e,t){throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")}removeChildAt(e){throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")}getChildAt(e){throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")}setChildIndex(e,t){throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")}getChildIndex(e){throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")}addChildAt(e,t){throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")}swapChildren(e,t){throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")}reparentChild(...e){throw new Error("ParticleContainer.reparentChild() is not available with the particle container")}reparentChildAt(e,t){throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")}};z6.defaultOptions={dynamicProperties:{vertex:!1,position:!0,rotation:!1,uvs:!1,color:!1},roundPixels:!1};let Fz=z6;const H6=class j6 extends em{constructor(e={}){e={...j6.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,t=this._leftWidth+this._rightWidth,r=this.width>t?1:this.width/t,o=this._topHeight+this._bottomHeight,i=this.height>o?1:this.height/o,s=Math.min(r,i);e[9]=e[11]=e[13]=e[15]=this._topHeight*s,e[17]=e[19]=e[21]=e[23]=this.height-this._bottomHeight*s,e[25]=e[27]=e[29]=e[31]=this.height,e[2]=e[10]=e[18]=e[26]=this._leftWidth*s,e[4]=e[12]=e[20]=e[28]=this.width-this._rightWidth*s,e[6]=e[14]=e[22]=e[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};H6.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let Ti=H6;const W6=class K6 extends ci{constructor(e){var d,h,f,p;e instanceof ae&&(e={texture:e});const{width:t,height:r,leftWidth:o,rightWidth:i,topHeight:s,bottomHeight:a,texture:l,roundPixels:c,...u}=e;super({label:"NineSliceSprite",...u}),this.renderPipeId="nineSliceSprite",this.batched=!0,this._leftWidth=o??((d=l==null?void 0:l.defaultBorders)==null?void 0:d.left)??Ti.defaultOptions.leftWidth,this._topHeight=s??((h=l==null?void 0:l.defaultBorders)==null?void 0:h.top)??Ti.defaultOptions.topHeight,this._rightWidth=i??((f=l==null?void 0:l.defaultBorders)==null?void 0:f.right)??Ti.defaultOptions.rightWidth,this._bottomHeight=a??((p=l==null?void 0:l.defaultBorders)==null?void 0:p.bottom)??Ti.defaultOptions.bottomHeight,this.bounds.maxX=this._width=t??l.width??Ti.defaultOptions.width,this.bounds.maxY=this._height=r??l.height??Ti.defaultOptions.height,this.allowChildren=!1,this.texture=l??K6.defaultOptions.texture,this.roundPixels=c??!1}updateBounds(){}get width(){return this._width}set width(e){this.bounds.maxX=this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this.bounds.maxY=this._height=e,this.onViewUpdate()}setSize(e,t){typeof e=="object"&&(t=e.height??e.width,e=e.width),this.bounds.maxX=this._width=e,this.bounds.maxY=this._height=t??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=ae.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}destroy(e){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null}};W6.defaultOptions={texture:ae.EMPTY};let X6=W6;class Lz extends X6{constructor(...e){let t=e[0];t instanceof ae&&(_e(Pe,"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}"),t={texture:t,leftWidth:e[1],topHeight:e[2],rightWidth:e[3],bottomHeight:e[4]}),_e(Pe,"NineSlicePlane is deprecated. Use NineSliceSprite instead."),super(t)}}class q6{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];Ge.return(t.geometry),Ge.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){t.geometry.update(e),t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=Ge.get(tm);return t.geometry=Ge.get(Ti),t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e.didViewUpdate||this._updateBatchableSprite(e,t),e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}q6.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"nineSliceSprite"};const Y6={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},Z6={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `}};let cg,ug;class J6 extends br{constructor(){cg??(cg=fl({name:"tiling-sprite-shader",bits:[Da,Y6,ml]})),ug??(ug=pl({name:"tiling-sprite-shader",bits:[qp,Z6,gl]}));const e=new Vt({uMapCoord:{value:new be,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new be,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:ug,gpuProgram:cg,resources:{localUniforms:new Vt({uTransformMatrix:{value:new be,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:ae.EMPTY.source,uSampler:ae.EMPTY.source.style}})}updateUniforms(e,t,r,o,i,s){const a=this.resources.tilingUniforms,l=s.width,c=s.height,u=s.textureMatrix,d=a.uniforms.uTextureTransform;d.set(r.a*l/e,r.b*l/t,r.c*c/e,r.d*c/t,r.tx/e,r.ty/t),d.invert(),a.uniforms.uMapCoord=u.mapCoord,a.uniforms.uClampFrame=u.uClampFrame,a.uniforms.uClampOffset=u.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=o,a.uniforms.uSizeAnchor[3]=i,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class Q6 extends es{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function e8(n,e){const t=n.anchor.x,r=n.anchor.y;e[0]=-t*n.width,e[1]=-r*n.height,e[2]=(1-t)*n.width,e[3]=-r*n.height,e[4]=(1-t)*n.width,e[5]=(1-r)*n.height,e[6]=-t*n.width,e[7]=(1-r)*n.height}function t8(n,e,t,r){let o=0;const i=n.length/(e||2),s=r.a,a=r.b,l=r.c,c=r.d,u=r.tx,d=r.ty;for(t*=e;o<i;){const h=n[t],f=n[t+1];n[t]=s*h+l*f+u,n[t+1]=a*h+c*f+d,t+=e,o++}}function n8(n,e){const t=n.texture,r=t.frame.width,o=t.frame.height;let i=0,s=0;n.applyAnchorToTexture&&(i=n.anchor.x,s=n.anchor.y),e[0]=e[6]=-i,e[2]=e[4]=1-i,e[1]=e[3]=-s,e[5]=e[7]=1-s;const a=be.shared;a.copyFrom(n._tileTransform.matrix),a.tx/=n.width,a.ty/=n.height,a.invert(),a.scale(n.width/r,n.height/o),t8(e,2,0,a)}const rh=new Q6;class r8{constructor(e){this._state=pr.default2d,this._tilingSpriteDataHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_tilingSpriteDataHash")}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const o=t.canBatch;if(o&&o===r){const{batchableMesh:i}=t;return!i._batcher.checkAndUpdateTexture(i,e.texture)}return r!==o}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const o=this._getTilingSpriteData(e),{geometry:i,canBatch:s}=o;if(s){o.batchableMesh||(o.batchableMesh=new tm);const a=o.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),a.geometry=i,a.renderable=e,a.transform=e.groupTransform,a.texture=e._texture),a.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(a,t)}else r.break(t),o.shader||(o.shader=new J6),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._tilingSpriteDataHash[e.uid];t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,vl(e.groupColorAlpha,r.uColor,0),this._state.blendMode=Xa(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:rh,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:o}=t;e.didViewUpdate&&this._updateBatchableMesh(e),o._batcher.updateElement(o)}else if(e.didViewUpdate){const{shader:o}=t;o.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}destroyRenderable(e){var r;const t=this._getTilingSpriteData(e);t.batchableMesh=null,(r=t.shader)==null||r.destroy(),this._tilingSpriteDataHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new es({indices:rh.indices,positions:rh.positions.slice(),uvs:rh.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:t},e.on("destroyed",this._destroyRenderableBound),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,o=e.texture.source.style;o.addressMode!=="repeat"&&(o.addressMode="repeat",o.update()),n8(e,r.uvs),e8(e,r.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let o=!0;return this._renderer.type===qn.WEBGL&&(o=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(o||r.source.isPowerOfTwo),t.canBatch}}r8.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"tilingSprite"};const o8={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:` 
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},i8={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:` 
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},s8={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;
             
            }
        `}},a8={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);  
              
                return coverage;
            }
        `}};let dg,hg;class l8 extends br{constructor(){const e=new Vt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new be,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),t=$s();dg??(dg=fl({name:"sdf-shader",bits:[Op,Mp(t),o8,s8,ml]})),hg??(hg=pl({name:"sdf-shader",bits:[Dp,Fp(t),i8,a8,gl]})),super({glProgram:hg,gpuProgram:dg,resources:{localUniforms:e,batchSamplers:Lp(t)}})}}class c8{constructor(e){this._gpuBitmapText={},this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const t=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,t)),this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);kw(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const t=this._gpuBitmapText[e].context;t.customShader&&(Ge.return(t.customShader),t.customShader=null),Ge.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const t=this._getGpuBitmapText(e);kw(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:r}=t,o=Hc.getFont(e.text,e._style);r.clear(),o.distanceField.type!=="none"&&(r.customShader||(r.customShader=Ge.get(l8)));const i=Array.from(e.text),s=e._style;let a=o.baseLineOffset;const l=Ay(i,s,o,!0);let c=0;const u=s.padding,d=l.scale;let h=l.width,f=l.height+l.offsetY;s._stroke&&(h+=s._stroke.width/d,f+=s._stroke.width/d),r.translate(-e._anchor._x*h-u,-e._anchor._y*f-u).scale(d,d);const p=o.applyFillAsTint?s._fill.color:16777215;for(let m=0;m<l.lines.length;m++){const g=l.lines[m];for(let b=0;b<g.charPositions.length;b++){const _=i[c++],v=o.chars[_];v!=null&&v.texture&&r.texture(v.texture,p||"black",Math.round(g.charPositions[b]+v.xOffset),Math.round(a+v.yOffset))}a+=o.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const t=Ge.get(ho);return this._gpuBitmapText[e.uid]=t,this._updateContext(e,t),e.on("destroyed",this._destroyRenderableBound),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,r=e._style.fontFamily,o=ut.get(`${r}-bitmap`),{a:i,b:s,c:a,d:l}=e.groupTransform,c=Math.sqrt(i*i+s*s),u=Math.sqrt(a*a+l*l),d=(Math.abs(c)+Math.abs(u))/2,h=o.baseRenderedFontSize/e._style.fontSize,f=d*o.distanceField.range*(1/h);t.customShader.resources.localUniforms.uniforms.uDistance=f}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}c8.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"bitmapText"};function kw(n,e){e.groupTransform=n.groupTransform,e.groupColorAlpha=n.groupColorAlpha,e.groupColor=n.groupColor,e.groupBlendMode=n.groupBlendMode,e.globalDisplayStatus=n.globalDisplayStatus,e.groupTransform=n.groupTransform,e.localDisplayStatus=n.localDisplayStatus,e.groupAlpha=n.groupAlpha,e._roundPixels=n._roundPixels}class u8{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.textureNeedsUploading?(t.textureNeedsUploading=!1,!0):t.currentKey!==r}addRenderable(e,t){const o=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(o,t)}updateRenderable(e){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),r._batcher.updateElement(r)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(t.currentKey),Ge.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),o=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e).catch(s=>{console.error(s)}),e._didTextUpdate=!1;const i=e._style.padding;Bc(o.bounds,e._anchor,o.texture,i)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;const r=e._getKey();this._renderer.htmlText.decreaseReferenceCount(t.currentKey),t.generatingTexture=!0,t.currentKey=r;const o=e.resolution??this._renderer.resolution,i=await this._renderer.htmlText.getManagedTexture(e.text,o,e._style,e._getKey()),s=t.batchableSprite;s.texture=t.texture=i,t.generatingTexture=!1,t.textureNeedsUploading=!0,e.onViewUpdate();const a=e._style.padding;Bc(s.bounds,e._anchor,s.texture,a)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:ae.EMPTY,currentKey:"--",batchableSprite:Ge.get(pd),textureNeedsUploading:!1,generatingTexture:!1},r=t.batchableSprite;return r.renderable=e,r.transform=e.groupTransform,r.texture=ae.EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._gpuText[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}u8.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"htmlText"};function d8(){const{userAgent:n}=Ve.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(n)}const Nz=new un;function u_(n,e,t,r){const o=Nz;o.minX=0,o.minY=0,o.maxX=n.width/r|0,o.maxY=n.height/r|0;const i=Lt.getOptimalTexture(o.width,o.height,r,!1);return i.source.uploadMethodId="image",i.source.resource=n,i.source.alphaMode="premultiply-alpha-on-upload",i.frame.width=e/r,i.frame.height=t/r,i.source.emit("update",i.source),i.updateUvs(),i}function h8(n,e){const t=e.fontFamily,r=[],o={},i=/font-family:([^;"\s]+)/g,s=n.match(i);function a(l){o[l]||(r.push(l),o[l]=!0)}if(Array.isArray(t))for(let l=0;l<t.length;l++)a(t[l]);else a(t);s&&s.forEach(l=>{const c=l.split(":")[1].trim();a(c)});for(const l in e.tagStyles){const c=e.tagStyles[l].fontFamily;a(c)}return r}async function f8(n){const t=await(await Ve.get().fetch(n)).blob(),r=new FileReader;return await new Promise((i,s)=>{r.onloadend=()=>i(r.result),r.onerror=s,r.readAsDataURL(t)})}async function r0(n,e){const t=await f8(e);return`@font-face {
        font-family: "${n.fontFamily}";
        src: url('${t}');
        font-weight: ${n.fontWeight};
        font-style: ${n.fontStyle};
    }`}const Zl=new Map;async function p8(n,e,t){const r=n.filter(o=>ut.has(`${o}-and-url`)).map((o,i)=>{if(!Zl.has(o)){const{url:s}=ut.get(`${o}-and-url`);i===0?Zl.set(o,r0({fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:o},s)):Zl.set(o,r0({fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:o},s))}return Zl.get(o)});return(await Promise.all(r)).join(`
`)}function m8(n,e,t,r,o){const{domElement:i,styleElement:s,svgRoot:a}=o;i.innerHTML=`<style>${e.cssStyle}</style><div style='padding:0;'>${n}</div>`,i.setAttribute("style",`transform: scale(${t});transform-origin: top left; display: inline-block`),s.textContent=r;const{width:l,height:c}=o.image;return a.setAttribute("width",l.toString()),a.setAttribute("height",c.toString()),new XMLSerializer().serializeToString(a)}function g8(n,e){const t=bo.getOptimalCanvasAndContext(n.width,n.height,e),{context:r}=t;return r.clearRect(0,0,n.width,n.height),r.drawImage(n,0,0),t}function b8(n,e,t){return new Promise(async r=>{t&&await new Promise(o=>setTimeout(o,100)),n.onload=()=>{r()},n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,n.crossOrigin="anonymous"})}class d_{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===qn.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,t,r,o){if(this._activeTextures[o])return this._increaseReferenceCount(o),this._activeTextures[o].promise;const i=this._buildTexturePromise(e,t,r).then(s=>(this._activeTextures[o].texture=s,s));return this._activeTextures[o]={texture:null,promise:i,usageCount:1},i}async _buildTexturePromise(e,t,r){const o=Ge.get(Yy),i=h8(e,r),s=await p8(i,r,Rs.defaultTextStyle),a=Zy(e,r,s,o),l=Math.ceil(Math.ceil(Math.max(1,a.width)+r.padding*2)*t),c=Math.ceil(Math.ceil(Math.max(1,a.height)+r.padding*2)*t),u=o.image,d=2;u.width=(l|0)+d,u.height=(c|0)+d;const h=m8(e,r,t,s,o);await b8(u,h,d8()&&i.length>0);const f=u;let p;this._createCanvas&&(p=g8(u,t));const m=u_(p?p.canvas:f,u.width-d,u.height-d,t);return this._createCanvas&&(this._renderer.texture.initSource(m.source),bo.returnCanvasAndContext(p)),Ge.return(o),m}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,t.usageCount===0&&(t.texture?this._cleanUp(t):t.promise.then(r=>{t.texture=r,this._cleanUp(t)}).catch(()=>{Ce("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}_cleanUp(e){Lt.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}d_.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"htmlText"};d_.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"};class v8{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.currentKey!==r}addRenderable(e,t){const o=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(o,t)}updateRenderable(e){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),r._batcher.updateElement(r)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(t.currentKey),Ge.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),o=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e),e._didTextUpdate=!1;const i=e._style.padding;Bc(o.bounds,e._anchor,o.texture,i)}_updateGpuText(e){const t=this._getGpuText(e),r=t.batchableSprite;t.texture&&this._renderer.canvasText.decreaseReferenceCount(t.currentKey),t.texture=r.texture=this._renderer.canvasText.getManagedTexture(e),t.currentKey=e._getKey(),r.texture=t.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:null,currentKey:"--",batchableSprite:Ge.get(pd)};return t.batchableSprite.renderable=e,t.batchableSprite.transform=e.groupTransform,t.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},t.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=t,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._updateText(e),e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}v8.extension={type:[O.WebGLPipes,O.WebGPUPipes,O.CanvasPipes],name:"text"};function Ew(n,e,t){for(let r=0,o=4*t*e;r<e;++r,o+=4)if(n[o+3]!==0)return!1;return!0}function Aw(n,e,t,r,o){const i=4*e;for(let s=r,a=r*i+4*t;s<=o;++s,a+=i)if(n[a+3]!==0)return!1;return!0}function y8(n,e=1){const{width:t,height:r}=n,o=n.getContext("2d",{willReadFrequently:!0});if(o===null)throw new TypeError("Failed to get canvas 2D context");const s=o.getImageData(0,0,t,r).data;let a=0,l=0,c=t-1,u=r-1;for(;l<r&&Ew(s,t,l);)++l;if(l===r)return Qe.EMPTY;for(;Ew(s,t,u);)--u;for(;Aw(s,t,a,l,u);)++a;for(;Aw(s,t,c,l,u);)--c;return++c,++u,new Qe(a/e,l/e,(c-a)/e,(u-l)/e)}class _8{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,t,r){const o=co.measureText(e||" ",r);let i=Math.ceil(Math.ceil(Math.max(1,o.width)+r.padding*2)*t),s=Math.ceil(Math.ceil(Math.max(1,o.height)+r.padding*2)*t);return i=Math.ceil(i-1e-6),s=Math.ceil(s-1e-6),i=Es(i),s=Es(s),{width:i,height:s}}getTexture(e,t,r,o){typeof e=="string"&&(_e("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof Yn||(e.style=new Yn(e.style));const{texture:i,canvasAndContext:s}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(i._source),bo.returnCanvasAndContext(s),i}createTextureAndCanvas(e){const{text:t,style:r}=e,o=e.resolution??this._renderer.resolution,i=co.measureText(t||" ",r),s=Math.ceil(Math.ceil(Math.max(1,i.width)+r.padding*2)*o),a=Math.ceil(Math.ceil(Math.max(1,i.height)+r.padding*2)*o),l=bo.getOptimalCanvasAndContext(s,a),{canvas:c}=l;this.renderTextToCanvas(t,r,o,l);const u=u_(c,s,a,o);if(r.trim){const d=y8(c,o);u.frame.copyFrom(d),u.updateUvs()}return{texture:u,canvasAndContext:l}}getManagedTexture(e){e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const t=e._getKey();if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].texture;const{texture:r,canvasAndContext:o}=this.createTextureAndCanvas(e);return this._activeTextures[t]={canvasAndContext:o,texture:r,usageCount:1},r}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];if(t.usageCount--,t.usageCount===0){bo.returnCanvasAndContext(t.canvasAndContext),Lt.returnTexture(t.texture);const r=t.texture.source;r.resource=null,r.uploadMethodId="unknown",r.alphaMode="no-premultiply-alpha",this._activeTextures[e]=null}}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,t,r,o){var _,v,y,w;const{canvas:i,context:s}=o,a=Vc(t),l=co.measureText(e||" ",t),c=l.lines,u=l.lineHeight,d=l.lineWidths,h=l.maxLineWidth,f=l.fontProperties,p=i.height;if(s.resetTransform(),s.scale(r,r),s.textBaseline=t.textBaseline,(_=t._stroke)!=null&&_.width){const S=t._stroke;s.lineWidth=S.width,s.miterLimit=S.miterLimit,s.lineJoin=S.join,s.lineCap=S.cap}s.font=a;let m,g;const b=t.dropShadow?2:1;for(let S=0;S<b;++S){const C=t.dropShadow&&S===0,k=C?Math.ceil(Math.max(1,p)+t.padding*2):0,E=k*r;if(C){s.fillStyle="black",s.strokeStyle="black";const I=t.dropShadow,$=I.color,V=I.alpha;s.shadowColor=Ke.shared.setValue($).setAlpha(V).toRgbaString();const ee=I.blur*r,F=I.distance*r;s.shadowBlur=ee,s.shadowOffsetX=Math.cos(I.angle)*F,s.shadowOffsetY=Math.sin(I.angle)*F+E}else s.fillStyle=t._fill?zc(t._fill,s):null,(v=t._stroke)!=null&&v.width&&(s.strokeStyle=zc(t._stroke,s)),s.shadowColor="black";let A=(u-f.fontSize)/2;u-f.fontSize<0&&(A=0);const P=((y=t._stroke)==null?void 0:y.width)??0;for(let I=0;I<c.length;I++)m=P/2,g=P/2+I*u+f.ascent+A,t.align==="right"?m+=h-d[I]:t.align==="center"&&(m+=(h-d[I])/2),(w=t._stroke)!=null&&w.width&&this._drawLetterSpacing(c[I],t,o,m+t.padding,g+t.padding-k,!0),t._fill!==void 0&&this._drawLetterSpacing(c[I],t,o,m+t.padding,g+t.padding-k)}}_drawLetterSpacing(e,t,r,o,i,s=!1){const{context:a}=r,l=t.letterSpacing;let c=!1;if(co.experimentalLetterSpacingSupported&&(co.experimentalLetterSpacing?(a.letterSpacing=`${l}px`,a.textLetterSpacing=`${l}px`,c=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),l===0||c){s?a.strokeText(e,o,i):a.fillText(e,o,i);return}let u=o;const d=co.graphemeSegmenter(e);let h=a.measureText(e).width,f=0;for(let p=0;p<d.length;++p){const m=d[p];s?a.strokeText(m,u,i):a.fillText(m,u,i);let g="";for(let b=p+1;b<d.length;++b)g+=d[b];f=a.measureText(g).width,u+=h-f+l,h=f}}destroy(){this._activeTextures=null}}_8.extension={type:[O.WebGLSystem,O.WebGPUSystem,O.CanvasSystem],name:"canvasText"};function $z(n,e){return e instanceof Yn||e instanceof Rs?e:n==="html"?new Rs(e):new Yn(e)}async function Uz(n,e,t=200){const r=await e.extract.base64(n);await e.encoder.commandFinished;const o=t;console.log(`logging texture ${n.source.width}px ${n.source.height}px`);const i=["font-size: 1px;",`padding: ${o}px 300px;`,`background: url(${r}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",i)}const Gz=["#000080","#228B22","#8B0000","#4169E1","#008080","#800000","#9400D3","#FF8C00","#556B2F","#8B008B"];let Vz=0;function x8(n,e=0,t={color:"#000000"}){n.renderGroup&&(t.color=Gz[Vz++]);let r="";for(let s=0;s<e;s++)r+="    ";let o=n.label;!o&&n instanceof Kr&&(o=`sprite:${n.texture.label}`);let i=`%c ${r}|- ${o} (worldX:${n.worldTransform.tx}, relativeRenderX:${n.relativeGroupTransform.tx}, renderX:${n.groupTransform.tx}, localX:${n.x})`;n.renderGroup&&(i+=" (RenderGroup)"),n.filters&&(i+="(*filters)"),console.log(i,`color:${t.color}; font-weight:bold;`),e++;for(let s=0;s<n.children.length;s++){const a=n.children[s];x8(a,e,{...t})}}function w8(n,e=0,t={index:0,color:"#000000"}){let r="";for(let i=0;i<e;i++)r+="    ";const o=`%c ${r}- ${t.index}: ${n.root.label} worldX:${n.worldTransform.tx}`;console.log(o,`color:${t.color}; font-weight:bold;`),e++;for(let i=0;i<n.renderGroupChildren.length;i++){const s=n.renderGroupChildren[i];w8(s,e,{...t,index:i})}}dt.add(lk,ck);const zz=Object.freeze(Object.defineProperty({__proto__:null,AbstractBitmapFont:dy,AbstractRenderer:nd,AbstractText:Kp,AccessibilitySystem:Zk,AlphaFilter:sV,AlphaMask:Zv,AlphaMaskPipe:n1,AnimatedSprite:qc,Application:uy,ApplicationInitHook:ly,Assets:Yl,AssetsClass:h4,BLEND_TO_NPM:QE,BUFFER_TYPE:mc,BackgroundLoader:HA,BackgroundSystem:UP,Batch:tA,BatchGeometry:sA,BatchTextureArray:eA,BatchableGraphics:Up,BatchableMesh:tm,BatchableSprite:pd,Batcher:oA,BatcherPipe:t1,BigPool:Ge,BindGroup:go,BindGroupSystem:K1,BitmapFont:Py,BitmapFontManager:Hc,BitmapText:N5,BitmapTextPipe:c8,BlendModeFilter:Mt,BlendModePipe:L1,BlurFilter:m5,BlurFilterPass:Eh,Bounds:un,BrowserAdapter:$k,Buffer:Mn,BufferImageSource:bp,BufferResource:Yp,BufferUsage:Ne,CLEAR:zn,Cache:ut,CanvasPool:bo,CanvasPoolClass:$A,CanvasSource:Zo,CanvasTextMetrics:co,CanvasTextPipe:v8,CanvasTextSystem:_8,Circle:Pp,Color:Ke,ColorBlend:vE,ColorBurnBlend:yE,ColorDodgeBlend:_E,ColorMask:Jv,ColorMaskPipe:r1,ColorMatrixFilter:cV,CompressedSource:ad,Container:Je,Culler:k4,CullerPlugin:E4,CustomRenderPipe:I1,D3D10_RESOURCE_DIMENSION:My,D3DFMT:$n,DATA_URI:v$,DDS:Ee,DEG_TO_RAD:fk,DEPRECATED_SCALE_MODES:Sf,DEPRECATED_WRAP_MODES:Cf,DOMAdapter:Ve,DRAW_MODES:lz,DXGI_FORMAT:Dy,DXGI_TO_TEXTURE_FORMAT:Un,DarkenBlend:xE,DefaultBatcher:Np,DefaultShader:yA,DifferenceBlend:wE,DisplacementFilter:uV,DivideBlend:CE,DynamicBitmapFont:Eb,Ellipse:Ip,EventBoundary:r5,EventEmitter:Zn,EventSystem:o5,EventsTicker:zo,ExclusionBlend:SE,ExtensionType:O,ExtractSystem:VP,FOURCC_TO_TEXTURE_FORMAT:Db,FederatedContainer:iV,FederatedEvent:hl,FederatedMouseEvent:Xc,FederatedPointerEvent:_r,FederatedWheelEvent:Is,FillGradient:Ka,FillPattern:id,Filter:ui,FilterEffect:Oc,FilterPipe:w5,FilterSystem:T5,FontStylePromiseCache:Zl,GAUSSIAN_VALUES:Ky,GL_FORMATS:yf,GL_INTERNAL_FORMAT:y4,GL_TARGETS:l1,GL_TYPES:We,GL_WRAP_MODES:eP,GenerateTextureSystem:$1,Geometry:Us,GlBackBufferSystem:rP,GlBatchAdaptor:Jy,GlBuffer:Z5,GlBufferSystem:i1,GlColorMaskSystem:d1,GlContextSystem:Q5,GlEncoderSystem:h1,GlGeometrySystem:c1,GlGraphicsAdaptor:A1,GlMeshAdaptor:P1,GlParticleContainerAdaptor:O6,GlParticleContainerPipe:U6,GlProgram:gr,GlProgramData:mP,GlRenderTarget:oP,GlRenderTargetAdaptor:cP,GlRenderTargetSystem:x1,GlShaderSystem:S1,GlStateSystem:EP,GlStencilSystem:f1,GlTexture:AP,GlTextureSystem:E1,GlUboSystem:v1,GlUniformGroupSystem:T1,GlobalUniformSystem:U1,GpuBatchAdaptor:Qy,GpuBlendModesToPixi:Fn,GpuBufferSystem:X1,GpuColorMaskSystem:q1,GpuDeviceSystem:Qp,GpuEncoderSystem:Y1,GpuGraphicsAdaptor:a_,GpuGraphicsContext:AA,GpuMeshAdapter:l_,GpuMipmapGenerator:d6,GpuParticleContainerAdaptor:D6,GpuParticleContainerPipe:G6,GpuProgram:Jn,GpuReadBuffer:QV,GpuRenderTarget:s6,GpuRenderTargetAdaptor:a6,GpuRenderTargetSystem:t_,GpuShaderSystem:n_,GpuStateSystem:r_,GpuStencilModesToPixi:hi,GpuStencilSystem:Z1,GpuTextureSystem:s_,GpuUboSystem:J1,GpuUniformBatchPipe:Q1,Graphics:ho,GraphicsContext:Rn,GraphicsContextRenderData:PA,GraphicsContextSystem:xy,GraphicsPath:Hi,GraphicsPipe:b6,HTMLText:V5,HTMLTextPipe:u8,HTMLTextRenderData:Yy,HTMLTextStyle:Rs,HTMLTextSystem:d_,HardLightBlend:TE,HardMixBlend:kE,HelloSystem:Jp,IGLUniformData:EV,ImageSource:Ns,InstructionSet:qv,KTX:Pt,LightenBlend:EE,LinearBurnBlend:AE,LinearDodgeBlend:PE,LinearLightBlend:IE,Loader:JA,LoaderParserPriority:mr,LuminosityBlend:RE,MSAA_QUALITY:g6,MaskEffectManager:lf,MaskEffectManagerClass:Ek,MaskFilter:A5,Matrix:be,Mesh:bl,MeshGeometry:es,MeshPipe:B6,MeshPlane:Pz,MeshRope:Iz,MeshSimple:Rz,NOOP:Vv,NegationBlend:BE,NineSliceGeometry:Ti,NineSlicePlane:Lz,NineSliceSprite:X6,NineSliceSpritePipe:q6,NoiseFilter:dV,ObservablePoint:Kt,OverlayBlend:OE,PI_2:dk,Particle:Dz,ParticleBuffer:F6,ParticleContainer:Fz,ParticleContainerPipe:c_,ParticleShader:$6,PerspectiveMesh:Az,PerspectivePlaneGeometry:S6,PinLightBlend:DE,PipelineSystem:e_,PlaneGeometry:em,Point:ot,Polygon:Pa,Pool:vp,PoolGroupClass:Sk,PrepareBase:R5,PrepareQueue:L5,PrepareSystem:H5,PrepareUpload:z5,QuadGeometry:Q6,RAD_TO_DEG:hk,Rectangle:Qe,RenderContainer:bz,RenderGroup:Nk,RenderGroupPipe:R1,RenderGroupSystem:D1,RenderTarget:_f,RenderTargetSystem:_1,RenderTexture:Zp,RenderableGCSystem:KP,RendererInitHook:cy,RendererType:qn,ResizePlugin:KE,Resolver:Zi,RopeGeometry:P6,RoundedRectangle:Rp,SCALE_MODES:hz,STENCIL_MODES:It,SVGParser:FA,SVGToGraphicsPath:YE,SaturationBlend:ME,SchedulerSystem:G1,ScissorMask:wV,SdfShader:l8,Shader:br,ShaderStage:fa,ShapePath:MA,SharedRenderPipes:W1,SharedSystems:j1,SoftLightBlend:FE,Sprite:Kr,SpritePipe:M1,Spritesheet:lb,State:pr,StencilMask:Qv,StencilMaskPipe:o1,SubtractBlend:LE,SystemRunner:ay,TEXTURE_FORMAT_BLOCK_SIZE:b4,Text:Yc,TextStyle:Yn,Texture:ae,TextureGCSystem:qP,TextureMatrix:Hv,TexturePool:Lt,TexturePoolClass:Lk,TextureSource:Ot,TextureStyle:zv,TextureUvs:fz,Ticker:mn,TickerListener:Ch,TickerPlugin:XE,TilingSprite:F5,TilingSpritePipe:r8,TilingSpriteShader:J6,Transform:D5,Triangle:qy,UNIFORM_TO_ARRAY_SETTERS:CP,UNIFORM_TO_SINGLE_SETTERS:wP,UNIFORM_TYPES_MAP:cE,UNIFORM_TYPES_VALUES:ry,UPDATE_BLEND:xp,UPDATE_COLOR:Mc,UPDATE_PRIORITY:Jo,UPDATE_TRANSFORM:ON,UPDATE_VISIBLE:Aa,UboBatch:n6,UboSystem:p1,UniformGroup:Vt,VERSION:Uc,VideoSource:hc,ViewContainer:ci,ViewSystem:ZP,ViewableBuffer:ps,VividLightBlend:NE,WGSL_ALIGN_SIZE_DATA:bc,WGSL_TO_STD40_SIZE:m1,WRAP_MODES:dz,WebGLRenderer:t6,WebGPURenderer:m6,WebWorkerAdapter:QG,WorkerManager:Rb,_getGlobalBounds:Wv,_getGlobalBoundsRecursive:Xy,accessibilityTarget:qN,addBits:yb,addMaskBounds:wp,addMaskLocalBounds:Cp,addProgramDefines:Qk,alphaFrag:i5,alphaWgsl:Ub,applyMatrix:t8,applyProjectiveTransformationToPlane:_6,applyStyleParams:Zb,assignWithIgnore:cf,autoDetectEnvironment:e$,autoDetectRenderer:jE,autoDetectSource:FN,basisTranscoderUrls:hf,bgr2rgb:Ea,bitmapFontCachePlugin:VA,bitmapFontTextParser:kh,bitmapFontXMLParser:Ab,bitmapFontXMLStringParser:Pb,blendTemplateFrag:mE,blendTemplateVert:gE,blendTemplateWgsl:bE,blockDataMap:o_,blurTemplateWgsl:d5,boundsPool:mo,browserExt:lk,buildAdaptiveBezier:wy,buildAdaptiveQuadratic:IA,buildArc:Cy,buildArcTo:RA,buildArcToSvg:BA,buildCircle:Xo,buildContextBatches:EA,buildEllipse:wA,buildGeometryFromPath:wz,buildInstructions:q5,buildLine:TA,buildPixelLine:kA,buildPolygon:by,buildRectangle:vy,buildRoundedRectangle:CA,buildSimpleUvs:py,buildTriangle:yy,buildUvs:fy,cacheAsTextureMixin:Tk,cacheTextureArray:jA,calculateProjection:uP,checkChildrenDidChange:Xv,checkDataUrl:Gs,checkExtension:Rr,checkMaxIfStatementsInShader:ZE,childrenHelperMixin:kk,cleanArray:jP,cleanHash:HP,clearList:wf,closePointEps:my,collectAllRenderables:fd,color32BitToUniform:vl,colorBit:Op,colorBitGl:Dp,colorMatrixFilterFrag:g5,colorMatrixFilterWgsl:Gb,colorToUniform:KV,compareModeToGlCompare:OP,compileHighShader:cA,compileHighShaderGl:uA,compileHighShaderGlProgram:pl,compileHighShaderGpuProgram:fl,compileHooks:_b,compileInputs:xb,compileOutputs:lA,compileShader:Xb,compute2DProjection:C6,convertFormatIfRequired:pG,convertToList:wr,copySearchParams:uf,createIdFromString:Wa,createIndicesForQuads:Jb,createLevelBuffers:UU,createLevelBuffersFromKTX:mG,createStringVariations:jk,createTexture:Ji,createUboElementsSTD40:iP,createUboElementsWGSL:r6,createUboSyncFunction:g1,createUboSyncFunctionSTD40:lP,createUboSyncFunctionWGSL:i6,crossOrigin:a4,cullingMixin:Ck,curveEps:Cb,defaultFilterVert:Wp,defaultValue:w1,definedProps:Co,deprecation:_e,detectAvif:WA,detectBasis:MU,detectCompressed:wG,detectDefaults:KA,detectMp4:XA,detectOgv:qA,detectVideoAlphaMode:ey,detectWebm:YA,detectWebp:ZA,determineCrossOrigin:c4,displacementFrag:b5,displacementVert:v5,displacementWgsl:Vb,earcut:VE,effectsMixin:Ak,ensureAttributes:a1,ensureIsBuffer:hy,ensureOptions:Xp,ensurePrecision:eE,ensureTextStyle:$z,executeInstructions:xf,extensions:dt,extractAttributesFromGlProgram:bP,extractAttributesFromGpuProgram:iE,extractFontFamilies:h8,extractStructAndGroups:Sh,fastCopy:df,findHooksRx:aA,findMixin:Pk,fontStringFromTextStyle:Vc,formatShader:vV,fragmentGPUTemplate:pA,fragmentGlTemplate:gA,generateArraySyncSTD40:aP,generateArraySyncWGSL:o6,generateBlurFragSource:l5,generateBlurGlProgram:u5,generateBlurProgram:h5,generateBlurVertSource:c5,generateGPULayout:gV,generateGpuLayoutGroups:sE,generateLayout:bV,generateLayoutHash:aE,generateParticleUpdateFunction:M6,generateProgram:xP,generateShaderSyncCode:pP,generateTextStyleKey:Ty,generateTextureBatchBit:Mp,generateTextureBatchBitGl:Fp,generateUID:mz,generateUniformsSync:SP,getAdjustedBlendModeBlend:Xa,getAttributeInfoFromFormat:Qo,getBatchSamplersUniformGroup:Lp,getBitmapTextLayout:Ay,getCanvasBoundingBox:y8,getCanvasFillStyle:zc,getCanvasTexture:y1,getDefaultUniformValue:uE,getFastGlobalBounds:C5,getFontCss:p8,getFontFamilyName:t4,getGeometryBounds:iA,getGlTypeFromFormat:tP,getGlobalBounds:td,getGlobalMixin:Ik,getGlobalRenderableBounds:S5,getLocalBounds:_p,getMatrixRelativeToParent:Yv,getMaxFragmentPrecision:Jk,getMaxTexturesPerBatch:$s,getOrientationOfPoints:SA,getParent:Bk,getPo2TextureFromSource:u_,getResolutionOfUrl:Vp,getSVGUrl:m8,getSupportedCompressedTextureFormats:Oy,getSupportedGPUCompressedTextureFormats:Ob,getSupportedGlCompressedTextureFormats:Bb,getSupportedTextureFormats:ld,getTemporaryCanvasFromImage:g8,getTestContext:ny,getTextureBatchBindGroup:Bp,getTextureDefaultMatrix:Bz,getTextureFormatFromKTXTexture:vG,getUboData:vP,getUniformData:yP,getUrlExtension:Wk,glFormatToGPUFormat:S4,glUploadBufferImageResource:PP,glUploadCompressedTextureResource:IP,glUploadImageResource:k1,glUploadVideoResource:RP,globalUniformsBit:bA,globalUniformsBitGl:vA,globalUniformsUBOBitGl:M$,gpuFormatToBasisTranscoderFormat:VU,gpuFormatToKTXBasisTranscoderFormat:_G,gpuUploadBufferImageResource:l6,gpuUploadCompressedTextureResource:c6,gpuUploadImageResource:i_,gpuUploadVideoResource:u6,groupD8:Le,hasCachedCanvasTexture:kV,hslWgsl:pV,hslgl:Tp,hslgpu:kp,injectBits:wb,insertVersion:tE,isMobile:Yk,isPow2:ob,isRenderingToScreen:dP,isSafari:d8,isSingleItem:Fc,isWebGLSupported:rd,isWebGPUSupported:od,ktxTranscoderUrls:ff,loadBasis:$U,loadBasisOnWorker:g4,loadBitmapFont:zA,loadDDS:qU,loadEnvironmentExtensions:oy,loadFontAsBase64:f8,loadFontCSS:r0,loadImageBitmap:i4,loadJson:QA,loadKTX:cG,loadKTX2:fG,loadKTX2onWorker:C4,loadSVGImage:b8,loadSvg:r4,loadTextures:Ry,loadTxt:e4,loadVideoTextures:u4,loadWebFont:n4,localUniformBit:Da,localUniformBitGl:qp,localUniformBitGroup2:W5,localUniformMSDFBit:o8,localUniformMSDFBitGl:i8,log2:vN,logDebugTexture:Uz,logProgramError:_P,logRenderGroupScene:w8,logScene:x8,mSDFBit:s8,mSDFBitGl:a8,mapFormatToGlFormat:DP,mapFormatToGlInternalFormat:MP,mapFormatToGlType:FP,mapGlToVertexFormat:gP,mapSize:RV,mapType:C1,mapWebGLBlendModesToPixi:TP,maskFrag:k5,maskVert:E5,maskWgsl:Hb,matrixPool:_n,measureHtmlText:Zy,measureMixin:Ok,migrateFragmentFromV7toV8:PV,mipmapScaleModeToGlFilter:BP,mixHexColors:vz,multiplyColors:Dc,multiplyHexColors:Kv,nextPow2:Es,noiseFrag:y5,noiseWgsl:zb,nonCompressedFormats:f4,normalizeExtensionPriority:Kl,nssvg:Wb,nsxhtml:Kb,onRenderMixin:Dk,parseDDS:v4,parseFunctionBody:gz,parseKTX:_4,particleData:t0,particlesFrag:L6,particlesVert:N6,particlesWgsl:Qb,path:Wn,pointInTriangle:jb,preloadVideo:l4,removeItems:jv,removeStructAndGroupDuplicates:lE,resetUids:bN,resolveCharacters:Ey,resolveCompressedTextureUrl:xG,resolveJsonUrl:d4,resolveTextureUrl:By,resourceToTexture:Vk,roundPixelsBit:ml,roundPixelsBitGl:gl,roundedShapeArc:OA,roundedShapeQuadraticCurve:DA,sayHello:zP,scaleModeToGlFilter:Yb,setBasisTranscoderPath:LU,setKTXTranscoderPath:dG,setPositions:e8,setProgramName:nE,setUvs:n8,shapeBuilders:sd,sortMixin:Mk,spritesheetAsset:qk,squaredDistanceToLineSegment:fc,stripVersion:rE,testImageFormat:Iy,testVideoFormat:Gp,textStyleToCSS:$5,textureBit:K5,textureBitGl:X5,textureFrom:zk,tilingBit:Y6,tilingBitGl:Z6,toFillStyle:Ri,toLocalGlobalMixin:Fk,toStrokeStyle:Gc,transformVertices:$p,triangulateWithHoles:gy,uboSyncFunctionsSTD40:b1,uboSyncFunctionsWGSL:sP,uid:Ct,uniformParsers:Bi,unpremultiplyAlpha:$V,unsafeEvalSupported:iy,updateLocalTransform:yz,updateQuadBounds:Bc,updateRenderGroupTransform:LP,updateRenderGroupTransforms:B1,updateTransformAndChildren:O1,updateTransformBackwards:yp,updateWorldTransform:_z,v8_0_0:Pe,v8_3_4:mk,validFormats:pf,validateRenderables:NP,vertexGPUTemplate:fA,vertexGlTemplate:mA,viewportFromFrame:uz,vkFormatToGPUFormat:T4,warn:Ce,webworkerExt:ck,wrapModeToGlAddress:Ph},Symbol.toStringTag,{value:"Module"}));async function Hz(n){var e;const t={importPixi:!1,...n};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await Rc(()=>Promise.resolve().then(()=>zz),void 0)),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((e=window.__PIXI_DEVTOOLS__)==null?void 0:e.extensions)||[],...t.extensions||[]],plugins:{}}}const fg=vt(null),jz=vt(null);let Oo=null;const C8=()=>{const n="lightgrey",e=["#8e0000","#4a0072","#0000b2","#004d40"],t=new Je({label:"page"}),{score:r,note:o,element:i,bar:s,track:a,selection:l,voiceId:c}=Ao(),u=b=>e[b.index()],d=(b,_)=>{const v=_/(b.track().stringCount()-1),y=ve(o.value)===ve(b),w=y?u(b.voice()):n;b.fretNumber==4;const S=y?n:u(b.voice()),C=new Je({label:`note${b.index()}`,x:0,y:v*b.index()}),k=new ho({zIndex:10}),E=new Yc({text:b.isRest()?"_":b.fretNumber.toString(),zIndex:20,style:{fontSize:b.score().fontSize,fill:S}});return k.chamferRect(-3,0,E.width+6,E.height-2,2).fill({color:w,alpha:.9}),(!isNaN(b.fretNumber)||y)&&C.addChild(k),isNaN(b.fretNumber)||C.addChild(E),C},h=(b,_,v)=>{const y=new Je({label:`element${b.index()}`});if(y.x=_*b.location()/Math.max(b.voice().duration(),b.bar().timeSignature.beatsPerBar)+b.score().fontSize/2,y.y=-b.score().fontSize/2,b.voice().index()==c.value){const w=b.track().stringCount(),S=new ho;if(b.beatDuration()>10||b.beatDuration()<-10||b.beatDuration()==null||b.beatDuration()==null){console.log("##### Invalid duration",b);debugger;b.duration=new vs(Ha.Quarter)}S.moveTo(r.value.fontSize*.5-b.beatDuration(),r.value.fontSize*(w+.25)).lineTo(r.value.fontSize*.5-b.beatDuration(),r.value.fontSize*(w+1)).stroke({width:2*b.beatDuration(),color:u(b.voice())});const C=b.tailType()==xh.Beam||b.tailType()==xh.Flag?b.tailCount():0;b.tailCount()>0;for(let k=0;k<C;k++)S.moveTo(r.value.fontSize*.5-b.beatDuration(),r.value.fontSize*(w+1)).lineTo(r.value.fontSize*.5,r.value.fontSize*.5+_*(.8*(b.beatDuration()/(b.tailType()==xh.Flag?2:1)))).stroke({width:2*b.beatDuration(),color:"orange"});y.addChild(S)}return b._notes.forEach(w=>{y.addChild(d(w,v))}),y},f=(b,_,v)=>{const y=b.score().fontSize,w=_-y*2,S=new Je({label:`voice${b.index()}`});if(S.x=y,b.index()==c.value){const C=new ho,k=b._elements.reduce((A,P)=>l.value.includes(ve(P))?[Math.min(isNaN(A[0])?P.location():A[0],P.location()),Math.max(isNaN(A[1])?P.location()+P.beatDuration():A[1],P.location()+P.beatDuration()),Math.min(isNaN(A[2])?0:A[2],0),Math.max(isNaN(A[3])?a.value.stringCount()-1:A[3],a.value.stringCount()-1)]:A,[NaN,NaN,NaN,NaN]),E=Math.max(b.bar().timeSignature.beatsPerBar,b.duration());isNaN(k[0])||(C.rect(k[0]/E*w,0,(k[1]-k[0])/E*w,v).fill({color:e[b.index()],alpha:.25}),console.log("draw selection")),S.addChild(C)}return b._elements.forEach(C=>{S.addChild(h(C,w,v))}),S},p=(b,_,v,y)=>{const w=_*(b.index()%r.value.barsPerLine),S=y*Math.floor(b.index()/r.value.barsPerLine),C=new Je({label:`bar${b.index()}`,x:w,y:S}).on("pointerdown",I=>{console.log("Bar clicked",b.index())});C.interactive=!0;const k=v/(b.track().stringCount()-1),E=new ho;for(let I=0;I<b.track().stringCount();I++){const $=I*k;E.moveTo(0,$).lineTo(_,$)}E.moveTo(0,0).lineTo(0,v).moveTo(_,0).lineTo(_,v).stroke({width:2,color:"black"}),l.value.includes(b)&&(console.log("BAR selected",b.index()),E.rect(0,0,_,v).fill({color:"red",alpha:.25}));const A=new Yn({fontSize:b.score().fontSize,fill:5592405}),P=new Yc({text:b.index()+1,style:A,x:0,y:-1.5*b.score().fontSize});return C.addChild(E),C.addChild(P),b._voices.forEach(I=>{C.addChild(f(I,_,v))}),C},m=(b,_)=>{const v=r.value.fontSize*2,y=new Je({label:`track${b.index()}`}),w=_/r.value.barsPerLine,S=b.score()._tracks.length,C=r.value._tracks.reduce((A,P)=>A+P.stringCount(),0),k=r.value.fontSize*(C-S)+2*v*S,E=r.value.fontSize*(C-S);return b._bars.forEach(A=>{const P=p(A,w,E,k);if(y.addChild(P),ve(s.value)===ve(A)){const $=fg.value.parentElement;if($){const V=P.getGlobalPosition().y-$.scrollTop,ee=P.getGlobalPosition().y+P.getBounds().height-($.scrollTop+$.getBoundingClientRect().height);V<0?(console.log("top needs move of ",V),$.scrollTop+=V):ee>0&&(console.log("bottom needs move of ",ee),$.scrollTop+=V)}}}),y},g=async()=>{if(!r.value){console.log("No score found");return}if(l.value.length==0&&(console.log("Updates"),l.value=[ve(i.value)]),console.log("DRAW SCORE"),Oo==null){Oo=new uy;const S=document.getElementById("canvas-wrapper");new ResizeObserver(k=>{console.log("resized");for(const E of k){const{width:A,height:P}=E.contentRect;console.log(`Wrapper resized: ${A}x${P} (${S.clientWidth} ${S.clientHeight})`),g()}}).observe(S),await Oo.init({canvas:fg.value,backgroundColor:n}),Hz(Oo)}const b=50,_=20;t.removeChildren(),Oo.stage.removeChildren();const v=new Je({label:"score"}),y=document.getElementById("canvas-wrapper"),w=y.clientWidth;r.value._tracks.forEach(S=>{const C=w-2*_;v.addChild(m(S,C))}),v.y=b,v.x=_,t.addChild(v),Oo&&Oo.renderer?Oo.renderer.resize(y.clientWidth,Math.floor(Math.max(v.height+b,y.clientHeight))-1):console.warn(" RESIZE FAILED"),Oo.stage.addChild(t)};return{drawScore:g,canvasRef:fg,canvasContainerRef:jz,voiceColours:e}};let Ul="";const Pw=new Map;let Iw=!1,pg=null;const S8=()=>{console.log("useKeys");const n=o=>{const i=o.target,{tagName:s}=i;if(o.key==""||o.key=="Meta"||o.key=="Alt"||o.key=="Control"||o.key=="Shift"||o.key=="Tab")return!0;const a=s==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(i.type);return i.isContentEditable||(a||s==="TEXTAREA"||s==="SELECT")&&!i.readOnly},e=o=>{let i=o.key;n(o)||(o.shiftKey&&(i="shift+"+i),o.altKey&&(i="alt+"+i),o.metaKey&&(i="meta+"+i),o.ctrlKey&&(i="ctrl+"+i),Ul+=i,t(o))},t=o=>{for(const[i,{handler:s}]of Pw)if(i.test(Ul)){s(Ul),pg&&clearTimeout(pg),pg=setTimeout(()=>Ul="",400),o.preventDefault();return}console.log("pressedKey",Ul)},r=(o,i)=>{typeof o=="string"&&(o=new RegExp(o)),Pw.set(o,{handler:i})};return Iw||(window.addEventListener("keyup",e),Iw=!0),{handleKeys:e,bind:r,checkRegex:t}},Wz={class:"field"},Kz={key:0,class:"field-group"},Xz=rl({__name:"NoteDialog",setup(n){const{bar:e,element:t,note:r}=Ao(),o=qr(()=>Object.keys(Ha).filter(s=>isNaN(Number(s))).map(s=>({label:s,value:Ha[s]}))),i=()=>Object.entries(Z3).map(([a,l])=>({key:l,name:a}));return(s,a)=>{const l=X("p-inputnumber"),c=X("p-select"),u=X("p-floatlabel"),d=X("p-checkbox"),h=X("p-multiselect");return x(),R(oe,null,[G("div",Wz,[a[10]||(a[10]=G("label",null,"Time Signature",-1)),ye(e)?(x(),R("div",Kz,[W(l,{modelValue:ye(e).timeSignature.beatsPerBar,"onUpdate:modelValue":a[0]||(a[0]=f=>ye(e).timeSignature.beatsPerBar=f),placeholder:"Beats per Bar",min:1,showButtons:"",class:"small"},null,8,["modelValue"]),a[9]||(a[9]=G("span",null,"/",-1)),W(l,{modelValue:ye(e).timeSignature.beatValue,"onUpdate:modelValue":a[1]||(a[1]=f=>ye(e).timeSignature.beatValue=f),placeholder:"Beat Value",min:1,showButtons:"",class:"small"},null,8,["modelValue"])])):j("",!0)]),W(u,{variant:"on"},{default:q(()=>[W(c,{modelValue:ye(t).duration.baseDuration,"onUpdate:modelValue":a[2]||(a[2]=f=>ye(t).duration.baseDuration=f),options:o.value,optionLabel:"label",optionValue:"value",inputId:"baseUnit",placeholder:"Base Unit",class:"w-full"},null,8,["modelValue","options"]),a[11]||(a[11]=G("label",{for:"duration"},"Duration",-1))]),_:1}),W(u,{variant:"on"},{default:q(()=>[W(l,{modelValue:ye(t).duration.dotCount,"onUpdate:modelValue":a[3]||(a[3]=f=>ye(t).duration.dotCount=f),inputId:"dotCount",variant:"filled",min:0,max:2,step:1,showButtons:""},null,8,["modelValue"]),a[12]||(a[12]=G("label",{for:"dotCount"},"dotCount",-1))]),_:1}),W(u,{variant:"on"},{default:q(()=>[W(d,{modelValue:ye(t).duration.isTriplet,"onUpdate:modelValue":a[4]||(a[4]=f=>ye(t).duration.isTriplet=f),binary:"",inputId:"isTriplet"},null,8,["modelValue"]),a[13]||(a[13]=G("label",{for:"isTriplet"},"isTriplet",-1))]),_:1}),W(l,{modelValue:ye(r).fretNumber,"onUpdate:modelValue":a[5]||(a[5]=f=>ye(r).fretNumber=f),placeholder:"Duration",showButtons:"",class:"small"},null,8,["modelValue"]),W(l,{modelValue:ye(r).leftHandFinger,"onUpdate:modelValue":a[6]||(a[6]=f=>ye(r).leftHandFinger=f),placeholder:"leftHandFinger",showButtons:"",class:"small"},null,8,["modelValue"]),W(l,{modelValue:ye(r).rightHandFinger,"onUpdate:modelValue":a[7]||(a[7]=f=>ye(r).rightHandFinger=f),placeholder:"rightHandFinger",showButtons:"",class:"small"},null,8,["modelValue"]),W(h,{modelValue:ye(r).techniques,"onUpdate:modelValue":a[8]||(a[8]=f=>ye(r).techniques=f),options:i(),optionLabel:"name",optionValue:"key",inputId:"techniqueSelect",placeholder:"Select Techniques",display:"chip",showToggleAll:!1,class:"w-full"},null,8,["modelValue","options"])],64)}}});var T8=Symbol();function k8(){var n=Ca(T8);if(!n)throw new Error("No PrimeVue Dialog provided!");return n}function E8(n,e){return n?n.classList?n.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(n.className):!1}function jo(n,e){if(n&&e){const t=r=>{E8(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function qz(){return window.innerWidth-document.documentElement.offsetWidth}function Ja(n){for(const e of document==null?void 0:document.styleSheets)try{for(const t of e==null?void 0:e.cssRules)for(const r of t==null?void 0:t.style)if(n.test(r))return{name:r,value:t.style.getPropertyValue(r).trim()}}catch{}return null}function Rw(n="p-overflow-hidden"){const e=Ja(/-scrollbar-width$/);e!=null&&e.name&&document.body.style.setProperty(e.name,qz()+"px"),jo(document.body,n)}function Yz(n){if(n){let e=document.createElement("a");if(e.download!==void 0){const{name:t,src:r}=n;return e.setAttribute("href",r),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),!0}}return!1}function Zz(n,e){let t=new Blob([n],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(t,e+".csv"):Yz({name:e+".csv",src:URL.createObjectURL(t)})||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}function uo(n,e){if(n&&e){const t=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(t))}}function Bw(n="p-overflow-hidden"){const e=Ja(/-scrollbar-width$/);e!=null&&e.name&&document.body.style.removeProperty(e.name),uo(document.body,n)}function A8(n){let e={width:0,height:0};return n&&(n.style.visibility="hidden",n.style.display="block",e.width=n.offsetWidth,e.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),e}function nm(){let n=window,e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],o=n.innerWidth||t.clientWidth||r.clientWidth,i=n.innerHeight||t.clientHeight||r.clientHeight;return{width:o,height:i}}function P8(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}function I8(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function rm(n,e,t=!0){var r,o,i,s;if(n){const a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:A8(n),l=a.height,c=a.width,u=e.offsetHeight,d=e.offsetWidth,h=e.getBoundingClientRect(),f=I8(),p=P8(),m=nm();let g,b,_="top";h.top+u+l>m.height?(g=h.top+f-l,_="bottom",g<0&&(g=f)):g=u+h.top+f,h.left+c>m.width?b=Math.max(0,h.left+p+d-c):b=h.left+p,n.style.top=g+"px",n.style.left=b+"px",n.style.transformOrigin=_,t&&(n.style.marginTop=_==="bottom"?`calc(${(o=(r=Ja(/-anchor-gutter$/))==null?void 0:r.value)!=null?o:"2px"} * -1)`:(s=(i=Ja(/-anchor-gutter$/))==null?void 0:i.value)!=null?s:"")}}function Bs(n,e){n&&(typeof e=="string"?n.style.cssText=e:Object.entries(e||{}).forEach(([t,r])=>n.style[t]=r))}function Rt(n,e){return n instanceof HTMLElement?n.offsetWidth:0}function R8(n,e,t=!0){var r,o,i,s;if(n){const a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:A8(n),l=e.offsetHeight,c=e.getBoundingClientRect(),u=nm();let d,h,f="top";c.top+l+a.height>u.height?(d=-1*a.height,f="bottom",c.top+d<0&&(d=-1*c.top)):d=l,a.width>u.width?h=c.left*-1:c.left+a.width>u.width?h=(c.left+a.width-u.width)*-1:h=0,n.style.top=d+"px",n.style.left=h+"px",n.style.transformOrigin=f,t&&(n.style.marginTop=f==="bottom"?`calc(${(o=(r=Ja(/-anchor-gutter$/))==null?void 0:r.value)!=null?o:"2px"} * -1)`:(s=(i=Ja(/-anchor-gutter$/))==null?void 0:i.value)!=null?s:"")}}function yl(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function Ih(){if(window.getSelection){const n=window.getSelection()||{};n.empty?n.empty():n.removeAllRanges&&n.rangeCount>0&&n.getRangeAt(0).getClientRects().length>0&&n.removeAllRanges()}}function Tf(n,e={}){if(yl(n)){const t=(r,o)=>{var i,s;const a=(i=n==null?void 0:n.$attrs)!=null&&i[r]?[(s=n==null?void 0:n.$attrs)==null?void 0:s[r]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){const u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){const d=Array.isArray(c)?t(r,c):Object.entries(c).map(([h,f])=>r==="style"&&(f||f===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?h:void 0);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(e).forEach(([r,o])=>{if(o!=null){const i=r.match(/^on(.+)/);i?n.addEventListener(i[1].toLowerCase(),o):r==="p-bind"?Tf(n,o):(o=r==="class"?[...new Set(t("class",o))].join(" ").trim():r==="style"?t("style",o).join(";").trim():o,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=o),n.setAttribute(r,o))}})}}function vc(n,e={},...t){if(n){const r=document.createElement(n);return Tf(r,e),r.append(...t),r}}function Jz(n,e){if(n){n.style.opacity="0";let t=+new Date,r="0",o=function(){r=`${+n.style.opacity+(new Date().getTime()-t)/e}`,n.style.opacity=r,t=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}}function la(n,e){return yl(n)?Array.from(n.querySelectorAll(e)):[]}function an(n,e){return yl(n)?n.matches(e)?n:n.querySelector(e):null}function Xe(n,e){n&&document.activeElement!==n&&n.focus(e)}function Ze(n,e){if(yl(n)){const t=n.getAttribute(e);return isNaN(t)?t==="true"||t==="false"?t==="true":t:+t}}function om(n,e=""){let t=la(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`),r=[];for(let o of t)getComputedStyle(o).display!="none"&&getComputedStyle(o).visibility!="hidden"&&r.push(o);return r}function Ei(n,e){const t=om(n,e);return t.length>0?t[0]:null}function Ai(n){if(n){let e=n.offsetHeight,t=getComputedStyle(n);return e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),e}return 0}function Qz(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",e}return 0}function eH(n){if(n){n.style.visibility="hidden",n.style.display="block";let e=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",e}return 0}function h_(n){if(n){let e=n.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function Rh(n){var e;if(n){let t=(e=h_(n))==null?void 0:e.childNodes,r=0;if(t)for(let o=0;o<t.length;o++){if(t[o]===n)return r;t[o].nodeType===1&&r++}}return-1}function f_(n,e){const t=om(n,e);return t.length>0?t[t.length-1]:null}function p_(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}return null}function Cr(n){if(n){let e=n.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function sr(n,e){return n?n.offsetHeight:0}function B8(n,e=[]){const t=h_(n);return t===null?e:B8(t,e.concat([t]))}function m_(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}return null}function tH(n){let e=[];if(n){let t=B8(n);const r=/(auto|scroll)/,o=i=>{try{let s=window.getComputedStyle(i,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))}catch{return!1}};for(let i of t){let s=i.nodeType===1&&i.dataset.scrollselectors;if(s){let a=s.split(",");for(let l of a){let c=an(i,l);c&&o(c)&&e.push(c)}}i.nodeType!==9&&o(i)&&e.push(i)}}return e}function Ow(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function O8(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&h_(n))}function Gr(n){if(n){let e=n.offsetWidth,t=getComputedStyle(n);return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e}return 0}function Dw(n,e,t){n[e].apply(n,t)}function nH(){return/(android)/i.test(navigator.userAgent)}function mg(n){if(n){const e=n.nodeName,t=n.parentElement&&n.parentElement.nodeName;return e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||!!n.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function im(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Mw(n,e=""){return yl(n)?n.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`):!1}function kf(n){return!!(n&&n.offsetParent!=null)}function _l(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function xl(n,e="",t){yl(n)&&t!==null&&t!==void 0&&n.setAttribute(e,t)}function Zc(n){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(n)}function Fw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Lw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fw(Object(t),!0).forEach(function(r){rH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rH(n,e,t){return(e=oH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oH(n){var e=iH(n,"string");return Zc(e)=="symbol"?e:e+""}function iH(n,e){if(Zc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Yf()?Nu(n):e?n():X0(n)}var aH=0;function lH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=vt(!1),r=vt(n),o=vt(null),i=im()?window.document:void 0,s=e.document,a=s===void 0?i:s,l=e.immediate,c=l===void 0?!0:l,u=e.manual,d=u===void 0?!1:u,h=e.name,f=h===void 0?"style_".concat(++aH):h,p=e.id,m=p===void 0?void 0:p,g=e.media,b=g===void 0?void 0:g,_=e.nonce,v=_===void 0?void 0:_,y=e.first,w=y===void 0?!1:y,S=e.onMounted,C=S===void 0?void 0:S,k=e.onUpdated,E=k===void 0?void 0:k,A=e.onLoad,P=A===void 0?void 0:A,I=e.props,$=I===void 0?{}:I,V=function(){},ee=function(ie){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var ue=Lw(Lw({},$),te),le=ue.name||f,xe=ue.id||m,lt=ue.nonce||v;o.value=a.querySelector('style[data-primevue-style-id="'.concat(le,'"]'))||a.getElementById(xe)||a.createElement("style"),o.value.isConnected||(r.value=ie||n,Tf(o.value,{type:"text/css",id:xe,media:b,nonce:lt}),w?a.head.prepend(o.value):a.head.appendChild(o.value),xl(o.value,"data-primevue-style-id",le),Tf(o.value,ue),o.value.onload=function(gt){return P==null?void 0:P(gt,{name:le})},C==null||C(le)),!t.value&&(V=lr(r,function(gt){o.value.textContent=gt,E==null||E(le)},{immediate:!0}),t.value=!0)}},F=function(){!a||!t.value||(V(),O8(o.value)&&a.head.removeChild(o.value),t.value=!1)};return c&&!d&&sH(ee),{id:m,name:f,el:o,css:r,unload:F,load:ee,isLoaded:j0(t)}}var cH=Object.defineProperty,Nw=Object.getOwnPropertySymbols,uH=Object.prototype.hasOwnProperty,dH=Object.prototype.propertyIsEnumerable,$w=(n,e,t)=>e in n?cH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hH=(n,e)=>{for(var t in e||(e={}))uH.call(e,t)&&$w(n,t,e[t]);if(Nw)for(var t of Nw(e))dH.call(e,t)&&$w(n,t,e[t]);return n};function Yt(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function fH(n,e,t,r=1){let o=-1;const i=Yt(n),s=Yt(e);return i&&s?o=0:i?o=r:s?o=-r:typeof n=="string"&&typeof e=="string"?o=t(n,e):o=n<e?-1:n>e?1:0,o}function o0(n,e,t=new WeakSet){if(n===e)return!0;if(!n||!e||typeof n!="object"||typeof e!="object"||t.has(n)||t.has(e))return!1;t.add(n).add(e);let r=Array.isArray(n),o=Array.isArray(e),i,s,a;if(r&&o){if(s=n.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!o0(n[i],e[i],t))return!1;return!0}if(r!=o)return!1;let l=n instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();let u=n instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return n.toString()==e.toString();let h=Object.keys(n);if(s=h.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,h[i]))return!1;for(i=s;i--!==0;)if(a=h[i],!o0(n[a],e[a],t))return!1;return!0}function pH(n,e){return o0(n,e)}function sm(n){return!!(n&&n.constructor&&n.call&&n.apply)}function pe(n){return!Yt(n)}function Ae(n,e){if(!n||!e)return null;try{const t=n[e];if(pe(t))return t}catch{}if(Object.keys(n).length){if(sm(e))return e(n);if(e.indexOf(".")===-1)return n[e];{let t=e.split("."),r=n;for(let o=0,i=t.length;o<i;++o){if(r==null)return null;r=r[t[o]]}return r}}return null}function xn(n,e,t){return t?Ae(n,t)===Ae(e,t):pH(n,e)}function mH(n,e){if(n!=null&&e&&e.length){for(let t of e)if(xn(n,t))return!0}return!1}function gg(n,e){let t=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]===n){t=r;break}}return t}function Oi(n,e){let t=-1;if(pe(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}function So(n,e=!0){return n instanceof Object&&n.constructor===Object&&(e||Object.keys(n).length!==0)}function Hn(n,...e){return sm(n)?n(...e):n}function Kn(n,e=!0){return typeof n=="string"&&(e||n!=="")}function Nr(n){return Kn(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function g_(n,e="",t={}){const r=Nr(e).split("."),o=r.shift();return o?So(n)?g_(Hn(n[Object.keys(n).find(i=>Nr(i)===o)||""],t),r.join("."),t):void 0:Hn(n,t)}function am(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}function gH(n){return pe(n)&&!isNaN(n)}function b_(n=""){return pe(n)&&n.length===1&&!!n.match(/\S| /)}function Uw(){return new Intl.Collator(void 0,{numeric:!0}).compare}function Wo(n,e){if(e){const t=e.test(n);return e.lastIndex=0,t}return!1}function bH(...n){const e=(t={},r={})=>{const o=hH({},t);return Object.keys(r).forEach(i=>{So(r[i])&&i in t&&So(t[i])?o[i]=e(t[i],r[i]):o[i]=r[i]}),o};return n.reduce((t,r,o)=>o===0?r:e(t,r),{})}function yc(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function yr(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){const t={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let r in t)n=n.replace(t[r],r)}return n}function Gw(n,e,t){n&&e!==t&&(t>=n.length&&(t%=n.length,e%=n.length),n.splice(t,0,n.splice(e,1)[0]))}function Vw(n,e,t=1,r,o=1){const i=fH(n,e,r,t);let s=t;return(Yt(n)||Yt(e))&&(s=o===1?t:o),s*i}function vH(n){return Kn(n,!1)?n[0].toUpperCase()+n.slice(1):n}function D8(n){return Kn(n)?n.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():n}function zw(n){return Kn(n)?n.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():n}var oh={};function v_(n="pui_id_"){return oh.hasOwnProperty(n)||(oh[n]=0),oh[n]++,`${n}${oh[n]}`}function yH(){let n=[];const e=(s,a,l=999)=>{const c=o(s,a,l),u=c.value+(c.key===s?0:l)+1;return n.push({key:s,value:u}),u},t=s=>{n=n.filter(a=>a.value!==s)},r=(s,a)=>o(s).value,o=(s,a,l=0)=>[...n].reverse().find(c=>!0)||{key:s,value:l},i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,a,l)=>{a&&(a.style.zIndex=String(e(s,!0,l)))},clear:s=>{s&&(t(i(s)),s.style.zIndex="")},getCurrent:s=>r(s)}}var At=yH();function Jc(n){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(n)}function _H(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,CH(r.key),r)}}function wH(n,e,t){return e&&xH(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function CH(n){var e=SH(n,"string");return Jc(e)=="symbol"?e:e+""}function SH(n,e){if(Jc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var md=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};_H(this,n),this.element=e,this.listener=t}return wH(n,[{key:"bindScrollListener",value:function(){this.scrollableParents=tH(this.element);for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function Qc(n){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(n)}function TH(n){return PH(n)||AH(n)||EH(n)||kH()}function kH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(n,e){if(n){if(typeof n=="string")return i0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i0(n,e):void 0}}function AH(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PH(n){if(Array.isArray(n))return i0(n)}function i0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function IH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function RH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,M8(r.key),r)}}function BH(n,e,t){return e&&RH(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Hw(n,e,t){return(e=M8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M8(n){var e=OH(n,"string");return Qc(e)=="symbol"?e:e+""}function OH(n,e){if(Qc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Qa=function(){function n(e){var t=e.init,r=e.type;IH(this,n),Hw(this,"helpers",void 0),Hw(this,"type",void 0),this.helpers=new Set(t),this.type=r}return BH(n,[{key:"add",value:function(t){this.helpers.add(t)}},{key:"update",value:function(){}},{key:"delete",value:function(t){this.helpers.delete(t)}},{key:"clear",value:function(){this.helpers.clear()}},{key:"get",value:function(t,r){var o=this._get(t,r),i=o?this._recursive(TH(this.helpers),o):null;return pe(i)?i:null}},{key:"_isMatched",value:function(t,r){var o,i=t==null?void 0:t.parent;return(i==null||(o=i.vnode)===null||o===void 0?void 0:o.key)===r||i&&this._isMatched(i,r)||!1}},{key:"_get",value:function(t,r){var o,i;return((o=r||(t==null?void 0:t.$slots))===null||o===void 0||(i=o.default)===null||i===void 0?void 0:i.call(o))||null}},{key:"_recursive",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[];return o.forEach(function(s){s.children instanceof Array?i=i.concat(t._recursive(i,s.children)):s.type.name===t.type?i.push(s):pe(s.key)&&(i=i.concat(r.filter(function(a){return t._isMatched(a,s.key)}).map(function(a){return a.vnode})))}),i}}])}();function $t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return v_(n)}function Vs(n,e){if(n){var t=n.props;if(t){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=Object.prototype.hasOwnProperty.call(t,r)?r:e;return n.type.extends.props[e].type===Boolean&&t[o]===""?!0:t[o]}}return null}var DH=Object.defineProperty,MH=Object.defineProperties,FH=Object.getOwnPropertyDescriptors,Ef=Object.getOwnPropertySymbols,F8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,jw=(n,e,t)=>e in n?DH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$r=(n,e)=>{for(var t in e||(e={}))F8.call(e,t)&&jw(n,t,e[t]);if(Ef)for(var t of Ef(e))L8.call(e,t)&&jw(n,t,e[t]);return n},bg=(n,e)=>MH(n,FH(e)),Do=(n,e)=>{var t={};for(var r in n)F8.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ef)for(var r of Ef(n))e.indexOf(r)<0&&L8.call(n,r)&&(t[r]=n[r]);return t},LH=Uu(),Fr=LH;function Ww(n,e){am(n)?n.push(...e||[]):So(n)&&Object.assign(n,e)}function NH(n){return So(n)&&n.hasOwnProperty("value")&&n.hasOwnProperty("type")?n.value:n}function $H(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function s0(n="",e=""){return $H(`${Kn(n,!1)&&Kn(e,!1)?`${n}-`:n}${e}`)}function N8(n="",e=""){return`--${s0(n,e)}`}function $8(n,e="",t="",r=[],o){if(Kn(n)){const i=/{([^}]*)}/g,s=n.trim();if(Wo(s,i)){const a=s.replaceAll(i,u=>{const h=u.replace(/{|}/g,"").split(".").filter(f=>!r.some(p=>Wo(f,p)));return`var(${N8(t,D8(h.join("-")))}${pe(o)?`, ${o}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,c=/var\([^)]+\)/g;return Wo(a.replace(c,"0"),l)?`calc(${a})`:a}return s}else if(gH(n))return n}function UH(n,e,t){Kn(e,!1)&&n.push(`${e}:${t};`)}function ca(n,e){return n?`${n}{${e}}`:""}var GH=n=>{var e;const t=nt.getTheme(),r=a0(t,n,void 0,"variable"),o=(e=r==null?void 0:r.match(/--[\w-]+/g))==null?void 0:e[0],i=a0(t,n,void 0,"value");return{name:o,variable:r,value:i}},_c=(...n)=>a0(nt.getTheme(),...n),a0=(n={},e,t,r)=>{if(e){const{variable:o,options:i}=nt.defaults||{},{prefix:s,transform:a}=(n==null?void 0:n.options)||i||{},c=Wo(e,/{([^}]*)}/g)?e:`{${e}}`;return r==="value"||Yt(r)&&a==="strict"?nt.getTokenValue(e):$8(c,void 0,s,[o.excludedKeyRegex],t)}return""};function VH(n,e={}){const t=nt.defaults.variable,{prefix:r=t.prefix,selector:o=t.selector,excludedKeyRegex:i=t.excludedKeyRegex}=e,s=(c,u="")=>Object.entries(c).reduce((d,[h,f])=>{const p=Wo(h,i)?s0(u):s0(u,D8(h)),m=NH(f);if(So(m)){const{variables:g,tokens:b}=s(m,p);Ww(d.tokens,b),Ww(d.variables,g)}else d.tokens.push((r?p.replace(`${r}-`,""):p).replaceAll("-",".")),UH(d.variables,N8(p),$8(m,p,r,[i]));return d},{variables:[],tokens:[]}),{variables:a,tokens:l}=s(n,r);return{value:a,tokens:l,declarations:a.join(""),css:ca(o,a.join(""))}}var Dr={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:`${n}{:root{[CSS]}}`,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){const e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[n].flat().map(t=>{var r;return(r=e.map(o=>o.resolve(t)).find(o=>o.matched))!=null?r:this.rules.custom.resolve(t)})}},_toVariables(n,e){return VH(n,{prefix:e==null?void 0:e.prefix})},getCommon({name:n="",theme:e={},params:t,set:r,defaults:o}){var i,s,a,l,c,u,d;const{preset:h,options:f}=e;let p,m,g,b,_,v,y;if(pe(h)&&f.transform!=="strict"){const{primitive:w,semantic:S,extend:C}=h,k=S||{},{colorScheme:E}=k,A=Do(k,["colorScheme"]),P=C||{},{colorScheme:I}=P,$=Do(P,["colorScheme"]),V=E||{},{dark:ee}=V,F=Do(V,["dark"]),L=I||{},{dark:ie}=L,te=Do(L,["dark"]),ue=pe(w)?this._toVariables({primitive:w},f):{},le=pe(A)?this._toVariables({semantic:A},f):{},xe=pe(F)?this._toVariables({light:F},f):{},lt=pe(ee)?this._toVariables({dark:ee},f):{},gt=pe($)?this._toVariables({semantic:$},f):{},ke=pe(te)?this._toVariables({light:te},f):{},Me=pe(ie)?this._toVariables({dark:ie},f):{},[bt,de]=[(i=ue.declarations)!=null?i:"",ue.tokens],[pn,Ht]=[(s=le.declarations)!=null?s:"",le.tokens||[]],[kn,Zt]=[(a=xe.declarations)!=null?a:"",xe.tokens||[]],[B,M]=[(l=lt.declarations)!=null?l:"",lt.tokens||[]],[D,U]=[(c=gt.declarations)!=null?c:"",gt.tokens||[]],[z,H]=[(u=ke.declarations)!=null?u:"",ke.tokens||[]],[Y,Z]=[(d=Me.declarations)!=null?d:"",Me.tokens||[]];p=this.transformCSS(n,bt,"light","variable",f,r,o),m=de;const Q=this.transformCSS(n,`${pn}${kn}`,"light","variable",f,r,o),J=this.transformCSS(n,`${B}`,"dark","variable",f,r,o);g=`${Q}${J}`,b=[...new Set([...Ht,...Zt,...M])];const me=this.transformCSS(n,`${D}${z}color-scheme:light`,"light","variable",f,r,o),se=this.transformCSS(n,`${Y}color-scheme:dark`,"dark","variable",f,r,o);_=`${me}${se}`,v=[...new Set([...U,...H,...Z])],y=Hn(h.css,{dt:_c})}return{primitive:{css:p,tokens:m},semantic:{css:g,tokens:b},global:{css:_,tokens:v},style:y}},getPreset({name:n="",preset:e={},options:t,params:r,set:o,defaults:i,selector:s}){var a,l,c;let u,d,h;if(pe(e)&&t.transform!=="strict"){const f=n.replace("-directive",""),p=e,{colorScheme:m,extend:g,css:b}=p,_=Do(p,["colorScheme","extend","css"]),v=g||{},{colorScheme:y}=v,w=Do(v,["colorScheme"]),S=m||{},{dark:C}=S,k=Do(S,["dark"]),E=y||{},{dark:A}=E,P=Do(E,["dark"]),I=pe(_)?this._toVariables({[f]:$r($r({},_),w)},t):{},$=pe(k)?this._toVariables({[f]:$r($r({},k),P)},t):{},V=pe(C)?this._toVariables({[f]:$r($r({},C),A)},t):{},[ee,F]=[(a=I.declarations)!=null?a:"",I.tokens||[]],[L,ie]=[(l=$.declarations)!=null?l:"",$.tokens||[]],[te,ue]=[(c=V.declarations)!=null?c:"",V.tokens||[]],le=this.transformCSS(f,`${ee}${L}`,"light","variable",t,o,i,s),xe=this.transformCSS(f,te,"dark","variable",t,o,i,s);u=`${le}${xe}`,d=[...new Set([...F,...ie,...ue])],h=Hn(b,{dt:_c})}return{css:u,tokens:d,style:h}},getPresetC({name:n="",theme:e={},params:t,set:r,defaults:o}){var i;const{preset:s,options:a}=e,l=(i=s==null?void 0:s.components)==null?void 0:i[n];return this.getPreset({name:n,preset:l,options:a,params:t,set:r,defaults:o})},getPresetD({name:n="",theme:e={},params:t,set:r,defaults:o}){var i;const s=n.replace("-directive",""),{preset:a,options:l}=e,c=(i=a==null?void 0:a.directives)==null?void 0:i[s];return this.getPreset({name:s,preset:c,options:l,params:t,set:r,defaults:o})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,e){var t;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?e.options.darkModeSelector:(t=n.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(n,e={},t,r){const{cssLayer:o}=e;return o?`@layer ${Hn(o.order||"primeui",t)}`:""},getCommonStyleSheet({name:n="",theme:e={},params:t,props:r={},set:o,defaults:i}){const s=this.getCommon({name:n,theme:e,params:t,set:o,defaults:i}),a=Object.entries(r).reduce((l,[c,u])=>l.push(`${c}="${u}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[c,u])=>{if(u!=null&&u.css){const d=yc(u==null?void 0:u.css),h=`${c}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${h}" ${a}>${d}</style>`)}return l},[]).join("")},getStyleSheet({name:n="",theme:e={},params:t,props:r={},set:o,defaults:i}){var s;const a={name:n,theme:e,params:t,set:o,defaults:i},l=(s=n.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,c=Object.entries(r).reduce((u,[d,h])=>u.push(`${d}="${h}"`)&&u,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${n}-variables" ${c}>${yc(l)}</style>`:""},createTokens(n={},e,t="",r="",o={}){return Object.entries(n).forEach(([i,s])=>{const a=Wo(i,e.variable.excludedKeyRegex)?t:t?`${t}.${zw(i)}`:zw(i),l=r?`${r}.${i}`:i;So(s)?this.createTokens(s,e,a,l,o):(o[a]||(o[a]={paths:[],computed(c,u={}){var d,h;return this.paths.length===1?(d=this.paths[0])==null?void 0:d.computed(this.paths[0].scheme,u.binding):c&&c!=="none"?(h=this.paths.find(f=>f.scheme===c))==null?void 0:h.computed(c,u.binding):this.paths.map(f=>f.computed(f.scheme,u[f.scheme]))}}),o[a].paths.push({path:l,value:s,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(c,u={}){const d=/{([^}]*)}/g;let h=s;if(u.name=this.path,u.binding||(u.binding={}),Wo(s,d)){const p=s.trim().replaceAll(d,b=>{var _;const v=b.replace(/{|}/g,""),y=(_=o[v])==null?void 0:_.computed(c,u);return am(y)&&y.length===2?`light-dark(${y[0].value},${y[1].value})`:y==null?void 0:y.value}),m=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,g=/var\([^)]+\)/g;h=Wo(p.replace(g,"0"),m)?`calc(${p})`:p}return Yt(u.binding)&&delete u.binding,{colorScheme:c,path:this.path,paths:u,value:h.includes("undefined")?void 0:h}}}))}),o},getTokenValue(n,e,t){var r;const i=(l=>l.split(".").filter(u=>!Wo(u.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,a=[(r=n[i])==null?void 0:r.computed(s)].flat().filter(l=>l);return a.length===1?a[0].value:a.reduce((l={},c)=>{const u=c,{colorScheme:d}=u,h=Do(u,["colorScheme"]);return l[d]=h,l},void 0)},getSelectorRule(n,e,t,r){return t==="class"||t==="attr"?ca(pe(e)?`${n}${e},${n} ${e}`:n,r):ca(n,pe(e)?ca(e,r):r)},transformCSS(n,e,t,r,o={},i,s,a){if(pe(e)){const{cssLayer:l}=o;if(r!=="style"){const c=this.getColorSchemeOption(o,s);e=t==="dark"?c.reduce((u,{type:d,selector:h})=>(pe(h)&&(u+=h.includes("[CSS]")?h.replace("[CSS]",e):this.getSelectorRule(h,a,d,e)),u),""):ca(a??":root",e)}if(l){const c={name:"primeui",order:"primeui"};So(l)&&(c.name=Hn(l.name,{name:n,type:r})),pe(c.name)&&(e=ca(`@layer ${c.name}`,e),i==null||i.layerNames(c.name))}return e}return""}},nt={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){const{theme:e}=n;e&&(this._theme=bg($r({},e),{options:$r($r({},this.defaults.options),e.options)}),this._tokens=Dr.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),Fr.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=bg($r({},this.theme),{preset:n}),this._tokens=Dr.createTokens(n,this.defaults),this.clearLoadedStyleNames(),Fr.emit("preset:change",n),Fr.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=bg($r({},this.theme),{options:n}),this.clearLoadedStyleNames(),Fr.emit("options:change",n),Fr.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return Dr.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",e){return Dr.getCommon({name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",e){const t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Dr.getPresetC(t)},getDirective(n="",e){const t={name:n,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Dr.getPresetD(t)},getCustomPreset(n="",e,t,r){const o={name:n,preset:e,options:this.options,selector:t,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Dr.getPreset(o)},getLayerOrderCSS(n=""){return Dr.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",e,t="style",r){return Dr.transformCSS(n,e,r,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",e,t={}){return Dr.getCommonStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,e,t={}){return Dr.getStyleSheet({name:n,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),Fr.emit(`theme:${e}:load`,n),!this._loadingStyles.size&&Fr.emit("theme:load"))}},Pi={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}};function eu(n){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(n)}function Kw(n,e){return WH(n)||jH(n,e)||HH(n,e)||zH()}function zH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(n,e){if(n){if(typeof n=="string")return Xw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Xw(n,e):void 0}}function Xw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function jH(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function WH(n){if(Array.isArray(n))return n}function qw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function vg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(t),!0).forEach(function(r){KH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KH(n,e,t){return(e=XH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XH(n){var e=qH(n,"string");return eu(e)=="symbol"?e:e+""}function qH(n,e){if(eu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YH=function(e){var t=e.dt;return`
* {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(t("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(t("icon.size"),`;
}

.p-icon {
    width: `).concat(t("icon.size"),`;
    height: `).concat(t("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(t("mask.background"),`;
    color: `).concat(t("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(t("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(t("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(t("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(t("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},ZH=function(e){var t=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(t("scrollbar.width"),`;
}
`)},JH={},QH={},he={name:"base",css:ZH,theme:YH,classes:JH,inlineStyles:QH,load:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(i){return i},o=r(Hn(e,{dt:_c}));return pe(o)?lH(yc(o),vg({name:this.name},t)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadTheme:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.theme,t,function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nt.transformCSS(t.name||e.name,"".concat(o).concat(r))})},getCommonTheme:function(e){return nt.getCommon(this.name,e)},getComponentTheme:function(e){return nt.getComponent(this.name,e)},getDirectiveTheme:function(e){return nt.getDirective(this.name,e)},getPresetTheme:function(e,t,r){return nt.getCustomPreset(this.name,e,t,r)},getLayerOrderThemeCSS:function(){return nt.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Hn(this.css,{dt:_c})||"",o=yc("".concat(r).concat(e)),i=Object.entries(t).reduce(function(s,a){var l=Kw(a,2),c=l[0],u=l[1];return s.push("".concat(c,'="').concat(u,'"'))&&s},[]).join(" ");return pe(o)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(i,">").concat(o,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nt.getCommonStyleSheet(this.name,e,t)},getThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[nt.getStyleSheet(this.name,e,t)];if(this.theme){var o=this.name==="base"?"global-style":"".concat(this.name,"-style"),i=Hn(this.theme,{dt:_c}),s=yc(nt.transformCSS(o,i)),a=Object.entries(t).reduce(function(l,c){var u=Kw(c,2),d=u[0],h=u[1];return l.push("".concat(d,'="').concat(h,'"'))&&l},[]).join(" ");pe(s)&&r.push('<style type="text/css" data-primevue-style-id="'.concat(o,'" ').concat(a,">").concat(s,"</style>"))}return r.join("")},extend:function(e){return vg(vg({},this),{},{css:void 0,theme:void 0},e)}},Yw=he.extend({name:"common"});function tu(n){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(n)}function ej(n){return V8(n)||tj(n)||G8(n)||U8()}function tj(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Gl(n,e){return V8(n)||nj(n,e)||G8(n,e)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8(n,e){if(n){if(typeof n=="string")return Zw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Zw(n,e):void 0}}function Zw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function nj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function V8(n){if(Array.isArray(n))return n}function Jw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jw(Object(t),!0).forEach(function(r){Jl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jl(n,e,t){return(e=rj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rj(n){var e=oj(n,"string");return tu(e)=="symbol"?e:e+""}function oj(n,e){if(tu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var we={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e){var t=this;e?(this._loadScopedThemeStyles(e),this._themeChangeListener(function(){return t._loadScopedThemeStyles(e)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,$attrSelector:void 0,beforeCreate:function(){var e,t,r,o,i,s,a,l,c,u,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,f=h?(t=this.pt)===null||t===void 0||(t=t.originalValue)===null||t===void 0?void 0:t[this.$.type.name]:void 0,p=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(o=p||f)===null||o===void 0||(o=o.hooks)===null||o===void 0||(i=o.onBeforeCreate)===null||i===void 0||i.call(o);var m=(s=this.$primevueConfig)===null||s===void 0||(s=s.pt)===null||s===void 0?void 0:s._usept,g=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,b=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0?void 0:c.pt;(u=b||g)===null||u===void 0||(u=u[this.$.type.name])===null||u===void 0||(u=u.hooks)===null||u===void 0||(d=u.onBeforeCreate)===null||d===void 0||d.call(u),this.$attrSelector=v_("pc")},created:function(){this._hook("onCreated")},beforeMount:function(){this.rootEl=an(this.$el,'[data-pc-name="'.concat(Nr(this.$.type.name),'"]')),this.rootEl&&(this.$attrSelector&&!this.rootEl.hasAttribute(this.$attrSelector)&&this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=Ue({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));t==null||t(),r==null||r()}},_mergeProps:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return sm(e)?e.apply(void 0,r):T.apply(void 0,r)},_loadStyles:function(){var e=this,t=function(){Pi.isStyleNameLoaded("base")||(he.loadCSS(e.$styleOptions),e._loadGlobalStyles(),Pi.setLoadedStyleName("base")),e._loadThemeStyles()};t(),this._themeChangeListener(t)},_loadCoreStyles:function(){var e,t;!Pi.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name&&(Yw.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),Pi.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);pe(e)&&he.load(e,Ue({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,t;if(!(this.isUnstyled||this.$theme==="none")){if(!nt.isStyleNameLoaded("common")){var r,o,i=((r=this.$style)===null||r===void 0||(o=r.getCommonTheme)===null||o===void 0?void 0:o.call(r))||{},s=i.primitive,a=i.semantic,l=i.global,c=i.style;he.load(s==null?void 0:s.css,Ue({name:"primitive-variables"},this.$styleOptions)),he.load(a==null?void 0:a.css,Ue({name:"semantic-variables"},this.$styleOptions)),he.load(l==null?void 0:l.css,Ue({name:"global-variables"},this.$styleOptions)),he.loadTheme(Ue({name:"global-style"},this.$styleOptions),c),nt.setLoadedStyleName("common")}if(!nt.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(t=this.$style)!==null&&t!==void 0&&t.name){var u,d,h,f,p=((u=this.$style)===null||u===void 0||(d=u.getComponentTheme)===null||d===void 0?void 0:d.call(u))||{},m=p.css,g=p.style;(h=this.$style)===null||h===void 0||h.load(m,Ue({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(f=this.$style)===null||f===void 0||f.loadTheme(Ue({name:"".concat(this.$style.name,"-style")},this.$styleOptions),g),nt.setLoadedStyleName(this.$style.name)}if(!nt.isStyleNameLoaded("layer-order")){var b,_,v=(b=this.$style)===null||b===void 0||(_=b.getLayerOrderThemeCSS)===null||_===void 0?void 0:_.call(b);he.load(v,Ue({name:"layer-order",first:!0},this.$styleOptions)),nt.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var t,r,o,i=((t=this.$style)===null||t===void 0||(r=t.getPresetTheme)===null||r===void 0?void 0:r.call(t,e,"[".concat(this.$attrSelector,"]")))||{},s=i.css,a=(o=this.$style)===null||o===void 0?void 0:o.load(s,Ue({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=a.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Pi.clearLoadedStyleNames(),Fr.on("theme:change",e)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var t;return this[e]||((t=this._getHostInstance(this))===null||t===void 0?void 0:t[e])},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g_(e,t,r)},_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=/./g.test(r)&&!!o[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,d=u===void 0?!1:u,h=i?s?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,f=s?void 0:this._getPTSelf(t,this._getPTClassValue,r,Ue(Ue({},o),{},{global:h||{}})),p=this._getPTDatasets(r);return c||!c&&f?d?this._mergeProps(d,h,f,p):Ue(Ue(Ue({},h),f),p):Ue(Ue({},f),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return T(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o="data-pc-",i=r==="root"&&pe((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&Ue(Ue({},r==="root"&&Ue(Ue(Jl({},"".concat(o,"name"),Nr(i?(t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]:this.$.type.name)),i&&Jl({},"".concat(o,"extend"),Nr(this.$.type.name))),im()&&Jl({},"".concat(this.$attrSelector),""))),{},Jl({},"".concat(o,"section"),Nr(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Kn(e)||am(e)?{class:e}:e},_getPT:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=function(a){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=o?o(a):a,d=Nr(r),h=Nr(t.$name);return(l=c?d!==h?u==null?void 0:u[d]:void 0:u==null?void 0:u[d])!==null&&l!==void 0?l:u};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},_usePT:function(e,t,r,o){var i=function(m){return t(m,r,o)};if(e!=null&&e.hasOwnProperty("_usept")){var s,a=e._usept||((s=this.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,d=u===void 0?!1:u,h=i(e.originalValue),f=i(e.value);return h===void 0&&f===void 0?void 0:Kn(f)?f:Kn(h)?h:c||!c&&f?d?this._mergeProps(d,h,f):Ue(Ue({},h),f):f}return i(e)},_useGlobalPT:function(e,t,r){return this._usePT(this.globalPT,e,t,r)},_useDefaultPT:function(e,t,r){return this._usePT(this.defaultPT,e,t,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,Ue(Ue({},this.$params),t))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T(this.$_attrsWithoutPT,this.ptm(e,t))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,Ue({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,Ue(Ue({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var o=this._getOptionValue(this.$style.inlineStyles,e,Ue(Ue({},this.$params),r)),i=this._getOptionValue(Yw.inlineStyles,e,Ue(Ue({},this.$params),r));return[i,o]}}},computed:{globalPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Hn(r,{instance:t})})},defaultPT:function(){var e,t=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return t._getOptionValue(r,t.$name,Ue({},t.$params))||Hn(r,Ue({},t.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$inProps:function(){var e,t=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(r){var o=Gl(r,1),i=o[0];return t==null?void 0:t.includes(i)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return Ue(Ue({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=Gl(e,1),r=t[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,t){var r=Gl(t,2),o=r[0],i=r[1],s=o.split(":"),a=ej(s),l=a.slice(1);return l==null||l.reduce(function(c,u,d,h){return!c[u]&&(c[u]=d===h.length-1?i:{}),c[u]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=Gl(e,1),r=t[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,t){var r=Gl(t,2),o=r[0],i=r[1];return e[o]=i,e},{})}}},ij=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,sj=he.extend({name:"baseicon",css:ij});function nu(n){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(n)}function Qw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function eC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(t),!0).forEach(function(r){aj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aj(n,e,t){return(e=lj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lj(n){var e=cj(n,"string");return nu(e)=="symbol"?e:e+""}function cj(n,e){if(nu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qe={name:"BaseIcon",extends:we,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:sj,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=Yt(this.label);return eC(eC({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},gd={name:"ChevronRightIcon",extends:qe};function uj(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)]),16)}gd.render=uj;var y_={name:"ChevronUpIcon",extends:qe};function dj(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)]),16)}y_.render=dj;var hj={root:"p-accordioncontent",content:"p-accordioncontent-content"},fj=he.extend({name:"accordioncontent",classes:hj}),pj={name:"BaseAccordionContent",extends:we,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:fj,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},__={name:"AccordionContent",extends:pj,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return T(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function mj(n,e,t,r,o,i){return n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),active:i.$pcAccordionPanel.active,a11yAttrs:i.a11yAttrs}):(x(),N(ol,T({key:0,name:"p-toggleable-content"},n.ptm("transition",i.ptParams)),{default:q(function(){return[!i.$pcAccordion.lazy||i.$pcAccordionPanel.active?Gt((x(),N(re(n.as),T({key:0,class:n.cx("root")},i.attrs),{default:q(function(){return[G("div",T({class:n.cx("content")},n.ptm("content",i.ptParams)),[K(n.$slots,"default")],16)]}),_:3},16,["class"])),[[G3,i.$pcAccordion.lazy?!0:i.$pcAccordionPanel.active]]):j("",!0)]}),_:3},16))}__.render=mj;var wl={name:"ChevronDownIcon",extends:qe};function gj(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}wl.render=gj;var ga=Uu();function ru(n){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(n)}function tC(n,e){return _j(n)||yj(n,e)||vj(n,e)||bj()}function bj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vj(n,e){if(n){if(typeof n=="string")return nC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nC(n,e):void 0}}function nC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function yj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function _j(n){if(Array.isArray(n))return n}function rC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function je(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(t),!0).forEach(function(r){l0(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l0(n,e,t){return(e=xj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xj(n){var e=wj(n,"string");return ru(e)=="symbol"?e:e+""}function wj(n,e){if(ru(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Oe={_getMeta:function(){return[So(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Hn(So(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var r,o,i;return(r=(e==null||(o=e.instance)===null||o===void 0?void 0:o.$primevue)||(t==null||(i=t.ctx)===null||i===void 0||(i=i.appContext)===null||i===void 0||(i=i.config)===null||i===void 0||(i=i.globalProperties)===null||i===void 0?void 0:i.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:g_,_getPTValue:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var _=Oe._getOptionValue.apply(Oe,arguments);return Kn(_)||am(_)?{class:_}:_},c=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((t=r.$primevueConfig)===null||t===void 0?void 0:t.ptOptions)||{},u=c.mergeSections,d=u===void 0?!0:u,h=c.mergeProps,f=h===void 0?!1:h,p=a?Oe._useDefaultPT(r,r.defaultPT(),l,i,s):void 0,m=Oe._usePT(r,Oe._getPT(o,r.$name),l,i,je(je({},s),{},{global:p||{}})),g=Oe._getPTDatasets(r,i);return d||!d&&m?f?Oe._mergeProps(r,f,p,m,g):je(je(je({},p),m),g):je(je({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return je(je({},t==="root"&&l0({},"".concat(r,"name"),Nr(e.$name))),{},l0({},"".concat(r,"section"),Nr(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=function(s){var a,l=r?r(s):s,c=Nr(t);return(a=l==null?void 0:l[c])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:o(e.originalValue),value:o(e.value)}:o(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=function(g){return r(g,o,i)};if(t!=null&&t.hasOwnProperty("_usept")){var a,l=t._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},c=l.mergeSections,u=c===void 0?!0:c,d=l.mergeProps,h=d===void 0?!1:d,f=s(t.originalValue),p=s(t.value);return f===void 0&&p===void 0?void 0:Kn(p)?p:Kn(f)?f:u||!u&&p?h?Oe._mergeProps(e,h,f,p):je(je({},f),p):p}return s(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return Oe._usePT(e,t,r,o,i)},_loadStyles:function(e,t,r){var o,i=Oe._getConfig(t,r),s={nonce:i==null||(o=i.csp)===null||o===void 0?void 0:o.nonce};Oe._loadCoreStyles(e.$instance,s),Oe._loadThemeStyles(e.$instance,s),Oe._loadScopedThemeStyles(e.$instance,s),Oe._themeChangeListener(function(){return Oe._loadThemeStyles(e.$instance,s)})},_loadCoreStyles:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(!Pi.isStyleNameLoaded((e=r.$style)===null||e===void 0?void 0:e.name)&&(t=r.$style)!==null&&t!==void 0&&t.name){var i;he.loadCSS(o),(i=r.$style)===null||i===void 0||i.loadCSS(o),Pi.setLoadedStyleName(r.$style.name)}},_loadThemeStyles:function(){var e,t,r,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(!(o!=null&&o.isUnstyled()||(o==null||(e=o.theme)===null||e===void 0?void 0:e.call(o))==="none")){if(!nt.isStyleNameLoaded("common")){var s,a,l=((s=o.$style)===null||s===void 0||(a=s.getCommonTheme)===null||a===void 0?void 0:a.call(s))||{},c=l.primitive,u=l.semantic,d=l.global,h=l.style;he.load(c==null?void 0:c.css,je({name:"primitive-variables"},i)),he.load(u==null?void 0:u.css,je({name:"semantic-variables"},i)),he.load(d==null?void 0:d.css,je({name:"global-variables"},i)),he.loadTheme(je({name:"global-style"},i),h),nt.setLoadedStyleName("common")}if(!nt.isStyleNameLoaded((t=o.$style)===null||t===void 0?void 0:t.name)&&(r=o.$style)!==null&&r!==void 0&&r.name){var f,p,m,g,b=((f=o.$style)===null||f===void 0||(p=f.getDirectiveTheme)===null||p===void 0?void 0:p.call(f))||{},_=b.css,v=b.style;(m=o.$style)===null||m===void 0||m.load(_,je({name:"".concat(o.$style.name,"-variables")},i)),(g=o.$style)===null||g===void 0||g.loadTheme(je({name:"".concat(o.$style.name,"-style")},i),v),nt.setLoadedStyleName(o.$style.name)}if(!nt.isStyleNameLoaded("layer-order")){var y,w,S=(y=o.$style)===null||y===void 0||(w=y.getLayerOrderThemeCSS)===null||w===void 0?void 0:w.call(y);he.load(S,je({name:"layer-order",first:!0},i)),nt.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.preset();if(r&&e.$attrSelector){var o,i,s,a=((o=e.$style)===null||o===void 0||(i=o.getPresetTheme)===null||i===void 0?void 0:i.call(o,r,"[".concat(e.$attrSelector,"]")))||{},l=a.css,c=(s=e.$style)===null||s===void 0?void 0:s.load(l,je({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},t));e.scopedStyleEl=c.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Pi.clearLoadedStyleNames(),Fr.on("theme:change",e)},_hook:function(e,t,r,o,i,s){var a,l,c="on".concat(vH(t)),u=Oe._getConfig(o,i),d=r==null?void 0:r.$instance,h=Oe._usePT(d,Oe._getPT(o==null||(a=o.value)===null||a===void 0?void 0:a.pt,e),Oe._getOptionValue,"hooks.".concat(c)),f=Oe._useDefaultPT(d,u==null||(l=u.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Oe._getOptionValue,"hooks.".concat(c)),p={el:r,binding:o,vnode:i,prevVnode:s};h==null||h(d,p),f==null||f(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];return sm(e)?e.apply(void 0,r):T.apply(void 0,r)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,a,l,c,u){var d,h,f,p;a._$instances=a._$instances||{};var m=Oe._getConfig(l,c),g=a._$instances[e]||{},b=Yt(g)?je(je({},t),t==null?void 0:t.methods):{};a._$instances[e]=je(je({},g),{},{$name:e,$host:a,$binding:l,$modifiers:l==null?void 0:l.modifiers,$value:l==null?void 0:l.value,$el:g.$el||a||void 0,$style:je({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},t==null?void 0:t.style),$primevueConfig:m,$attrSelector:(d=a.$pd)===null||d===void 0||(d=d[e])===null||d===void 0?void 0:d.attrSelector,defaultPT:function(){return Oe._getPT(m==null?void 0:m.pt,void 0,function(v){var y;return v==null||(y=v.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var v,y;return((v=a.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.unstyled)!==void 0?(y=a.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:m==null?void 0:m.unstyled},theme:function(){var v;return(v=a.$instance)===null||v===void 0||(v=v.$primevueConfig)===null||v===void 0?void 0:v.theme},preset:function(){var v;return(v=a.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.dt},ptm:function(){var v,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Oe._getPTValue(a.$instance,(v=a.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.pt,y,je({},w))},ptmo:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Oe._getPTValue(a.$instance,v,y,w,!1)},cx:function(){var v,y,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(v=a.$instance)!==null&&v!==void 0&&v.isUnstyled()?void 0:Oe._getOptionValue((y=a.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,w,je({},S))},sx:function(){var v,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return w?Oe._getOptionValue((v=a.$instance)===null||v===void 0||(v=v.$style)===null||v===void 0?void 0:v.inlineStyles,y,je({},S)):void 0}},b),a.$instance=a._$instances[e],(h=(f=a.$instance)[s])===null||h===void 0||h.call(f,a,l,c,u),a["$".concat(e)]=a.$instance,Oe._hook(e,s,a,l,c,u),a.$pd||(a.$pd={}),a.$pd[e]=je(je({},(p=a.$pd)===null||p===void 0?void 0:p[e]),{},{name:e,instance:a.$instance})},o=function(s){var a,l,c,u,d,h=(a=s.$instance)===null||a===void 0?void 0:a.watch;h==null||(l=h.config)===null||l===void 0||l.call(s.$instance,(c=s.$instance)===null||c===void 0?void 0:c.$primevueConfig),ga.on("config:change",function(f){var p,m=f.newValue,g=f.oldValue;return h==null||(p=h.config)===null||p===void 0?void 0:p.call(s.$instance,m,g)}),h==null||(u=h["config.ripple"])===null||u===void 0||u.call(s.$instance,(d=s.$instance)===null||d===void 0||(d=d.$primevueConfig)===null||d===void 0?void 0:d.ripple),ga.on("config:ripple:change",function(f){var p,m=f.newValue,g=f.oldValue;return h==null||(p=h["config.ripple"])===null||p===void 0?void 0:p.call(s.$instance,m,g)})};return{created:function(s,a,l,c){s.$pd||(s.$pd={}),s.$pd[e]={name:e,attrSelector:v_("pd")},r("created",s,a,l,c)},beforeMount:function(s,a,l,c){Oe._loadStyles(s,a,l),r("beforeMount",s,a,l,c),o(s)},mounted:function(s,a,l,c){Oe._loadStyles(s,a,l),r("mounted",s,a,l,c)},beforeUpdate:function(s,a,l,c){r("beforeUpdate",s,a,l,c)},updated:function(s,a,l,c){Oe._loadStyles(s,a,l),r("updated",s,a,l,c)},beforeUnmount:function(s,a,l,c){r("beforeUnmount",s,a,l,c)},unmounted:function(s,a,l,c){var u;(u=s.$instance)===null||u===void 0||(u=u.scopedStyleEl)===null||u===void 0||(u=u.value)===null||u===void 0||u.remove(),r("unmounted",s,a,l,c)}}},extend:function(){var e=Oe._getMeta.apply(Oe,arguments),t=tC(e,2),r=t[0],o=t[1];return je({extend:function(){var s=Oe._getMeta.apply(Oe,arguments),a=tC(s,2),l=a[0],c=a[1];return Oe.extend(l,je(je(je({},o),o==null?void 0:o.methods),c))}},Oe._extend(r,o))}},Cj=function(e){var t=e.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(t("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},Sj={root:"p-ink"},Tj=he.extend({name:"ripple-directive",theme:Cj,classes:Sj}),kj=Oe.extend({style:Tj});function ou(n){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(n)}function Ej(n){return Rj(n)||Ij(n)||Pj(n)||Aj()}function Aj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pj(n,e){if(n){if(typeof n=="string")return c0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c0(n,e):void 0}}function Ij(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rj(n){if(Array.isArray(n))return c0(n)}function c0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function oC(n,e,t){return(e=Bj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bj(n){var e=Oj(n,"string");return ou(e)=="symbol"?e:e+""}function Oj(n,e){if(ou(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fn=kj.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var t=vc("span",oC(oC({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));e.appendChild(t),this.$el=t},remove:function(e){var t=this.getInk(e);t&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),t.removeEventListener("animationend",this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,r=e.currentTarget,o=this.getInk(r);if(!(!o||getComputedStyle(o,null).display==="none")){if(!this.isUnstyled()&&uo(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"),!Ai(o)&&!Gr(o)){var i=Math.max(Rt(r),sr(r));o.style.height=i+"px",o.style.width=i+"px"}var s=Cr(r),a=e.pageX-s.left+document.body.scrollTop-Gr(o)/2,l=e.pageY-s.top+document.body.scrollLeft-Ai(o)/2;o.style.top=l+"px",o.style.left=a+"px",!this.isUnstyled()&&jo(o,"p-ink-active"),o.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){o&&(!t.isUnstyled()&&uo(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&uo(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?Ej(e.children).find(function(t){return Ze(t,"data-pc-name")==="ripple"}):void 0}}}),Dj={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},Mj=he.extend({name:"accordionheader",classes:Dj}),Fj={name:"BaseAccordionHeader",extends:we,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:Mj,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},x_={name:"AccordionHeader",extends:Fj,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break}},onArrowDownKey:function(e){var t=this.findNextPanel(this.findPanel(e.currentTarget));t?this.changeFocusedPanel(e,t):this.onHomeKey(e),e.preventDefault()},onArrowUpKey:function(e){var t=this.findPrevPanel(this.findPanel(e.currentTarget));t?this.changeFocusedPanel(e,t):this.onEndKey(e),e.preventDefault()},onHomeKey:function(e){var t=this.findFirstPanel();this.changeFocusedPanel(e,t),e.preventDefault()},onEndKey:function(e){var t=this.findLastPanel();this.changeFocusedPanel(e,t),e.preventDefault()},onEnterKey:function(e){this.changeActiveValue(),e.preventDefault()},findPanel:function(e){return e==null?void 0:e.closest('[data-pc-name="accordionpanel"]')},findHeader:function(e){return an(e,'[data-pc-name="accordionheader"]')},findNextPanel:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t?e:e.nextElementSibling;return r?Ze(r,"data-p-disabled")?this.findNextPanel(r):this.findHeader(r):null},findPrevPanel:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t?e:e.previousElementSibling;return r?Ze(r,"data-p-disabled")?this.findPrevPanel(r):this.findHeader(r):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(e,t){Xe(this.findHeader(t))}},computed:{id:function(){return"".concat(this.$pcAccordion.id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return T(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}},components:{ChevronUpIcon:y_,ChevronDownIcon:wl},directives:{ripple:fn}};function Lj(n,e,t,r,o,i){var s=hn("ripple");return n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),active:i.$pcAccordionPanel.active,a11yAttrs:i.a11yAttrs,onClick:i.onClick}):Gt((x(),N(re(n.as),T({key:0,class:n.cx("root"),onClick:i.onClick},i.attrs),{default:q(function(){return[K(n.$slots,"default",{active:i.$pcAccordionPanel.active}),K(n.$slots,"toggleicon",{active:i.$pcAccordionPanel.active,class:ce(n.cx("toggleicon"))},function(){return[i.$pcAccordionPanel.active?(x(),N(re(i.$pcAccordion.$slots.collapseicon?i.$pcAccordion.$slots.collapseicon:i.$pcAccordion.collapseIcon?"span":"ChevronDownIcon"),T({key:0,class:[i.$pcAccordion.collapseIcon,n.cx("toggleicon")],"aria-hidden":"true"},n.ptm("toggleicon",i.ptParams)),null,16,["class"])):(x(),N(re(i.$pcAccordion.$slots.expandicon?i.$pcAccordion.$slots.expandicon:i.$pcAccordion.expandIcon?"span":"ChevronUpIcon"),T({key:1,class:[i.$pcAccordion.expandIcon,n.cx("toggleicon")],"aria-hidden":"true"},n.ptm("toggleicon",i.ptParams)),null,16,["class"]))]})]}),_:3},16,["class","onClick"])),[[s]])}x_.render=Lj;var Nj={root:function(e){var t=e.instance,r=e.props;return["p-accordionpanel",{"p-accordionpanel-active":t.active,"p-disabled":r.disabled}]}},$j=he.extend({name:"accordionpanel",classes:Nj}),Uj={name:"BaseAccordionPanel",extends:we,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:$j,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},w_={name:"AccordionPanel",extends:Uj,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return T(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function Gj(n,e,t,r,o,i){return n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),active:i.active,a11yAttrs:i.a11yAttrs}):(x(),N(re(n.as),T({key:0,class:n.cx("root")},i.attrs),{default:q(function(){return[K(n.$slots,"default")]}),_:3},16,["class"]))}w_.render=Gj;var Vj=function(e){var t=e.dt;return`
.p-accordionpanel {
    display: flex;
    flex-direction: column;
    border-style: solid;
    border-width: `.concat(t("accordion.panel.border.width"),`;
    border-color: `).concat(t("accordion.panel.border.color"),`;
}

.p-accordionheader {
    all: unset;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: `).concat(t("accordion.header.padding"),`;
    color: `).concat(t("accordion.header.color"),`;
    background: `).concat(t("accordion.header.background"),`;
    border-style: solid;
    border-width: `).concat(t("accordion.header.border.width"),`;
    border-color: `).concat(t("accordion.header.border.color"),`;
    font-weight: `).concat(t("accordion.header.font.weight"),`;
    border-radius: `).concat(t("accordion.header.border.radius"),`;
    transition: background `).concat(t("accordion.transition.duration"),"; color ").concat(t("accordion.transition.duration"),"color ").concat(t("accordion.transition.duration"),", outline-color ").concat(t("accordion.transition.duration"),", box-shadow ").concat(t("accordion.transition.duration"),`;
    outline-color: transparent;
}

.p-accordionpanel:first-child > .p-accordionheader {
    border-width: `).concat(t("accordion.header.first.border.width"),`;
    border-start-start-radius: `).concat(t("accordion.header.first.top.border.radius"),`;
    border-start-end-radius: `).concat(t("accordion.header.first.top.border.radius"),`;
}

.p-accordionpanel:last-child > .p-accordionheader {
    border-end-start-radius: `).concat(t("accordion.header.last.bottom.border.radius"),`;
    border-end-end-radius: `).concat(t("accordion.header.last.bottom.border.radius"),`;
}

.p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
    border-end-start-radius: `).concat(t("accordion.header.last.active.bottom.border.radius"),`;
    border-end-end-radius: `).concat(t("accordion.header.last.active.bottom.border.radius"),`;
}

.p-accordionheader-toggle-icon {
    color: `).concat(t("accordion.header.toggle.icon.color"),`;
}

.p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
    box-shadow: `).concat(t("accordion.header.focus.ring.shadow"),`;
    outline: `).concat(t("accordion.header.focus.ring.width")," ").concat(t("accordion.header.focus.ring.style")," ").concat(t("accordion.header.focus.ring.color"),`;
    outline-offset: `).concat(t("accordion.header.focus.ring.offset"),`;
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
    background: `).concat(t("accordion.header.hover.background"),`;
    color: `).concat(t("accordion.header.hover.color"),`;
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
    color: `).concat(t("accordion.header.toggle.icon.hover.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
    background: `).concat(t("accordion.header.active.background"),`;
    color: `).concat(t("accordion.header.active.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
    color: `).concat(t("accordion.header.toggle.icon.active.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
    background: `).concat(t("accordion.header.active.hover.background"),`;
    color: `).concat(t("accordion.header.active.hover.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
    color: `).concat(t("accordion.header.toggle.icon.active.hover.color"),`;
}

.p-accordioncontent-content {
    border-style: solid;
    border-width: `).concat(t("accordion.content.border.width"),`;
    border-color: `).concat(t("accordion.content.border.color"),`;
    background-color: `).concat(t("accordion.content.background"),`;
    color: `).concat(t("accordion.content.color"),`;
    padding: `).concat(t("accordion.content.padding"),`;
}
`)},zj={root:"p-accordion p-component"},Hj=he.extend({name:"accordion",theme:Vj,classes:zj}),jj={name:"BaseAccordion",extends:we,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:Hj,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},z8={name:"Accordion",extends:jj,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_value:this.value}},watch:{"$attrs.id":function(e){this.id=e||$t()},value:function(e){this.d_value=e},activeIndex:{immediate:!0,handler:function(e){this.hasAccordionTab&&(this.d_value=this.multiple?e==null?void 0:e.map(String):e==null?void 0:e.toString())}}},mounted:function(){this.id=this.id||$t()},methods:{isItemActive:function(e){var t;return this.multiple?(t=this.d_value)===null||t===void 0?void 0:t.includes(e):this.d_value===e},updateValue:function(e){var t,r=this.isItemActive(e);this.multiple?r?this.d_value=this.d_value.filter(function(o){return o!==e}):this.d_value?this.d_value.push(e):this.d_value=[e]:this.d_value=r?null:e,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(t=this.d_value)===null||t===void 0?void 0:t.map(Number):Number(this.d_value)),this.$emit(r?"tab-close":"tab-open",{originalEvent:void 0,index:Number(e)})},isAccordionTab:function(e){return e.type.name==="AccordionTab"},getTabProp:function(e,t){return e.props?e.props[t]:void 0},getKey:function(e,t){return this.getTabProp(e,"header")||t},getHeaderPT:function(e,t){var r=this;return{root:T({onClick:function(i){return r.onTabClick(i,t)}},this.getTabProp(e,"headerProps"),this.getTabPT(e,"header",t)),toggleicon:T(this.getTabProp(e,"headeractionprops"),this.getTabPT(e,"headeraction",t))}},getContentPT:function(e,t){return{root:T(this.getTabProp(e,"contentProps"),this.getTabPT(e,"toggleablecontent",t)),transition:this.getTabPT(e,"transition",t),content:this.getTabPT(e,"content",t)}},getTabPT:function(e,t,r){var o=this.tabs.length,i={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:o,first:r===0,last:r===o-1,active:this.isItemActive("".concat(r))}};return T(this.ptm("accordiontab.".concat(t),i),this.ptmo(this.getTabProp(e,"pt"),t,i))},onTabClick:function(e,t){this.$emit("tab-click",{originalEvent:e,index:t})}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(t,r){return e.isAccordionTab(r)?t.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(o){e.isAccordionTab(o)&&t.push(o)}),t},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:w_,AccordionHeader:x_,AccordionContent:__,ChevronUpIcon:y_,ChevronRightIcon:gd}};function Wj(n,e,t,r,o,i){var s=X("AccordionHeader"),a=X("AccordionContent"),l=X("AccordionPanel");return x(),R("div",T({class:n.cx("root")},n.ptmi("root")),[i.hasAccordionTab?(x(!0),R(oe,{key:0},st(i.tabs,function(c,u){return x(),N(l,{key:i.getKey(c,u),value:"".concat(u),pt:{root:i.getTabPT(c,"root",u)},disabled:i.getTabProp(c,"disabled")},{default:q(function(){return[W(s,{class:ce(i.getTabProp(c,"headerClass")),pt:i.getHeaderPT(c,u)},{toggleicon:q(function(d){return[d.active?(x(),N(re(n.$slots.collapseicon?n.$slots.collapseicon:n.collapseIcon?"span":"ChevronDownIcon"),T({key:0,class:[n.collapseIcon,d.class],"aria-hidden":"true",ref_for:!0},i.getTabPT(c,"headericon",u)),null,16,["class"])):(x(),N(re(n.$slots.expandicon?n.$slots.expandicon:n.expandIcon?"span":"ChevronUpIcon"),T({key:1,class:[n.expandIcon,d.class],"aria-hidden":"true",ref_for:!0},i.getTabPT(c,"headericon",u)),null,16,["class"]))]}),default:q(function(){return[c.children&&c.children.headericon?(x(),N(re(c.children.headericon),{key:0,isTabActive:i.isItemActive("".concat(u)),active:i.isItemActive("".concat(u)),index:u},null,8,["isTabActive","active","index"])):j("",!0),c.props&&c.props.header?(x(),R("span",T({key:1,ref_for:!0},i.getTabPT(c,"headertitle",u)),Be(c.props.header),17)):j("",!0),c.children&&c.children.header?(x(),N(re(c.children.header),{key:2})):j("",!0)]}),_:2},1032,["class","pt"]),W(a,{pt:i.getContentPT(c,u)},{default:q(function(){return[(x(),N(re(c)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):K(n.$slots,"default",{key:1})],16)}z8.render=Wj;var Cl={name:"SpinnerIcon",extends:qe};function Kj(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}Cl.render=Kj;var Af={name:"TimesCircleIcon",extends:qe};function Xj(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1)]),16)}Af.render=Xj;var qj=function(e){var t=e.dt;return`
.p-chip {
    display: inline-flex;
    align-items: center;
    background: `.concat(t("chip.background"),`;
    color: `).concat(t("chip.color"),`;
    border-radius: `).concat(t("chip.border.radius"),`;
    padding-block: `).concat(t("chip.padding.y"),`;
    padding-inline: `).concat(t("chip.padding.x"),`;
    gap: `).concat(t("chip.gap"),`;
}

.p-chip-icon {
    color: `).concat(t("chip.icon.color"),`;
    font-size: `).concat(t("chip.icon.font.size"),`;
    width: `).concat(t("chip.icon.size"),`;
    height: `).concat(t("chip.icon.size"),`;
}

.p-chip-image {
    border-radius: 50%;
    width: `).concat(t("chip.image.width"),`;
    height: `).concat(t("chip.image.height"),`;
    margin-inline-start: calc(-1 * `).concat(t("chip.padding.y"),`);
}

.p-chip:has(.p-chip-remove-icon) {
    padding-inline-end: `).concat(t("chip.padding.y"),`;
}

.p-chip:has(.p-chip-image) {
    padding-block-start: calc(`).concat(t("chip.padding.y"),` / 2);
    padding-block-end: calc(`).concat(t("chip.padding.y"),` / 2);
}

.p-chip-remove-icon {
    cursor: pointer;
    font-size: `).concat(t("chip.remove.icon.size"),`;
    width: `).concat(t("chip.remove.icon.size"),`;
    height: `).concat(t("chip.remove.icon.size"),`;
    color: `).concat(t("chip.remove.icon.color"),`;
    border-radius: 50%;
    transition: outline-color `).concat(t("chip.transition.duration"),", box-shadow ").concat(t("chip.transition.duration"),`;
    outline-color: transparent;
}

.p-chip-remove-icon:focus-visible {
    box-shadow: `).concat(t("chip.remove.icon.focus.ring.shadow"),`;
    outline: `).concat(t("chip.remove.icon.focus.ring.width")," ").concat(t("chip.remove.icon.focus.ring.style")," ").concat(t("chip.remove.icon.focus.ring.color"),`;
    outline-offset: `).concat(t("chip.remove.icon.focus.ring.offset"),`;
}
`)},Yj={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},Zj=he.extend({name:"chip",theme:qj,classes:Yj}),Jj={name:"BaseChip",extends:we,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:Zj,provide:function(){return{$pcChip:this,$parentInstance:this}}},H8={name:"Chip",extends:Jj,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:Af}},Qj=["aria-label"],eW=["src"];function tW(n,e,t,r,o,i){return o.visible?(x(),R("div",T({key:0,class:n.cx("root"),"aria-label":n.label},n.ptmi("root")),[K(n.$slots,"default",{},function(){return[n.image?(x(),R("img",T({key:0,src:n.image},n.ptm("image"),{class:n.cx("image")}),null,16,eW)):n.$slots.icon?(x(),N(re(n.$slots.icon),T({key:1,class:n.cx("icon")},n.ptm("icon")),null,16,["class"])):n.icon?(x(),R("span",T({key:2,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):j("",!0),n.label?(x(),R("div",T({key:3,class:n.cx("label")},n.ptm("label")),Be(n.label),17)):j("",!0)]}),n.removable?K(n.$slots,"removeicon",{key:0,removeCallback:i.close,keydownCallback:i.onKeydown},function(){return[(x(),N(re(n.removeIcon?"span":"TimesCircleIcon"),T({tabindex:"0",class:[n.cx("removeIcon"),n.removeIcon],onClick:i.close,onKeydown:i.onKeydown},n.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):j("",!0)],16,Qj)):j("",!0)}H8.render=tW;var C_={name:"BaseEditableHolder",extends:we,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(e){this.d_value=e},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var t,r;this.formField=((t=this.$pcForm)===null||t===void 0||(r=t.register)===null||r===void 0?void 0:r.call(t,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var t,r;this.formField=((t=this.$pcForm)===null||t===void 0||(r=t.register)===null||r===void 0?void 0:r.call(t,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,t){var r,o;this.controlled&&(this.d_value=e,this.$emit("update:modelValue",e)),this.$emit("value-change",e),(r=(o=this.formField).onChange)===null||r===void 0||r.call(o,{originalEvent:t,value:e})}},computed:{$filled:function(){return pe(this.d_value)},$invalid:function(){var e,t,r,o;return(e=(t=this.invalid)!==null&&t!==void 0?t:(r=this.$pcFormField)===null||r===void 0||(r=r.$field)===null||r===void 0?void 0:r.invalid)!==null&&e!==void 0?e:(o=this.$pcForm)===null||o===void 0||(o=o.states)===null||o===void 0||(o=o[this.$formName])===null||o===void 0?void 0:o.invalid},$formName:function(){var e;return this.name||((e=this.$formControl)===null||e===void 0?void 0:e.name)},$formControl:function(){var e;return this.formControl||((e=this.$pcFormField)===null||e===void 0?void 0:e.formControl)},$formDefaultValue:function(){var e,t,r,o;return(e=(t=this.d_value)!==null&&t!==void 0?t:(r=this.$pcFormField)===null||r===void 0?void 0:r.initialValue)!==null&&e!==void 0?e:(o=this.$pcForm)===null||o===void 0||(o=o.initialValues)===null||o===void 0?void 0:o[this.$formName]},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},Sl={name:"BaseInput",extends:C_,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var e;return(e=this.variant)!==null&&e!==void 0?e:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var e;return(e=this.fluid)!==null&&e!==void 0?e:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},nW=function(e){var t=e.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(t("inputtext.color"),`;
    background: `).concat(t("inputtext.background"),`;
    padding-block: `).concat(t("inputtext.padding.y"),`;
    padding-inline: `).concat(t("inputtext.padding.x"),`;
    border: 1px solid `).concat(t("inputtext.border.color"),`;
    transition: background `).concat(t("inputtext.transition.duration"),", color ").concat(t("inputtext.transition.duration"),", border-color ").concat(t("inputtext.transition.duration"),", outline-color ").concat(t("inputtext.transition.duration"),", box-shadow ").concat(t("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(t("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(t("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(t("inputtext.focus.border.color"),`;
    box-shadow: `).concat(t("inputtext.focus.ring.shadow"),`;
    outline: `).concat(t("inputtext.focus.ring.width")," ").concat(t("inputtext.focus.ring.style")," ").concat(t("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(t("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(t("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(t("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: `).concat(t("inputtext.filled.hover.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(t("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(t("inputtext.disabled.background"),`;
    color: `).concat(t("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(t("inputtext.placeholder.color"),`;
}

.p-inputtext.p-invalid::placeholder {
    color: `).concat(t("inputtext.invalid.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(t("inputtext.sm.font.size"),`;
    padding-block: `).concat(t("inputtext.sm.padding.y"),`;
    padding-inline: `).concat(t("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(t("inputtext.lg.font.size"),`;
    padding-block: `).concat(t("inputtext.lg.padding.y"),`;
    padding-inline: `).concat(t("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},rW={root:function(e){var t=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":t.$filled,"p-inputtext-sm p-inputfield-sm":r.size==="small","p-inputtext-lg p-inputfield-lg":r.size==="large","p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-inputtext-fluid":t.$fluid}]}},oW=he.extend({name:"inputtext",theme:nW,classes:rW}),iW={name:"BaseInputText",extends:Sl,style:oW,provide:function(){return{$pcInputText:this,$parentInstance:this}}},bd={name:"InputText",extends:iW,inheritAttrs:!1,methods:{onInput:function(e){this.writeValue(e.target.value,e)}},computed:{attrs:function(){return T(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)}}},sW=["value","disabled","aria-invalid"];function aW(n,e,t,r,o,i){return x(),R("input",T({type:"text",class:n.cx("root"),value:n.d_value,disabled:n.disabled,"aria-invalid":n.$invalid||void 0,onInput:e[0]||(e[0]=function(){return i.onInput&&i.onInput.apply(i,arguments)})},i.attrs),null,16,sW)}bd.render=aW;var dr=Uu(),zs={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=im()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function lW(n,e,t,r,o,i){return i.inline?K(n.$slots,"default",{key:0}):o.mounted?(x(),N(xB,{key:1,to:t.appendTo},[K(n.$slots,"default")],8,["to"])):j("",!0)}zs.render=lW;var cW=function(e){var t=e.dt;return`
.p-virtualscroller-loader {
    background: `.concat(t("virtualscroller.loader.mask.background"),`;
    color: `).concat(t("virtualscroller.loader.mask.color"),`;
}

.p-virtualscroller-loading-icon {
    font-size: `).concat(t("virtualscroller.loader.icon.size"),`;
    width: `).concat(t("virtualscroller.loader.icon.size"),`;
    height: `).concat(t("virtualscroller.loader.icon.size"),`;
}
`)},uW=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,iC=he.extend({name:"virtualscroller",css:uW,theme:cW}),dW={name:"BaseVirtualScroller",extends:we,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:iC,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var e;iC.loadCSS({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function iu(n){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(n)}function sC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Vl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(t),!0).forEach(function(r){j8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function j8(n,e,t){return(e=hW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hW(n){var e=fW(n,"string");return iu(e)=="symbol"?e:e+""}function fW(n,e){if(iu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lm={name:"VirtualScroller",extends:dW,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,t){this.lazy&&e!==t&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){kf(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Gr(this.element),this.defaultHeight=Ai(this.element),this.defaultContentWidth=Gr(this.content),this.defaultContentHeight=Ai(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",o=this.isBoth(),i=this.isHorizontal(),s=o?e.every(function(C){return C>-1}):e>-1;if(s){var a=this.first,l=this.element,c=l.scrollTop,u=c===void 0?0:c,d=l.scrollLeft,h=d===void 0?0:d,f=this.calculateNumItems(),p=f.numToleratedItems,m=this.getContentPosition(),g=this.itemSize,b=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1?arguments[1]:void 0;return k<=E?0:k},_=function(k,E,A){return k*E+A},v=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.scrollTo({left:k,top:E,behavior:r})},y=o?{rows:0,cols:0}:0,w=!1,S=!1;o?(y={rows:b(e[0],p[0]),cols:b(e[1],p[1])},v(_(y.cols,g[1],m.left),_(y.rows,g[0],m.top)),S=this.lastScrollPos.top!==u||this.lastScrollPos.left!==h,w=y.rows!==a.rows||y.cols!==a.cols):(y=b(e,p),i?v(_(y,g,m.left),u):v(h,_(y,g,m.top)),S=this.lastScrollPos!==(i?h:u),w=y!==a),this.isRangeChanged=w,S&&(this.first=y)}},scrollInView:function(e,t){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(t){var i=this.isBoth(),s=this.isHorizontal(),a=i?e.every(function(g){return g>-1}):e>-1;if(a){var l=this.getRenderedRange(),c=l.first,u=l.viewport,d=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:b,top:_,behavior:o})},h=t==="to-start",f=t==="to-end";if(h){if(i)u.first.rows-c.rows>e[0]?d(u.first.cols*this.itemSize[1],(u.first.rows-1)*this.itemSize[0]):u.first.cols-c.cols>e[1]&&d((u.first.cols-1)*this.itemSize[1],u.first.rows*this.itemSize[0]);else if(u.first-c>e){var p=(u.first-1)*this.itemSize;s?d(p,0):d(0,p)}}else if(f){if(i)u.last.rows-c.rows<=e[0]+1?d(u.first.cols*this.itemSize[1],(u.first.rows+1)*this.itemSize[0]):u.last.cols-c.cols<=e[1]+1&&d((u.first.cols+1)*this.itemSize[1],u.first.rows*this.itemSize[0]);else if(u.last-c<=e+1){var m=(u.first+1)*this.itemSize;s?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,o)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},t=this.first,r=0;if(this.element){var o=this.isBoth(),i=this.isHorizontal(),s=this.element,a=s.scrollTop,l=s.scrollLeft;if(o)t={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{var c=i?l:a;t=e(c,this.itemSize),r=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:r}}},calculateNumItems:function(){var e=this.isBoth(),t=this.isHorizontal(),r=this.itemSize,o=this.getContentPosition(),i=this.element?this.element.offsetWidth-o.left:0,s=this.element?this.element.offsetHeight-o.top:0,a=function(h,f){return Math.ceil(h/(f||h))},l=function(h){return Math.ceil(h/2)},c=e?{rows:a(s,r[0]),cols:a(i,r[1])}:a(t?i:s,r),u=this.d_numToleratedItems||(e?[l(c.rows),l(c.cols)]:l(c));return{numItemsInViewport:c,numToleratedItems:u}},calculateOptions:function(){var e=this,t=this.isBoth(),r=this.first,o=this.calculateNumItems(),i=o.numItemsInViewport,s=o.numToleratedItems,a=function(u,d,h){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(u+d+(u<h?2:3)*h,f)},l=t?{rows:a(r.rows,i.rows,s[0]),cols:a(r.cols,i.cols,s[1],!0)}:a(r,i,s);this.last=l,this.numItemsInViewport=i,this.d_numToleratedItems=s,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:i.rows}).map(function(){return Array.from({length:i.cols})}):Array.from({length:i})),this.lazy&&Promise.resolve().then(function(){var c;e.lazyLoadState={first:e.step?t?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((c=e.items)===null||c===void 0?void 0:c.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var t=e.isBoth(),r=e.isHorizontal(),o=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var i=[Gr(e.element),Ai(e.element)],s=i[0],a=i[1];(t||r)&&(e.element.style.width=s<e.defaultWidth?s+"px":e.scrollWidth||e.defaultWidth+"px"),(t||o)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(o?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((t=this.items)===null||t===void 0?void 0:t.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),i=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:r,top:o,bottom:i,x:t+r,y:o+i}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var t=this.isBoth(),r=this.isHorizontal(),o=this.element.parentElement,i=this.scrollWidth||"".concat(this.element.offsetWidth||o.offsetWidth,"px"),s=this.scrollHeight||"".concat(this.element.offsetHeight||o.offsetHeight,"px"),a=function(c,u){return e.element.style[c]=u};t||r?(a("height",s),a("width",i)):a("height",s)}},setSpacerSize:function(){var e=this,t=this.items;if(t){var r=this.isBoth(),o=this.isHorizontal(),i=this.getContentPosition(),s=function(l,c,u){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Vl(Vl({},e.spacerStyle),j8({},"".concat(l),(c||[]).length*u+d+"px"))};r?(s("height",t,this.itemSize[0],i.y),s("width",this.columns||t[1],this.itemSize[1],i.x)):o?s("width",this.columns||t,this.itemSize,i.x):s("height",t,this.itemSize,i.y)}},setContentPosition:function(e){var t=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),o=this.isHorizontal(),i=e?e.first:this.first,s=function(u,d){return u*d},a=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.contentStyle=Vl(Vl({},t.contentStyle),{transform:"translate3d(".concat(u,"px, ").concat(d,"px, 0)")})};if(r)a(s(i.cols,this.itemSize[1]),s(i.rows,this.itemSize[0]));else{var l=s(i,this.itemSize);o?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var t=this,r=e.target,o=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),a=function(P,I){return P?P>I?P-I:P:0},l=function(P,I){return Math.floor(P/(I||P))},c=function(P,I,$,V,ee,F){return P<=ee?ee:F?$-V-ee:I+ee-1},u=function(P,I,$,V,ee,F,L){return P<=F?0:Math.max(0,L?P<I?$:P-F:P>I?$:P-2*F)},d=function(P,I,$,V,ee,F){var L=I+V+2*ee;return P>=ee&&(L+=ee+1),t.getLast(L,F)},h=a(r.scrollTop,s.top),f=a(r.scrollLeft,s.left),p=o?{rows:0,cols:0}:0,m=this.last,g=!1,b=this.lastScrollPos;if(o){var _=this.lastScrollPos.top<=h,v=this.lastScrollPos.left<=f;if(!this.appendOnly||this.appendOnly&&(_||v)){var y={rows:l(h,this.itemSize[0]),cols:l(f,this.itemSize[1])},w={rows:c(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:c(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],v)};p={rows:u(y.rows,w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_),cols:u(y.cols,w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],v)},m={rows:d(y.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(y.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,b={top:h,left:f}}}else{var S=i?f:h,C=this.lastScrollPos<=S;if(!this.appendOnly||this.appendOnly&&C){var k=l(S,this.itemSize),E=c(k,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C);p=u(k,E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C),m=d(k,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||m!==this.last||this.isRangeChanged,b=S}}return{first:p,last:m,isRangeChanged:g,scrollPos:b}},onScrollChange:function(e){var t=this.onScrollPositionChange(e),r=t.first,o=t.last,i=t.isRangeChanged,s=t.scrollPos;if(i){var a={first:r,last:o};if(this.setContentPosition(a),this.first=r,this.last=o,this.lastScrollPos=s,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,c,u={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:o,((c=this.items)===null||c===void 0?void 0:c.length)||0)},d=this.lazyLoadState.first!==u.first||this.lazyLoadState.last!==u.last;d&&this.$emit("lazy-load",u),this.lazyLoadState=u}}},onScroll:function(e){var t=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),o=r.isRangeChanged,i=o||(this.step?this.isPageChanged():!1);i&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){t.onScrollChange(e),t.d_loading&&t.showLoader&&(!t.lazy||t.loading===void 0)&&(t.d_loading=!1,t.page=t.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(kf(e.element)){var t=e.isBoth(),r=e.isVertical(),o=e.isHorizontal(),i=[Gr(e.element),Ai(e.element)],s=i[0],a=i[1],l=s!==e.defaultWidth,c=a!==e.defaultHeight,u=t?l||c:o?l:r?c:!1;u&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=s,e.defaultHeight=a,e.defaultContentWidth=Gr(e.content),e.defaultContentHeight=Ai(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var t=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:t,first:r===0,last:r===t-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,t){var r=this.loaderArr.length;return Vl({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},t)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||an(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(t){return e.columns?t:t.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Cl}},pW=["tabindex"];function mW(n,e,t,r,o,i){var s=X("SpinnerIcon");return n.disabled?(x(),R(oe,{key:1},[K(n.$slots,"default"),K(n.$slots,"content",{items:n.items,rows:n.items,columns:i.loadedColumns})],64)):(x(),R("div",T({key:0,ref:i.elementRef,class:i.containerClass,tabindex:n.tabindex,style:n.style,onScroll:e[0]||(e[0]=function(){return i.onScroll&&i.onScroll.apply(i,arguments)})},n.ptmi("root")),[K(n.$slots,"content",{styleClass:i.contentClass,items:i.loadedItems,getItemOptions:i.getOptions,loading:o.d_loading,getLoaderOptions:i.getLoaderOptions,itemSize:n.itemSize,rows:i.loadedRows,columns:i.loadedColumns,contentRef:i.contentRef,spacerStyle:o.spacerStyle,contentStyle:o.contentStyle,vertical:i.isVertical(),horizontal:i.isHorizontal(),both:i.isBoth()},function(){return[G("div",T({ref:i.contentRef,class:i.contentClass,style:o.contentStyle},n.ptm("content")),[(x(!0),R(oe,null,st(i.loadedItems,function(a,l){return K(n.$slots,"item",{key:l,item:a,options:i.getOptions(l)})}),128))],16)]}),n.showSpacer?(x(),R("div",T({key:0,class:"p-virtualscroller-spacer",style:o.spacerStyle},n.ptm("spacer")),null,16)):j("",!0),!n.loaderDisabled&&n.showLoader&&o.d_loading?(x(),R("div",T({key:1,class:i.loaderClass},n.ptm("loader")),[n.$slots&&n.$slots.loader?(x(!0),R(oe,{key:0},st(o.loaderArr,function(a,l){return K(n.$slots,"loader",{key:l,options:i.getLoaderOptions(l,i.isBoth()&&{numCols:n.d_numItemsInViewport.cols})})}),128)):j("",!0),K(n.$slots,"loadingicon",{},function(){return[W(s,T({spin:"",class:"p-virtualscroller-loading-icon"},n.ptm("loadingIcon")),null,16)]})],16)):j("",!0)],16,pW))}lm.render=mW;var gW=function(e){var t=e.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(t("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(t("badge.padding"),`;
    background: `).concat(t("badge.primary.background"),`;
    color: `).concat(t("badge.primary.color"),`;
    font-size: `).concat(t("badge.font.size"),`;
    font-weight: `).concat(t("badge.font.weight"),`;
    min-width: `).concat(t("badge.min.width"),`;
    height: `).concat(t("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(t("badge.dot.size"),`;
    min-width: `).concat(t("badge.dot.size"),`;
    height: `).concat(t("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(t("badge.secondary.background"),`;
    color: `).concat(t("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(t("badge.success.background"),`;
    color: `).concat(t("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(t("badge.info.background"),`;
    color: `).concat(t("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(t("badge.warn.background"),`;
    color: `).concat(t("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(t("badge.danger.background"),`;
    color: `).concat(t("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(t("badge.contrast.background"),`;
    color: `).concat(t("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(t("badge.sm.font.size"),`;
    min-width: `).concat(t("badge.sm.min.width"),`;
    height: `).concat(t("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(t("badge.lg.font.size"),`;
    min-width: `).concat(t("badge.lg.min.width"),`;
    height: `).concat(t("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(t("badge.xl.font.size"),`;
    min-width: `).concat(t("badge.xl.min.width"),`;
    height: `).concat(t("badge.xl.height"),`;
}
`)},bW={root:function(e){var t=e.props,r=e.instance;return["p-badge p-component",{"p-badge-circle":pe(t.value)&&String(t.value).length===1,"p-badge-dot":Yt(t.value)&&!r.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},vW=he.extend({name:"badge",theme:gW,classes:bW}),yW={name:"BaseBadge",extends:we,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:vW,provide:function(){return{$pcBadge:this,$parentInstance:this}}},cm={name:"Badge",extends:yW,inheritAttrs:!1};function _W(n,e,t,r,o,i){return x(),R("span",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default",{},function(){return[On(Be(n.value),1)]})],16)}cm.render=_W;function su(n){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(n)}function ro(n,e,t){return(e=xW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xW(n){var e=wW(n,"string");return su(e)=="symbol"?e:e+""}function wW(n,e){if(su(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CW=function(e){var t=e.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(t("button.primary.color"),`;
    background: `).concat(t("button.primary.background"),`;
    border: 1px solid `).concat(t("button.primary.border.color"),`;
    padding: `).concat(t("button.padding.y")," ").concat(t("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(t("button.transition.duration"),", color ").concat(t("button.transition.duration"),", border-color ").concat(t("button.transition.duration"),`,
            outline-color `).concat(t("button.transition.duration"),", box-shadow ").concat(t("button.transition.duration"),`;
    border-radius: `).concat(t("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(t("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(t("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(t("button.sm.font.size"),`;
    padding: `).concat(t("button.sm.padding.y")," ").concat(t("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(t("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(t("button.lg.font.size"),`;
    padding: `).concat(t("button.lg.padding.y")," ").concat(t("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(t("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(t("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(t("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(t("button.primary.hover.background"),`;
    border: 1px solid `).concat(t("button.primary.hover.border.color"),`;
    color: `).concat(t("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(t("button.primary.active.background"),`;
    border: 1px solid `).concat(t("button.primary.active.border.color"),`;
    color: `).concat(t("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(t("button.primary.focus.ring.shadow"),`;
    outline: `).concat(t("button.focus.ring.width")," ").concat(t("button.focus.ring.style")," ").concat(t("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(t("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(t("button.badge.size"),`;
    height: `).concat(t("button.badge.size"),`;
    line-height: `).concat(t("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(t("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(t("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(t("button.secondary.background"),`;
    border: 1px solid `).concat(t("button.secondary.border.color"),`;
    color: `).concat(t("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.secondary.hover.background"),`;
    border: 1px solid `).concat(t("button.secondary.hover.border.color"),`;
    color: `).concat(t("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.secondary.active.background"),`;
    border: 1px solid `).concat(t("button.secondary.active.border.color"),`;
    color: `).concat(t("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(t("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(t("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(t("button.success.background"),`;
    border: 1px solid `).concat(t("button.success.border.color"),`;
    color: `).concat(t("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.success.hover.background"),`;
    border: 1px solid `).concat(t("button.success.hover.border.color"),`;
    color: `).concat(t("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(t("button.success.active.background"),`;
    border: 1px solid `).concat(t("button.success.active.border.color"),`;
    color: `).concat(t("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(t("button.success.focus.ring.color"),`;
    box-shadow: `).concat(t("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(t("button.info.background"),`;
    border: 1px solid `).concat(t("button.info.border.color"),`;
    color: `).concat(t("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.info.hover.background"),`;
    border: 1px solid `).concat(t("button.info.hover.border.color"),`;
    color: `).concat(t("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(t("button.info.active.background"),`;
    border: 1px solid `).concat(t("button.info.active.border.color"),`;
    color: `).concat(t("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(t("button.info.focus.ring.color"),`;
    box-shadow: `).concat(t("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(t("button.warn.background"),`;
    border: 1px solid `).concat(t("button.warn.border.color"),`;
    color: `).concat(t("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.warn.hover.background"),`;
    border: 1px solid `).concat(t("button.warn.hover.border.color"),`;
    color: `).concat(t("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.warn.active.background"),`;
    border: 1px solid `).concat(t("button.warn.active.border.color"),`;
    color: `).concat(t("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(t("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(t("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(t("button.help.background"),`;
    border: 1px solid `).concat(t("button.help.border.color"),`;
    color: `).concat(t("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.help.hover.background"),`;
    border: 1px solid `).concat(t("button.help.hover.border.color"),`;
    color: `).concat(t("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(t("button.help.active.background"),`;
    border: 1px solid `).concat(t("button.help.active.border.color"),`;
    color: `).concat(t("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(t("button.help.focus.ring.color"),`;
    box-shadow: `).concat(t("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(t("button.danger.background"),`;
    border: 1px solid `).concat(t("button.danger.border.color"),`;
    color: `).concat(t("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.danger.hover.background"),`;
    border: 1px solid `).concat(t("button.danger.hover.border.color"),`;
    color: `).concat(t("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.danger.active.background"),`;
    border: 1px solid `).concat(t("button.danger.active.border.color"),`;
    color: `).concat(t("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(t("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(t("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(t("button.contrast.background"),`;
    border: 1px solid `).concat(t("button.contrast.border.color"),`;
    color: `).concat(t("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.contrast.hover.background"),`;
    border: 1px solid `).concat(t("button.contrast.hover.border.color"),`;
    color: `).concat(t("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.contrast.active.background"),`;
    border: 1px solid `).concat(t("button.contrast.active.border.color"),`;
    color: `).concat(t("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(t("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(t("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(t("button.outlined.primary.hover.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(t("button.outlined.primary.active.background"),`;
    border-color: `).concat(t("button.outlined.primary.border.color"),`;
    color: `).concat(t("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.outlined.secondary.active.background"),`;
    border-color: `).concat(t("button.outlined.secondary.border.color"),`;
    color: `).concat(t("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.outlined.success.hover.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(t("button.outlined.success.active.background"),`;
    border-color: `).concat(t("button.outlined.success.border.color"),`;
    color: `).concat(t("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.outlined.info.hover.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(t("button.outlined.info.active.background"),`;
    border-color: `).concat(t("button.outlined.info.border.color"),`;
    color: `).concat(t("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.outlined.warn.hover.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.outlined.warn.active.background"),`;
    border-color: `).concat(t("button.outlined.warn.border.color"),`;
    color: `).concat(t("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.outlined.help.hover.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(t("button.outlined.help.active.background"),`;
    border-color: `).concat(t("button.outlined.help.border.color"),`;
    color: `).concat(t("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.outlined.danger.hover.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.outlined.danger.active.background"),`;
    border-color: `).concat(t("button.outlined.danger.border.color"),`;
    color: `).concat(t("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.outlined.contrast.active.background"),`;
    border-color: `).concat(t("button.outlined.contrast.border.color"),`;
    color: `).concat(t("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.outlined.plain.hover.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.outlined.plain.active.background"),`;
    border-color: `).concat(t("button.outlined.plain.border.color"),`;
    color: `).concat(t("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(t("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(t("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(t("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(t("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(t("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(t("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(t("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(t("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(t("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(t("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(t("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(t("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(t("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(t("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.danger.color"),`;
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: `).concat(t("button.text.contrast.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: `).concat(t("button.text.contrast.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.contrast.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(t("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(t("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(t("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(t("button.link.active.color"),`;
}
`)},SW={root:function(e){var t=e.instance,r=e.props;return["p-button p-component",ro(ro(ro(ro(ro(ro(ro(ro(ro({"p-button-icon-only":t.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-button-loading":r.loading,"p-button-link":r.link||r.variant==="link"},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text||r.variant==="text"),"p-button-outlined",r.outlined||r.variant==="outlined"),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain),"p-button-fluid",t.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var t=e.props;return["p-button-icon",ro({},"p-button-icon-".concat(t.iconPos),t.label)]},label:"p-button-label"},TW=he.extend({name:"button",theme:CW,classes:SW}),kW={name:"BaseButton",extends:we,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:TW,provide:function(){return{$pcButton:this,$parentInstance:this}}},vd={name:"Button",extends:kW,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return T(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Yt(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:Cl,Badge:cm},directives:{ripple:fn}};function EW(n,e,t,r,o,i){var s=X("SpinnerIcon"),a=X("Badge"),l=hn("ripple");return n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),a11yAttrs:i.a11yAttrs}):Gt((x(),N(re(n.as),T({key:0,class:n.cx("root")},i.attrs),{default:q(function(){return[K(n.$slots,"default",{},function(){return[n.loading?K(n.$slots,"loadingicon",{key:0,class:ce([n.cx("loadingIcon"),n.cx("icon")])},function(){return[n.loadingIcon?(x(),R("span",T({key:0,class:[n.cx("loadingIcon"),n.cx("icon"),n.loadingIcon]},n.ptm("loadingIcon")),null,16)):(x(),N(s,T({key:1,class:[n.cx("loadingIcon"),n.cx("icon")],spin:""},n.ptm("loadingIcon")),null,16,["class"]))]}):K(n.$slots,"icon",{key:1,class:ce([n.cx("icon")])},function(){return[n.icon?(x(),R("span",T({key:0,class:[n.cx("icon"),n.icon,n.iconClass]},n.ptm("icon")),null,16)):j("",!0)]}),G("span",T({class:n.cx("label")},n.ptm("label")),Be(n.label||""),17),n.badge?(x(),N(a,{key:2,value:n.badge,class:ce(n.badgeClass),severity:n.badgeSeverity,unstyled:n.unstyled,pt:n.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):j("",!0)]})]}),_:3},16,["class"])),[[l]])}vd.render=EW;var W8={name:"ChevronLeftIcon",extends:qe};function AW(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1)]),16)}W8.render=AW;var S_={name:"AngleRightIcon",extends:qe};function PW(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"},null,-1)]),16)}S_.render=PW;var Tl={name:"TimesIcon",extends:qe};function IW(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1)]),16)}Tl.render=IW;var ni={name:"CheckIcon",extends:qe};function RW(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1)]),16)}ni.render=RW;var K8={name:"MinusIcon",extends:qe};function BW(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}K8.render=BW;var OW=function(e){var t=e.dt;return`
.p-checkbox {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(t("checkbox.width"),`;
    height: `).concat(t("checkbox.height"),`;
}

.p-checkbox-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: `).concat(t("checkbox.border.radius"),`;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: `).concat(t("checkbox.border.radius"),`;
    border: 1px solid `).concat(t("checkbox.border.color"),`;
    background: `).concat(t("checkbox.background"),`;
    width: `).concat(t("checkbox.width"),`;
    height: `).concat(t("checkbox.height"),`;
    transition: background `).concat(t("checkbox.transition.duration"),", color ").concat(t("checkbox.transition.duration"),", border-color ").concat(t("checkbox.transition.duration"),", box-shadow ").concat(t("checkbox.transition.duration"),", outline-color ").concat(t("checkbox.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("checkbox.shadow"),`;
}

.p-checkbox-icon {
    transition-duration: `).concat(t("checkbox.transition.duration"),`;
    color: `).concat(t("checkbox.icon.color"),`;
    font-size: `).concat(t("checkbox.icon.size"),`;
    width: `).concat(t("checkbox.icon.size"),`;
    height: `).concat(t("checkbox.icon.size"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    border-color: `).concat(t("checkbox.hover.border.color"),`;
}

.p-checkbox-checked .p-checkbox-box {
    border-color: `).concat(t("checkbox.checked.border.color"),`;
    background: `).concat(t("checkbox.checked.background"),`;
}

.p-checkbox-checked .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.checked.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(t("checkbox.checked.hover.background"),`;
    border-color: `).concat(t("checkbox.checked.hover.border.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.checked.hover.color"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(t("checkbox.focus.border.color"),`;
    box-shadow: `).concat(t("checkbox.focus.ring.shadow"),`;
    outline: `).concat(t("checkbox.focus.ring.width")," ").concat(t("checkbox.focus.ring.style")," ").concat(t("checkbox.focus.ring.color"),`;
    outline-offset: `).concat(t("checkbox.focus.ring.offset"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(t("checkbox.checked.focus.border.color"),`;
}

.p-checkbox.p-invalid > .p-checkbox-box {
    border-color: `).concat(t("checkbox.invalid.border.color"),`;
}

.p-checkbox.p-variant-filled .p-checkbox-box {
    background: `).concat(t("checkbox.filled.background"),`;
}

.p-checkbox-checked.p-variant-filled .p-checkbox-box {
    background: `).concat(t("checkbox.checked.background"),`;
}

.p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(t("checkbox.checked.hover.background"),`;
}

.p-checkbox.p-disabled {
    opacity: 1;
}

.p-checkbox.p-disabled .p-checkbox-box {
    background: `).concat(t("checkbox.disabled.background"),`;
    border-color: `).concat(t("checkbox.checked.disabled.border.color"),`;
}

.p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
    color: `).concat(t("checkbox.icon.disabled.color"),`;
}

.p-checkbox-sm,
.p-checkbox-sm .p-checkbox-box {
    width: `).concat(t("checkbox.sm.width"),`;
    height: `).concat(t("checkbox.sm.height"),`;
}

.p-checkbox-sm .p-checkbox-icon {
    font-size: `).concat(t("checkbox.icon.sm.size"),`;
    width: `).concat(t("checkbox.icon.sm.size"),`;
    height: `).concat(t("checkbox.icon.sm.size"),`;
}

.p-checkbox-lg,
.p-checkbox-lg .p-checkbox-box {
    width: `).concat(t("checkbox.lg.width"),`;
    height: `).concat(t("checkbox.lg.height"),`;
}

.p-checkbox-lg .p-checkbox-icon {
    font-size: `).concat(t("checkbox.icon.lg.size"),`;
    width: `).concat(t("checkbox.icon.lg.size"),`;
    height: `).concat(t("checkbox.icon.lg.size"),`;
}
`)},DW={root:function(e){var t=e.instance,r=e.props;return["p-checkbox p-component",{"p-checkbox-checked":t.checked,"p-disabled":r.disabled,"p-invalid":t.$pcCheckboxGroup?t.$pcCheckboxGroup.$invalid:t.$invalid,"p-variant-filled":t.$variant==="filled","p-checkbox-sm p-inputfield-sm":r.size==="small","p-checkbox-lg p-inputfield-lg":r.size==="large"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},MW=he.extend({name:"checkbox",theme:OW,classes:DW}),FW={name:"BaseCheckbox",extends:Sl,props:{value:null,binary:Boolean,indeterminate:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:MW,provide:function(){return{$pcCheckbox:this,$parentInstance:this}}};function LW(n){return GW(n)||UW(n)||$W(n)||NW()}function NW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(n,e){if(n){if(typeof n=="string")return u0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u0(n,e):void 0}}function UW(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function GW(n){if(Array.isArray(n))return u0(n)}function u0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var yd={name:"Checkbox",extends:FW,inheritAttrs:!1,emits:["change","focus","blur","update:indeterminate"],inject:{$pcCheckboxGroup:{default:void 0}},data:function(){return{d_indeterminate:this.indeterminate}},watch:{indeterminate:function(e){this.d_indeterminate=e}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,indeterminate:this.d_indeterminate,disabled:this.disabled}})},onChange:function(e){var t=this;if(!this.disabled&&!this.readonly){var r=this.$pcCheckboxGroup?this.$pcCheckboxGroup.d_value:this.d_value,o;this.binary?o=this.d_indeterminate?this.trueValue:this.checked?this.falseValue:this.trueValue:this.checked||this.d_indeterminate?o=r.filter(function(i){return!xn(i,t.value)}):o=r?[].concat(LW(r),[this.value]):[this.value],this.d_indeterminate&&(this.d_indeterminate=!1,this.$emit("update:indeterminate",this.d_indeterminate)),this.$pcCheckboxGroup?this.$pcCheckboxGroup.writeValue(o,e):this.writeValue(o,e),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){var t,r;this.$emit("blur",e),(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r,e)}},computed:{groupName:function(){return this.$pcCheckboxGroup?this.$pcCheckboxGroup.groupName:this.$formName},checked:function(){var e=this.$pcCheckboxGroup?this.$pcCheckboxGroup.d_value:this.d_value;return this.d_indeterminate?!1:this.binary?e===this.trueValue:mH(this.value,e)}},components:{CheckIcon:ni,MinusIcon:K8}},VW=["data-p-checked","data-p-indeterminate","data-p-disabled"],zW=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid","aria-checked"];function HW(n,e,t,r,o,i){var s=X("CheckIcon"),a=X("MinusIcon");return x(),R("div",T({class:n.cx("root")},i.getPTOptions("root"),{"data-p-checked":i.checked,"data-p-indeterminate":o.d_indeterminate||void 0,"data-p-disabled":n.disabled}),[G("input",T({id:n.inputId,type:"checkbox",class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.value,name:i.groupName,checked:i.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,required:n.required,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,"aria-checked":o.d_indeterminate?"mixed":void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onChange:e[2]||(e[2]=function(){return i.onChange&&i.onChange.apply(i,arguments)})},i.getPTOptions("input")),null,16,zW),G("div",T({class:n.cx("box")},i.getPTOptions("box")),[K(n.$slots,"icon",{checked:i.checked,indeterminate:o.d_indeterminate,class:ce(n.cx("icon"))},function(){return[i.checked?(x(),N(s,T({key:0,class:n.cx("icon")},i.getPTOptions("icon")),null,16,["class"])):o.d_indeterminate?(x(),N(a,T({key:1,class:n.cx("icon")},i.getPTOptions("icon")),null,16,["class"])):j("",!0)]})],16)],16,VW)}yd.render=HW;var jW=he.extend({name:"column"}),WW={name:"BaseColumn",extends:we,props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:void 0},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},style:jW,provide:function(){return{$pcColumn:this,$parentInstance:this}}},KW={name:"Column",extends:WW,inheritAttrs:!1,inject:["$columns"],mounted:function(){var e;(e=this.$columns)===null||e===void 0||e.add(this.$)},unmounted:function(){var e;(e=this.$columns)===null||e===void 0||e.delete(this.$)},render:function(){return null}},rn={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},Pf={AND:"and",OR:"or"};function aC(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=XW(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw i}}}}function XW(n,e){if(n){if(typeof n=="string")return lC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lC(n,e):void 0}}function lC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var If={filter:function(e,t,r,o,i){var s=[];if(!e)return s;var a=aC(e),l;try{for(a.s();!(l=a.n()).done;){var c=l.value;if(typeof c=="string"){if(this.filters[o](c,r,i)){s.push(c);continue}}else{var u=aC(t),d;try{for(u.s();!(d=u.n()).done;){var h=d.value,f=Ae(c,h);if(this.filters[o](f,r,i)){s.push(c);break}}}catch(p){u.e(p)}finally{u.f()}}}}catch(p){a.e(p)}finally{a.f()}return s},filters:{startsWith:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=yr(t.toString()).toLocaleLowerCase(r),i=yr(e.toString()).toLocaleLowerCase(r);return i.slice(0,o.length)===o},contains:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=yr(t.toString()).toLocaleLowerCase(r),i=yr(e.toString()).toLocaleLowerCase(r);return i.indexOf(o)!==-1},notContains:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=yr(t.toString()).toLocaleLowerCase(r),i=yr(e.toString()).toLocaleLowerCase(r);return i.indexOf(o)===-1},endsWith:function(e,t,r){if(t==null||t==="")return!0;if(e==null)return!1;var o=yr(t.toString()).toLocaleLowerCase(r),i=yr(e.toString()).toLocaleLowerCase(r);return i.indexOf(o,i.length-o.length)!==-1},equals:function(e,t,r){return t==null||t===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():yr(e.toString()).toLocaleLowerCase(r)==yr(t.toString()).toLocaleLowerCase(r)},notEquals:function(e,t,r){return t==null||t===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():yr(e.toString()).toLocaleLowerCase(r)!=yr(t.toString()).toLocaleLowerCase(r)},in:function(e,t){if(t==null||t.length===0)return!0;for(var r=0;r<t.length;r++)if(xn(e,t[r]))return!0;return!1},between:function(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte:function(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs:function(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter:function(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register:function(e,t){this.filters[e]=t}};function au(n){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(n)}function cC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ih(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(t),!0).forEach(function(r){qW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qW(n,e,t){return(e=YW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YW(n){var e=ZW(n,"string");return au(e)=="symbol"?e:e+""}function ZW(n,e){if(au(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var JW={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[rn.STARTS_WITH,rn.CONTAINS,rn.NOT_CONTAINS,rn.ENDS_WITH,rn.EQUALS,rn.NOT_EQUALS],numeric:[rn.EQUALS,rn.NOT_EQUALS,rn.LESS_THAN,rn.LESS_THAN_OR_EQUAL_TO,rn.GREATER_THAN,rn.GREATER_THAN_OR_EQUAL_TO],date:[rn.DATE_IS,rn.DATE_IS_NOT,rn.DATE_BEFORE,rn.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},QW=Symbol();function eK(n,e){var t={config:Fu(e)};return n.config.globalProperties.$primevue=t,n.provide(QW,t),tK(),nK(n,t),t}var ba=[];function tK(){Fr.clear(),ba.forEach(function(n){return n==null?void 0:n()}),ba=[]}function nK(n,e){var t=vt(!1),r=function(){var c;if(((c=e.config)===null||c===void 0?void 0:c.theme)!=="none"&&!nt.isStyleNameLoaded("common")){var u,d,h=((u=he.getCommonTheme)===null||u===void 0?void 0:u.call(he))||{},f=h.primitive,p=h.semantic,m=h.global,g=h.style,b={nonce:(d=e.config)===null||d===void 0||(d=d.csp)===null||d===void 0?void 0:d.nonce};he.load(f==null?void 0:f.css,ih({name:"primitive-variables"},b)),he.load(p==null?void 0:p.css,ih({name:"semantic-variables"},b)),he.load(m==null?void 0:m.css,ih({name:"global-variables"},b)),he.loadTheme(ih({name:"global-style"},b),g),nt.setLoadedStyleName("common")}};Fr.on("theme:change",function(l){t.value||(n.config.globalProperties.$primevue.config.theme=l,t.value=!0)});var o=lr(e.config,function(l,c){ga.emit("config:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),i=lr(function(){return e.config.ripple},function(l,c){ga.emit("config:ripple:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),s=lr(function(){return e.config.theme},function(l,c){t.value||nt.setTheme(l),e.config.unstyled||r(),t.value=!1,ga.emit("config:theme:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),a=lr(function(){return e.config.unstyled},function(l,c){!l&&e.config.theme&&r(),ga.emit("config:unstyled:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0});ba.push(o),ba.push(i),ba.push(s),ba.push(a)}var rK={install:function(e,t){var r=bH(JW,t);eK(e,r)}},X8={name:"WindowMaximizeIcon",extends:qe};function oK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1)]),16)}X8.render=oK;var q8={name:"WindowMinimizeIcon",extends:qe};function iK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1)]),16)}q8.render=iK;var sK=he.extend({name:"focustrap-directive"}),aK=Oe.extend({style:sK});function lu(n){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(n)}function uC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function dC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(t),!0).forEach(function(r){lK(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lK(n,e,t){return(e=cK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cK(n){var e=uK(n,"string");return lu(e)=="symbol"?e:e+""}function uK(n,e){if(lu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var T_=aK.extend("focustrap",{mounted:function(e,t){var r=t.value||{},o=r.disabled;o||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var r=t.value||{},o=r.disabled;o&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var r=this,o=t.value||{},i=o.onFocusIn,s=o.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var c=function(d){var h=Mw(d)?Mw(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:Ei(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):Ei(d);return pe(h)?h:d.nextSibling&&c(d.nextSibling)};Xe(c(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return i&&i(a)},e.$_pfocustrap_focusoutlistener=function(a){return s&&s(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:dC(dC({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var r=t.value||{},o=r.autoFocusSelector,i=o===void 0?"":o,s=r.firstFocusableSelector,a=s===void 0?"":s,l=r.autoFocus,c=l===void 0?!1:l,u=Ei(e,"[autofocus]".concat(this.getComputedSelector(i)));c&&!u&&(u=Ei(e,this.getComputedSelector(a))),Xe(u)},onFirstHiddenElementFocus:function(e){var t,r=e.currentTarget,o=e.relatedTarget,i=o===r.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(o))?Ei(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;Xe(i)},onLastHiddenElementFocus:function(e){var t,r=e.currentTarget,o=e.relatedTarget,i=o===r.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(o))?f_(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;Xe(i)},createHiddenFocusableElements:function(e,t){var r=this,o=t.value||{},i=o.tabIndex,s=i===void 0?0:i,a=o.firstFocusableSelector,l=a===void 0?"":a,c=o.lastFocusableSelector,u=c===void 0?"":c,d=function(m){return vc("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:s,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:m==null?void 0:m.bind(r)})},h=d(this.onFirstHiddenElementFocus),f=d(this.onLastHiddenElementFocus);h.$_pfocustrap_lasthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=l,h.setAttribute("data-pc-section","firstfocusableelement"),f.$_pfocustrap_firsthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=u,f.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(h),e.append(f)}}}),dK=function(e){var t=e.dt;return`
.p-dialog {
    max-height: 90%;
    transform: scale(1);
    border-radius: `.concat(t("dialog.border.radius"),`;
    box-shadow: `).concat(t("dialog.shadow"),`;
    background: `).concat(t("dialog.background"),`;
    border: 1px solid `).concat(t("dialog.border.color"),`;
    color: `).concat(t("dialog.color"),`;
}

.p-dialog-content {
    overflow-y: auto;
    padding: `).concat(t("dialog.content.padding"),`;
}

.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    padding: `).concat(t("dialog.header.padding"),`;
}

.p-dialog-title {
    font-weight: `).concat(t("dialog.title.font.weight"),`;
    font-size: `).concat(t("dialog.title.font.size"),`;
}

.p-dialog-footer {
    flex-shrink: 0;
    padding: `).concat(t("dialog.footer.padding"),`;
    display: flex;
    justify-content: flex-end;
    gap: `).concat(t("dialog.footer.gap"),`;
}

.p-dialog-header-actions {
    display: flex;
    align-items: center;
    gap: `).concat(t("dialog.header.gap"),`;
}

.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}

.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}

.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}

.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}

.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-left:dir(rtl) .p-dialog-enter-from,
.p-dialog-left:dir(rtl) .p-dialog-leave-to,
.p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-right:dir(rtl) .p-dialog-enter-from,
.p-dialog-right:dir(rtl) .p-dialog-leave-to,
.p-dialog-topright:dir(rtl) .p-dialog-enter-from,
.p-dialog-topright:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-maximized {
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
    border-radius: 0;
}

.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}
`)},hK={mask:function(e){var t=e.position,r=e.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t==="left"||t==="topleft"||t==="bottomleft"?"flex-start":t==="right"||t==="topright"||t==="bottomright"?"flex-end":"center",alignItems:t==="top"||t==="topleft"||t==="topright"?"flex-start":t==="bottom"||t==="bottomleft"||t==="bottomright"?"flex-end":"center",pointerEvents:r?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},fK={mask:function(e){var t=e.props,r=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],o=r.find(function(i){return i===t.position});return["p-dialog-mask",{"p-overlay-mask p-overlay-mask-enter":t.modal},o?"p-dialog-".concat(o):""]},root:function(e){var t=e.props,r=e.instance;return["p-dialog p-component",{"p-dialog-maximized":t.maximizable&&r.maximized}]},header:"p-dialog-header",title:"p-dialog-title",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:"p-dialog-content",footer:"p-dialog-footer"},pK=he.extend({name:"dialog",theme:dK,classes:fK,inlineStyles:hK}),mK={name:"BaseDialog",extends:we,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},maximizeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},_instance:null},style:pK,provide:function(){return{$pcDialog:this,$parentInstance:this}}},k_={name:"Dialog",extends:mK,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragstart","dragend"],provide:function(){var e=this;return{dialogRef:qr(function(){return e._instance})}},data:function(){return{id:this.$attrs.id,containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null,target:null}},watch:{"$attrs.id":function(e){this.id=e||$t()}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,maskMouseDownTarget:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&At.clear(this.mask),this.container=null,this.mask=null},mounted:function(){this.id=this.id||$t(),this.breakpoints&&this.createStyle()},methods:{close:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.target=document.activeElement,this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&At.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.focus()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&jo(this.mask,"p-overlay-mask-leave"),this.dragging&&this.documentDragEndListener&&this.documentDragEndListener()},onLeave:function(){this.$emit("hide"),Xe(this.target),this.target=null,this.focusableClose=null,this.focusableMax=null},onAfterLeave:function(){this.autoZIndex&&At.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskMouseDown:function(e){this.maskMouseDownTarget=e.target},onMaskMouseUp:function(){this.dismissableMask&&this.modal&&this.mask===this.maskMouseDownTarget&&this.close()},focus:function(){var e=function(o){return o&&o.querySelector("[autofocus]")},t=this.$slots.footer&&e(this.footerContainer);t||(t=this.$slots.header&&e(this.headerContainer),t||(t=this.$slots.default&&e(this.content),t||(this.maximizable?(this.focusableMax=!0,t=this.maximizableButton):(this.focusableClose=!0,t=this.closeButton)))),t&&Xe(t,{focusVisible:!0})},maximize:function(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?Rw():Bw())},enableDocumentSettings:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&Rw()},unbindDocumentState:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&Bw()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},footerContainerRef:function(e){this.footerContainer=e},maximizableRef:function(e){this.maximizableButton=e?e.$el:void 0},closeButtonRef:function(e){this.closeButton=e?e.$el:void 0},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",xl(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var r in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(r,`) {
                            .p-dialog[`).concat(this.$attrSelector,`] {
                                width: `).concat(this.breakpoints[r],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function(e){e.target.closest("div").getAttribute("data-pc-section")!=="headeractions"&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&Bs(document.body,{"user-select":"none"}),this.$emit("dragstart",e))},bindGlobalListeners:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function(){var e=this;this.documentDragListener=function(t){if(e.dragging){var r=Rt(e.container),o=sr(e.container),i=t.pageX-e.lastPageX,s=t.pageY-e.lastPageY,a=e.container.getBoundingClientRect(),l=a.left+i,c=a.top+s,u=nm(),d=getComputedStyle(e.container),h=parseFloat(d.marginLeft),f=parseFloat(d.marginTop);e.container.style.position="fixed",e.keepInViewport?(l>=e.minX&&l+r<u.width&&(e.lastPageX=t.pageX,e.container.style.left=l-h+"px"),c>=e.minY&&c+o<u.height&&(e.lastPageY=t.pageY,e.container.style.top=c-f+"px")):(e.lastPageX=t.pageX,e.container.style.left=l-h+"px",e.lastPageY=t.pageY,e.container.style.top=c-f+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function(){var e=this;this.documentDragEndListener=function(t){e.dragging&&(e.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!e.isUnstyled&&(document.body.style["user-select"]=""),e.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.id+"_header":null},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:fn,focustrap:T_},components:{Button:vd,Portal:zs,WindowMinimizeIcon:q8,WindowMaximizeIcon:X8,TimesIcon:Tl}};function cu(n){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(n)}function hC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function fC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(t),!0).forEach(function(r){gK(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gK(n,e,t){return(e=bK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bK(n){var e=vK(n,"string");return cu(e)=="symbol"?e:e+""}function vK(n,e){if(cu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yK=["aria-labelledby","aria-modal"],_K=["id"];function xK(n,e,t,r,o,i){var s=X("Button"),a=X("Portal"),l=hn("focustrap");return x(),N(a,{appendTo:n.appendTo},{default:q(function(){return[o.containerVisible?(x(),R("div",T({key:0,ref:i.maskRef,class:n.cx("mask"),style:n.sx("mask",!0,{position:n.position,modal:n.modal}),onMousedown:e[1]||(e[1]=function(){return i.onMaskMouseDown&&i.onMaskMouseDown.apply(i,arguments)}),onMouseup:e[2]||(e[2]=function(){return i.onMaskMouseUp&&i.onMaskMouseUp.apply(i,arguments)})},n.ptm("mask")),[W(ol,T({name:"p-dialog",onEnter:i.onEnter,onAfterEnter:i.onAfterEnter,onBeforeLeave:i.onBeforeLeave,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave,appear:""},n.ptm("transition")),{default:q(function(){return[n.visible?Gt((x(),R("div",T({key:0,ref:i.containerRef,class:n.cx("root"),style:n.sx("root"),role:"dialog","aria-labelledby":i.ariaLabelledById,"aria-modal":n.modal},n.ptmi("root")),[n.$slots.container?K(n.$slots,"container",{key:0,closeCallback:i.close,maximizeCallback:function(u){return i.maximize(u)}}):(x(),R(oe,{key:1},[n.showHeader?(x(),R("div",T({key:0,ref:i.headerContainerRef,class:n.cx("header"),onMousedown:e[0]||(e[0]=function(){return i.initDrag&&i.initDrag.apply(i,arguments)})},n.ptm("header")),[K(n.$slots,"header",{class:ce(n.cx("title"))},function(){return[n.header?(x(),R("span",T({key:0,id:i.ariaLabelledById,class:n.cx("title")},n.ptm("title")),Be(n.header),17,_K)):j("",!0)]}),G("div",T({class:n.cx("headerActions")},n.ptm("headerActions")),[n.maximizable?(x(),N(s,T({key:0,ref:i.maximizableRef,autofocus:o.focusableMax,class:n.cx("pcMaximizeButton"),onClick:i.maximize,tabindex:n.maximizable?"0":"-1",unstyled:n.unstyled},n.maximizeButtonProps,{pt:n.ptm("pcMaximizeButton"),"data-pc-group-section":"headericon"}),{icon:q(function(c){return[K(n.$slots,"maximizeicon",{maximized:o.maximized},function(){return[(x(),N(re(i.maximizeIconComponent),T({class:[c.class,o.maximized?n.minimizeIcon:n.maximizeIcon]},n.ptm("pcMaximizeButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","tabindex","unstyled","pt"])):j("",!0),n.closable?(x(),N(s,T({key:1,ref:i.closeButtonRef,autofocus:o.focusableClose,class:n.cx("pcCloseButton"),onClick:i.close,"aria-label":i.closeAriaLabel,unstyled:n.unstyled},n.closeButtonProps,{pt:n.ptm("pcCloseButton"),"data-pc-group-section":"headericon"}),{icon:q(function(c){return[K(n.$slots,"closeicon",{},function(){return[(x(),N(re(n.closeIcon?"span":"TimesIcon"),T({class:[n.closeIcon,c.class]},n.ptm("pcCloseButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","aria-label","unstyled","pt"])):j("",!0)],16)],16)):j("",!0),G("div",T({ref:i.contentRef,class:[n.cx("content"),n.contentClass],style:n.contentStyle},fC(fC({},n.contentProps),n.ptm("content"))),[K(n.$slots,"default")],16),n.footer||n.$slots.footer?(x(),R("div",T({key:1,ref:i.footerContainerRef,class:n.cx("footer")},n.ptm("footer")),[K(n.$slots,"footer",{},function(){return[On(Be(n.footer),1)]})],16)):j("",!0)],64))],16,yK)),[[l,{disabled:!n.modal}]]):j("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):j("",!0)]}),_:3},8,["appendTo"])}k_.render=xK;var Y8={name:"ArrowDownIcon",extends:qe};function wK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"},null,-1)]),16)}Y8.render=wK;var Z8={name:"ArrowUpIcon",extends:qe};function CK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"},null,-1)]),16)}Z8.render=CK;function uu(n){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(n)}function SK(n,e,t){return(e=TK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TK(n){var e=kK(n,"string");return uu(e)=="symbol"?e:e+""}function kK(n,e){if(uu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var EK=function(e){var t=e.dt;return`
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    background: `.concat(t("paginator.background"),`;
    color: `).concat(t("paginator.color"),`;
    padding: `).concat(t("paginator.padding"),`;
    border-radius: `).concat(t("paginator.border.radius"),`;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-content {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-content-start {
    margin-inline-end: auto;
}

.p-paginator-content-end {
    margin-inline-start: auto;
}

.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
    background: `).concat(t("paginator.nav.button.background"),`;
    border: 0 none;
    color: `).concat(t("paginator.nav.button.color"),`;
    min-width: `).concat(t("paginator.nav.button.width"),`;
    height: `).concat(t("paginator.nav.button.height"),`;
    transition: background `).concat(t("paginator.transition.duration"),", color ").concat(t("paginator.transition.duration"),", outline-color ").concat(t("paginator.transition.duration"),", box-shadow ").concat(t("paginator.transition.duration"),`;
    border-radius: `).concat(t("paginator.nav.button.border.radius"),`;
    padding: 0;
    margin: 0;
}

.p-paginator-page:focus-visible,
.p-paginator-next:focus-visible,
.p-paginator-last:focus-visible,
.p-paginator-first:focus-visible,
.p-paginator-prev:focus-visible {
    box-shadow: `).concat(t("paginator.nav.button.focus.ring.shadow"),`;
    outline: `).concat(t("paginator.nav.button.focus.ring.width")," ").concat(t("paginator.nav.button.focus.ring.style")," ").concat(t("paginator.nav.button.focus.ring.color"),`;
    outline-offset: `).concat(t("paginator.nav.button.focus.ring.offset"),`;
}

.p-paginator-page:not(.p-disabled):not(.p-paginator-page-selected):hover,
.p-paginator-first:not(.p-disabled):hover,
.p-paginator-prev:not(.p-disabled):hover,
.p-paginator-next:not(.p-disabled):hover,
.p-paginator-last:not(.p-disabled):hover {
    background: `).concat(t("paginator.nav.button.hover.background"),`;
    color: `).concat(t("paginator.nav.button.hover.color"),`;
}

.p-paginator-page.p-paginator-page-selected {
    background: `).concat(t("paginator.nav.button.selected.background"),`;
    color: `).concat(t("paginator.nav.button.selected.color"),`;
}

.p-paginator-current {
    color: `).concat(t("paginator.current.page.report.color"),`;
}

.p-paginator-pages {
    display: flex;
    align-items: center;
    gap: `).concat(t("paginator.gap"),`;
}

.p-paginator-jtp-input .p-inputtext {
    max-width: `).concat(t("paginator.jump.to.page.input.max.width"),`;
}

.p-paginator-first:dir(rtl) {
    order: 2;
}
.p-paginator-prev:dir(rtl) {
    order: 1;
}
.p-paginator-next:dir(rtl) {
    order: -1;
}
.p-paginator-last:dir(rtl) {
    order: -2;
}
`)},AK={paginator:function(e){var t=e.instance,r=e.key;return["p-paginator p-component",SK({"p-paginator-default":!t.hasBreakpoints()},"p-paginator-".concat(r),t.hasBreakpoints())]},content:"p-paginator-content",contentStart:"p-paginator-content-start",contentEnd:"p-paginator-content-end",first:function(e){var t=e.instance;return["p-paginator-first",{"p-disabled":t.$attrs.disabled}]},firstIcon:"p-paginator-first-icon",prev:function(e){var t=e.instance;return["p-paginator-prev",{"p-disabled":t.$attrs.disabled}]},prevIcon:"p-paginator-prev-icon",next:function(e){var t=e.instance;return["p-paginator-next",{"p-disabled":t.$attrs.disabled}]},nextIcon:"p-paginator-next-icon",last:function(e){var t=e.instance;return["p-paginator-last",{"p-disabled":t.$attrs.disabled}]},lastIcon:"p-paginator-last-icon",pages:"p-paginator-pages",page:function(e){var t=e.props,r=e.pageLink;return["p-paginator-page",{"p-paginator-page-selected":r-1===t.page}]},current:"p-paginator-current",pcRowPerPageDropdown:"p-paginator-rpp-dropdown",pcJumpToPageDropdown:"p-paginator-jtp-dropdown",pcJumpToPageInputText:"p-paginator-jtp-input"},PK=he.extend({name:"paginator",theme:EK,classes:AK}),J8={name:"AngleDoubleLeftIcon",extends:qe};function IK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"},null,-1)]),16)}J8.render=IK;var Q8={name:"BlankIcon",extends:qe};function RK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1)]),16)}Q8.render=RK;var E_={name:"SearchIcon",extends:qe};function BK(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1)]),16)}E_.render=BK;var OK=function(e){var t=e.dt;return`
.p-iconfield {
    position: relative;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (`.concat(t("icon.size"),` / 2));
    color: `).concat(t("iconfield.icon.color"),`;
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: `).concat(t("form.field.padding.x"),`;
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: `).concat(t("form.field.padding.x"),`;
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((`).concat(t("form.field.padding.x")," * 2) + ").concat(t("icon.size"),`);
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((`).concat(t("form.field.padding.x")," * 2) + ").concat(t("icon.size"),`);
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: `).concat(t("form.field.sm.font.size"),`;
    width: `).concat(t("form.field.sm.font.size"),`;
    height: `).concat(t("form.field.sm.font.size"),`;
    margin-top: calc(-1 * (`).concat(t("form.field.sm.font.size"),` / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: `).concat(t("form.field.lg.font.size"),`;
    width: `).concat(t("form.field.lg.font.size"),`;
    height: `).concat(t("form.field.lg.font.size"),`;
    margin-top: calc(-1 * (`).concat(t("form.field.lg.font.size"),` / 2));
}
`)},DK={root:"p-iconfield"},MK=he.extend({name:"iconfield",theme:OK,classes:DK}),FK={name:"BaseIconField",extends:we,style:MK,provide:function(){return{$pcIconField:this,$parentInstance:this}}},A_={name:"IconField",extends:FK,inheritAttrs:!1};function LK(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default")],16)}A_.render=LK;var NK={root:"p-inputicon"},$K=he.extend({name:"inputicon",classes:NK}),UK={name:"BaseInputIcon",extends:we,style:$K,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},P_={name:"InputIcon",extends:UK,inheritAttrs:!1,computed:{containerClass:function(){return[this.cx("root"),this.class]}}};function GK(n,e,t,r,o,i){return x(),R("span",T({class:i.containerClass},n.ptmi("root")),[K(n.$slots,"default")],16)}P_.render=GK;var VK=function(e){var t=e.dt;return`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: `.concat(t("select.background"),`;
    border: 1px solid `).concat(t("select.border.color"),`;
    transition: background `).concat(t("select.transition.duration"),", color ").concat(t("select.transition.duration"),", border-color ").concat(t("select.transition.duration"),`,
        outline-color `).concat(t("select.transition.duration"),", box-shadow ").concat(t("select.transition.duration"),`;
    border-radius: `).concat(t("select.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("select.shadow"),`;
}

.p-select:not(.p-disabled):hover {
    border-color: `).concat(t("select.hover.border.color"),`;
}

.p-select:not(.p-disabled).p-focus {
    border-color: `).concat(t("select.focus.border.color"),`;
    box-shadow: `).concat(t("select.focus.ring.shadow"),`;
    outline: `).concat(t("select.focus.ring.width")," ").concat(t("select.focus.ring.style")," ").concat(t("select.focus.ring.color"),`;
    outline-offset: `).concat(t("select.focus.ring.offset"),`;
}

.p-select.p-variant-filled {
    background: `).concat(t("select.filled.background"),`;
}

.p-select.p-variant-filled:not(.p-disabled):hover {
    background: `).concat(t("select.filled.hover.background"),`;
}

.p-select.p-variant-filled:not(.p-disabled).p-focus {
    background: `).concat(t("select.filled.focus.background"),`;
}

.p-select.p-invalid {
    border-color: `).concat(t("select.invalid.border.color"),`;
}

.p-select.p-disabled {
    opacity: 1;
    background: `).concat(t("select.disabled.background"),`;
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: `).concat(t("select.clear.icon.color"),`;
    inset-inline-end: `).concat(t("select.dropdown.width"),`;
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: `).concat(t("select.dropdown.color"),`;
    width: `).concat(t("select.dropdown.width"),`;
    border-start-end-radius: `).concat(t("select.border.radius"),`;
    border-end-end-radius: `).concat(t("select.border.radius"),`;
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: `).concat(t("select.padding.y")," ").concat(t("select.padding.x"),`;
    text-overflow: ellipsis;
    cursor: pointer;
    color: `).concat(t("select.color"),`;
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: `).concat(t("select.placeholder.color"),`;
}

.p-select.p-invalid .p-select-label.p-placeholder {
    color: `).concat(t("select.invalid.placeholder.color"),`;
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-inline-end: calc(1rem + `).concat(t("select.padding.x"),`);
}

.p-select.p-disabled .p-select-label {
    color: `).concat(t("select.disabled.color"),`;
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(t("select.overlay.background"),`;
    color: `).concat(t("select.overlay.color"),`;
    border: 1px solid `).concat(t("select.overlay.border.color"),`;
    border-radius: `).concat(t("select.overlay.border.radius"),`;
    box-shadow: `).concat(t("select.overlay.shadow"),`;
}

.p-select-header {
    padding: `).concat(t("select.list.header.padding"),`;
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: `).concat(t("select.option.group.padding"),`;
    background: `).concat(t("select.option.group.background"),`;
    color: `).concat(t("select.option.group.color"),`;
    font-weight: `).concat(t("select.option.group.font.weight"),`;
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: `).concat(t("select.list.padding"),`;
    gap: `).concat(t("select.list.gap"),`;
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(t("select.option.padding"),`;
    border: 0 none;
    color: `).concat(t("select.option.color"),`;
    background: transparent;
    transition: background `).concat(t("select.transition.duration"),", color ").concat(t("select.transition.duration"),", border-color ").concat(t("select.transition.duration"),`,
            box-shadow `).concat(t("select.transition.duration"),", outline-color ").concat(t("select.transition.duration"),`;
    border-radius: `).concat(t("select.option.border.radius"),`;
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: `).concat(t("select.option.focus.background"),`;
    color: `).concat(t("select.option.focus.color"),`;
}

.p-select-option.p-select-option-selected {
    background: `).concat(t("select.option.selected.background"),`;
    color: `).concat(t("select.option.selected.color"),`;
}

.p-select-option.p-select-option-selected.p-focus {
    background: `).concat(t("select.option.selected.focus.background"),`;
    color: `).concat(t("select.option.selected.focus.color"),`;
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: `).concat(t("select.checkmark.gutter.start"),`;
    margin-inline-end: `).concat(t("select.checkmark.gutter.end"),`;
    color: `).concat(t("select.checkmark.color"),`;
}

.p-select-empty-message {
    padding: `).concat(t("select.empty.message.padding"),`;
}

.p-select-fluid {
    display: flex;
}

.p-select-sm .p-select-label {
    font-size: `).concat(t("select.sm.font.size"),`;
    padding-block: `).concat(t("select.sm.padding.y"),`;
    padding-inline: `).concat(t("select.sm.padding.x"),`;
}

.p-select-sm .p-select-dropdown .p-icon {
    font-size: `).concat(t("select.sm.font.size"),`;
    width: `).concat(t("select.sm.font.size"),`;
    height: `).concat(t("select.sm.font.size"),`;
}

.p-select-lg .p-select-label {
    font-size: `).concat(t("select.lg.font.size"),`;
    padding-block: `).concat(t("select.lg.padding.y"),`;
    padding-inline: `).concat(t("select.lg.padding.x"),`;
}

.p-select-lg .p-select-dropdown .p-icon {
    font-size: `).concat(t("select.lg.font.size"),`;
    width: `).concat(t("select.lg.font.size"),`;
    height: `).concat(t("select.lg.font.size"),`;
}
`)},zK={root:function(e){var t=e.instance,r=e.props,o=e.state;return["p-select p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-focus":o.focused,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":o.focused||o.overlayVisible,"p-select-open":o.overlayVisible,"p-select-fluid":t.$fluid,"p-select-sm p-inputfield-sm":r.size==="small","p-select-lg p-inputfield-lg":r.size==="large"}]},label:function(e){var t=e.instance,r=e.props;return["p-select-label",{"p-placeholder":!r.editable&&t.label===r.placeholder,"p-select-label-empty":!r.editable&&!t.$slots.value&&(t.label==="p-emptylabel"||t.label.length===0)}]},clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:function(e){var t=e.instance,r=e.props,o=e.state,i=e.option,s=e.focusedOption;return["p-select-option",{"p-select-option-selected":t.isSelected(i)&&r.highlightOnSelect,"p-focus":o.focusedOptionIndex===s,"p-disabled":t.isOptionDisabled(i)}]},optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},HK=he.extend({name:"select",theme:VK,classes:zK}),jK={name:"BaseSelect",extends:Sl,props:{options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"14rem"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:HK,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function du(n){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(n)}function WK(n){return YK(n)||qK(n)||XK(n)||KK()}function KK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(n,e){if(n){if(typeof n=="string")return d0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d0(n,e):void 0}}function qK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function YK(n){if(Array.isArray(n))return d0(n)}function d0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function pC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function mC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(t),!0).forEach(function(r){eI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eI(n,e,t){return(e=ZK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZK(n){var e=JK(n,"string");return du(e)=="symbol"?e:e+""}function JK(n,e){if(du(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _d={name:"Select",extends:jK,inheritAttrs:!1,emits:["change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||$t()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||$t(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(At.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?Ae(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ae(e,this.optionValue):e},getOptionRenderKey:function(e,t){return(this.dataKey?Ae(e,this.dataKey):this.getOptionLabel(e))+"_"+t},getPTItemOptions:function(e,t,r,o){return this.ptm(o,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ae(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ae(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ae(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return t.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Xe(this.$refs.focusInput)},hide:function(e){var t=this,r=function(){t.$emit("before-hide"),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue="",t.resetFilterOnHide&&(t.filterValue=null),e&&Xe(t.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var t,r;this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e),(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r,e)},onKeyDown:function(e){if(this.disabled||nH()){e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&b_(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var t=e.target.value;this.searchValue="";var r=this.searchOptions(e,t);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,t),!this.overlayVisible&&pe(t)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?Ei(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Xe(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?f_(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Xe(t)},onOptionSelect:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=this.getOptionValue(t);this.updateModel(e,o),r&&this.hide(!0)},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){if(!e.isComposing)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){dr.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!t&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t||(this.overlayVisible&&this.hasFocusableElements()?(Xe(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){var t=this;At.set("overlay",e,this.$primevue.config.zIndex.overlay),Bs(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),setTimeout(function(){t.autoFilterFocus&&Xe(t.$refs.filterInput.$el)},1)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){var e=this;this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&this.filter&&this.$nextTick(function(){Xe(e.$refs.filterInput.$el)}),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){At.clear(e)},alignOverlay:function(){this.appendTo==="self"?R8(this.overlay,this.$el):(this.overlay.style.minWidth=Rt(this.$el)+"px",rm(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.overlay&&!e.$el.contains(t.target)&&!e.overlay.contains(t.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new md(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!_l()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var t=document.querySelector('label[for="'.concat(this.labelId,'"]'));t&&kf(t)&&(this.labelClickListener=function(){Xe(e.$refs.focusInput)},t.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.labelId,'"]'));e&&kf(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return om(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return pe(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return xn(this.d_value,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return Oi(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return t.isValidOption(o)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var t=this,r=e>0?Oi(this.visibleOptions.slice(0,e),function(o){return t.isValidOption(o)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,t){var r=this;this.searchValue=(this.searchValue||"")+t;var o=-1,i=!1;return pe(this.searchValue)&&(this.focusedOptionIndex!==-1?(o=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(s){return r.isOptionMatched(s)}),o=o===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(s){return r.isOptionMatched(s)}):o+this.focusedOptionIndex):o=this.visibleOptions.findIndex(function(s){return r.isOptionMatched(s)}),o!==-1&&(i=!0),o===-1&&this.focusedOptionIndex===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),i},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=t!==-1?"".concat(e.id,"_").concat(t):e.focusedOptionId,o=an(e.list,'li[id="'.concat(r,'"]'));o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t!==-1?t:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,t){this.writeValue(t,e),this.$emit("change",{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(r,o,i){r.push({optionGroup:o,group:!0,index:i});var s=t.getOptionGroupChildren(o);return s&&s.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=If.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var o=this.options||[],i=[];return o.forEach(function(s){var a=e.getOptionGroupChildren(s),l=a.filter(function(c){return r.includes(c)});l.length>0&&i.push(mC(mC({},s),{},eI({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",WK(l))))}),this.flatOptions(i)}return r}return t},hasSelectedOption:function(){return this.$filled},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.d_value||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return pe(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},isClearIconVisible:function(){return this.showClear&&this.d_value!=null&&pe(this.options)},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:fn},components:{InputText:bd,VirtualScroller:lm,Portal:zs,InputIcon:P_,IconField:A_,TimesIcon:Tl,ChevronDownIcon:wl,SpinnerIcon:Cl,SearchIcon:E_,CheckIcon:ni,BlankIcon:Q8}},QK=["id"],eX=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],tX=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],nX=["id"],rX=["id"],oX=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function iX(n,e,t,r,o,i){var s=X("SpinnerIcon"),a=X("InputText"),l=X("SearchIcon"),c=X("InputIcon"),u=X("IconField"),d=X("CheckIcon"),h=X("BlankIcon"),f=X("VirtualScroller"),p=X("Portal"),m=hn("ripple");return x(),R("div",T({ref:"container",id:o.id,class:n.cx("root"),onClick:e[11]||(e[11]=function(){return i.onContainerClick&&i.onContainerClick.apply(i,arguments)})},n.ptmi("root")),[n.editable?(x(),R("input",T({key:0,ref:"focusInput",id:n.labelId||n.inputId,type:"text",class:[n.cx("label"),n.inputClass,n.labelClass],style:[n.inputStyle,n.labelStyle],value:i.editableInputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?i.focusedOptionId:void 0,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onKeydown:e[2]||(e[2]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),onInput:e[3]||(e[3]=function(){return i.onEditableInput&&i.onEditableInput.apply(i,arguments)})},n.ptm("label")),null,16,eX)):(x(),R("span",T({key:1,ref:"focusInput",id:n.labelId||n.inputId,class:[n.cx("label"),n.inputClass,n.labelClass],style:[n.inputStyle,n.labelStyle],tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":n.ariaLabel||(i.label==="p-emptylabel"?void 0:i.label),"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?i.focusedOptionId:void 0,"aria-disabled":n.disabled,onFocus:e[4]||(e[4]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[5]||(e[5]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onKeydown:e[6]||(e[6]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},n.ptm("label")),[K(n.$slots,"value",{value:n.d_value,placeholder:n.placeholder},function(){var g;return[On(Be(i.label==="p-emptylabel"?"":(g=i.label)!==null&&g!==void 0?g:"empty"),1)]})],16,tX)),i.isClearIconVisible?K(n.$slots,"clearicon",{key:2,class:ce(n.cx("clearIcon")),clearCallback:i.onClearClick},function(){return[(x(),N(re(n.clearIcon?"i":"TimesIcon"),T({ref:"clearIcon",class:[n.cx("clearIcon"),n.clearIcon],onClick:i.onClearClick},n.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):j("",!0),G("div",T({class:n.cx("dropdown")},n.ptm("dropdown")),[n.loading?K(n.$slots,"loadingicon",{key:0,class:ce(n.cx("loadingIcon"))},function(){return[n.loadingIcon?(x(),R("span",T({key:0,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon],"aria-hidden":"true"},n.ptm("loadingIcon")),null,16)):(x(),N(s,T({key:1,class:n.cx("loadingIcon"),spin:"","aria-hidden":"true"},n.ptm("loadingIcon")),null,16,["class"]))]}):K(n.$slots,"dropdownicon",{key:1,class:ce(n.cx("dropdownIcon"))},function(){return[(x(),N(re(n.dropdownIcon?"span":"ChevronDownIcon"),T({class:[n.cx("dropdownIcon"),n.dropdownIcon],"aria-hidden":"true"},n.ptm("dropdownIcon")),null,16,["class"]))]})],16),W(p,{appendTo:n.appendTo},{default:q(function(){return[W(ol,T({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onAfterEnter:i.onOverlayAfterEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},n.ptm("transition")),{default:q(function(){return[o.overlayVisible?(x(),R("div",T({key:0,ref:i.overlayRef,class:[n.cx("overlay"),n.panelClass,n.overlayClass],style:[n.panelStyle,n.overlayStyle],onClick:e[9]||(e[9]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),onKeydown:e[10]||(e[10]=function(){return i.onOverlayKeyDown&&i.onOverlayKeyDown.apply(i,arguments)})},n.ptm("overlay")),[G("span",T({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return i.onFirstHiddenFocus&&i.onFirstHiddenFocus.apply(i,arguments)})},n.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),K(n.$slots,"header",{value:n.d_value,options:i.visibleOptions}),n.filter?(x(),R("div",T({key:0,class:n.cx("header")},n.ptm("header")),[W(u,{unstyled:n.unstyled,pt:n.ptm("pcFilterContainer")},{default:q(function(){return[W(a,{ref:"filterInput",type:"text",value:o.filterValue,onVnodeMounted:i.onFilterUpdated,onVnodeUpdated:i.onFilterUpdated,class:ce(n.cx("pcFilter")),placeholder:n.filterPlaceholder,variant:n.variant,unstyled:n.unstyled,role:"searchbox",autocomplete:"off","aria-owns":o.id+"_list","aria-activedescendant":i.focusedOptionId,onKeydown:i.onFilterKeyDown,onBlur:i.onFilterBlur,onInput:i.onFilterChange,pt:n.ptm("pcFilter")},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),W(c,{unstyled:n.unstyled,pt:n.ptm("pcFilterIconContainer")},{default:q(function(){return[K(n.$slots,"filtericon",{},function(){return[n.filterIcon?(x(),R("span",T({key:0,class:n.filterIcon},n.ptm("filterIcon")),null,16)):(x(),N(l,Ds(T({key:1},n.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["unstyled","pt"]),G("span",T({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Be(i.filterResultMessageText),17)],16)):j("",!0),G("div",T({class:n.cx("listContainer"),style:{"max-height":i.virtualScrollerDisabled?n.scrollHeight:""}},n.ptm("listContainer")),[W(f,T({ref:i.virtualScrollerRef},n.virtualScrollerOptions,{items:i.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:i.virtualScrollerDisabled,pt:n.ptm("virtualScroller")}),Ui({content:q(function(g){var b=g.styleClass,_=g.contentRef,v=g.items,y=g.getItemOptions,w=g.contentStyle,S=g.itemSize;return[G("ul",T({ref:function(k){return i.listRef(k,_)},id:o.id+"_list",class:[n.cx("list"),b],style:w,role:"listbox"},n.ptm("list")),[(x(!0),R(oe,null,st(v,function(C,k){return x(),R(oe,{key:i.getOptionRenderKey(C,i.getOptionIndex(k,y))},[i.isOptionGroup(C)?(x(),R("li",T({key:0,id:o.id+"_"+i.getOptionIndex(k,y),style:{height:S?S+"px":void 0},class:n.cx("optionGroup"),role:"option",ref_for:!0},n.ptm("optionGroup")),[K(n.$slots,"optiongroup",{option:C.optionGroup,index:i.getOptionIndex(k,y)},function(){return[G("span",T({class:n.cx("optionGroupLabel"),ref_for:!0},n.ptm("optionGroupLabel")),Be(i.getOptionGroupLabel(C.optionGroup)),17)]})],16,rX)):Gt((x(),R("li",T({key:1,id:o.id+"_"+i.getOptionIndex(k,y),class:n.cx("option",{option:C,focusedOption:i.getOptionIndex(k,y)}),style:{height:S?S+"px":void 0},role:"option","aria-label":i.getOptionLabel(C),"aria-selected":i.isSelected(C),"aria-disabled":i.isOptionDisabled(C),"aria-setsize":i.ariaSetSize,"aria-posinset":i.getAriaPosInset(i.getOptionIndex(k,y)),onClick:function(A){return i.onOptionSelect(A,C)},onMousemove:function(A){return i.onOptionMouseMove(A,i.getOptionIndex(k,y))},"data-p-selected":i.isSelected(C),"data-p-focused":o.focusedOptionIndex===i.getOptionIndex(k,y),"data-p-disabled":i.isOptionDisabled(C),ref_for:!0},i.getPTItemOptions(C,y,k,"option")),[n.checkmark?(x(),R(oe,{key:0},[i.isSelected(C)?(x(),N(d,T({key:0,class:n.cx("optionCheckIcon"),ref_for:!0},n.ptm("optionCheckIcon")),null,16,["class"])):(x(),N(h,T({key:1,class:n.cx("optionBlankIcon"),ref_for:!0},n.ptm("optionBlankIcon")),null,16,["class"]))],64)):j("",!0),K(n.$slots,"option",{option:C,selected:i.isSelected(C),index:i.getOptionIndex(k,y)},function(){return[G("span",T({class:n.cx("optionLabel"),ref_for:!0},n.ptm("optionLabel")),Be(i.getOptionLabel(C)),17)]})],16,oX)),[[m]])],64)}),128)),o.filterValue&&(!v||v&&v.length===0)?(x(),R("li",T({key:0,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[K(n.$slots,"emptyfilter",{},function(){return[On(Be(i.emptyFilterMessageText),1)]})],16)):!n.options||n.options&&n.options.length===0?(x(),R("li",T({key:1,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[K(n.$slots,"empty",{},function(){return[On(Be(i.emptyMessageText),1)]})],16)):j("",!0)],16,nX)]}),_:2},[n.$slots.loader?{name:"loader",fn:q(function(g){var b=g.options;return[K(n.$slots,"loader",{options:b})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),K(n.$slots,"footer",{value:n.d_value,options:i.visibleOptions}),!n.options||n.options&&n.options.length===0?(x(),R("span",T({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Be(i.emptyMessageText),17)):j("",!0),G("span",T({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Be(i.selectedMessageText),17),G("span",T({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[8]||(e[8]=function(){return i.onLastHiddenFocus&&i.onLastHiddenFocus.apply(i,arguments)})},n.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):j("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,QK)}_d.render=iX;var I_={name:"AngleDownIcon",extends:qe};function sX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1)]),16)}I_.render=sX;var tI={name:"AngleUpIcon",extends:qe};function aX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1)]),16)}tI.render=aX;var lX=function(e){var t=e.dt;return`
.p-inputnumber {
    display: inline-flex;
    position: relative;
}

.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
    cursor: pointer;
    background: `.concat(t("inputnumber.button.background"),`;
    color: `).concat(t("inputnumber.button.color"),`;
    width: `).concat(t("inputnumber.button.width"),`;
    transition: background `).concat(t("inputnumber.transition.duration"),", color ").concat(t("inputnumber.transition.duration"),", border-color ").concat(t("inputnumber.transition.duration"),", outline-color ").concat(t("inputnumber.transition.duration"),`;
}

.p-inputnumber-button:hover {
    background: `).concat(t("inputnumber.button.hover.background"),`;
    color: `).concat(t("inputnumber.button.hover.color"),`;
}

.p-inputnumber-button:active {
    background: `).concat(t("inputnumber.button.active.background"),`;
    color: `).concat(t("inputnumber.button.active.color"),`;
}

.p-inputnumber-stacked .p-inputnumber-button {
    position: relative;
    border: 0 none;
}

.p-inputnumber-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
    position: absolute;
    inset-block-start: 1px;
    inset-inline-end: 1px;
    height: calc(100% - 2px);
    z-index: 1;
}

.p-inputnumber-stacked .p-inputnumber-increment-button {
    padding: 0;
    border-start-end-radius: calc(`).concat(t("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-decrement-button {
    padding: 0;
    border-end-end-radius: calc(`).concat(t("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-button {
    flex: 1 1 auto;
    border: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-button {
    border: 1px solid `).concat(t("inputnumber.button.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:hover {
    border-color: `).concat(t("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:active {
    border-color: `).concat(t("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-increment-button {
    order: 3;
    border-start-end-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-end-end-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-inline-start: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}

.p-inputnumber-horizontal .p-inputnumber-decrement-button {
    order: 1;
    border-start-start-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-end-start-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-inline-end: 0 none;
}

.p-floatlabel:has(.p-inputnumber-horizontal) label {
    margin-inline-start: `).concat(t("inputnumber.button.width"),`;
}

.p-inputnumber-vertical {
    flex-direction: column;
}

.p-inputnumber-vertical .p-inputnumber-button {
    border: 1px solid `).concat(t("inputnumber.button.border.color"),`;
    padding: `).concat(t("inputnumber.button.vertical.padding"),`;
}

.p-inputnumber-vertical .p-inputnumber-button:hover {
    border-color: `).concat(t("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-button:active {
    border-color: `).concat(t("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-increment-button {
    order: 1;
    border-start-start-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-start-end-radius: `).concat(t("inputnumber.button.border.radius"),`;
    width: 100%;
    border-block-end: 0 none;
}

.p-inputnumber-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}

.p-inputnumber-vertical .p-inputnumber-decrement-button {
    order: 3;
    border-end-start-radius: `).concat(t("inputnumber.button.border.radius"),`;
    border-end-end-radius: `).concat(t("inputnumber.button.border.radius"),`;
    width: 100%;
    border-block-start: 0 none;
}

.p-inputnumber-input {
    flex: 1 1 auto;
}

.p-inputnumber-fluid {
    width: 100%;
}

.p-inputnumber-fluid .p-inputnumber-input {
    width: 1%;
}

.p-inputnumber-fluid.p-inputnumber-vertical .p-inputnumber-input {
    width: 100%;
}

.p-inputnumber:has(.p-inputtext-sm) .p-inputnumber-button .p-icon {
    font-size: `).concat(t("form.field.sm.font.size"),`;
    width: `).concat(t("form.field.sm.font.size"),`;
    height: `).concat(t("form.field.sm.font.size"),`;
}

.p-inputnumber:has(.p-inputtext-lg) .p-inputnumber-button .p-icon {
    font-size: `).concat(t("form.field.lg.font.size"),`;
    width: `).concat(t("form.field.lg.font.size"),`;
    height: `).concat(t("form.field.lg.font.size"),`;
}
`)},cX={root:function(e){var t=e.instance,r=e.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":t.$filled||r.allowEmpty===!1,"p-inputwrapper-focus":t.focused,"p-inputnumber-stacked":r.showButtons&&r.buttonLayout==="stacked","p-inputnumber-horizontal":r.showButtons&&r.buttonLayout==="horizontal","p-inputnumber-vertical":r.showButtons&&r.buttonLayout==="vertical","p-inputnumber-fluid":t.$fluid}]},pcInputText:"p-inputnumber-input",buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var t=e.instance,r=e.props;return["p-inputnumber-button p-inputnumber-increment-button",{"p-disabled":r.showButtons&&r.max!==null&&t.maxBoundry()}]},decrementButton:function(e){var t=e.instance,r=e.props;return["p-inputnumber-button p-inputnumber-decrement-button",{"p-disabled":r.showButtons&&r.min!==null&&t.minBoundry()}]}},uX=he.extend({name:"inputnumber",theme:lX,classes:cX}),dX={name:"BaseInputNumber",extends:Sl,props:{format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(e){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(e)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:uX,provide:function(){return{$pcInputNumber:this,$parentInstance:this}}};function hu(n){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(n)}function gC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function bC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(t),!0).forEach(function(r){hX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hX(n,e,t){return(e=fX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fX(n){var e=pX(n,"string");return hu(e)=="symbol"?e:e+""}function pX(n,e){if(hu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mX(n){return yX(n)||vX(n)||bX(n)||gX()}function gX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(n,e){if(n){if(typeof n=="string")return h0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h0(n,e):void 0}}function vX(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yX(n){if(Array.isArray(n))return h0(n)}function h0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var R_={name:"InputNumber",extends:dX,inheritAttrs:!1,emits:["input","focus","blur"],inject:{$pcFluid:{default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.d_value,focused:!1}},watch:{d_value:function(e){this.d_modelValue=e},locale:function(e,t){this.updateConstructParser(e,t)},localeMatcher:function(e,t){this.updateConstructParser(e,t)},mode:function(e,t){this.updateConstructParser(e,t)},currency:function(e,t){this.updateConstructParser(e,t)},currencyDisplay:function(e,t){this.updateConstructParser(e,t)},useGrouping:function(e,t){this.updateConstructParser(e,t)},minFractionDigits:function(e,t){this.updateConstructParser(e,t)},maxFractionDigits:function(e,t){this.updateConstructParser(e,t)},suffix:function(e,t){this.updateConstructParser(e,t)},prefix:function(e,t){this.updateConstructParser(e,t)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=mX(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),t=new Map(e.map(function(r,o){return[r,o]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(r){return t.get(r)}},updateConstructParser:function(e,t){e!==t&&this.constructParser()},escapeRegExp:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var e=new Intl.NumberFormat(this.locale,bC(bC({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(e){if(e!=null){if(e==="-")return e;if(this.format){var t=new Intl.NumberFormat(this.locale,this.getOptions()),r=t.format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r=r+this.suffix),r}return e.toString()}return""},parseValue:function(e){var t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if(t==="-")return t;var r=+t;return isNaN(r)?null:r}return null},repeat:function(e,t,r){var o=this;if(!this.readonly){var i=t||500;this.clearTimer(),this.timer=setTimeout(function(){o.repeat(e,40,r)},i),this.spin(e,r)}},spin:function(e,t){if(this.$refs.input){var r=this.step*t,o=this.parseValue(this.$refs.input.$el.value)||0,i=this.validateValue(o+r);this.updateInput(i,null,"spin"),this.updateModel(e,i),this.handleOnInput(e,o,i)}},onUpButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(e){(e.code==="Space"||e.code==="Enter"||e.code==="NumpadEnter")&&this.repeat(e,null,1)},onDownButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(e){(e.code==="Space"||e.code==="Enter"||e.code==="NumpadEnter")&&this.repeat(e,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(e){if(!this.readonly){if(e.altKey||e.ctrlKey||e.metaKey){this.isSpecialChar=!0,this.lastValue=this.$refs.input.$el.value;return}this.lastValue=e.target.value;var t=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,i=null;switch(e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(o.charAt(t-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(o.charAt(t))||e.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":i=this.validateValue(this.parseValue(o)),this.$refs.input.$el.value=this.formatValue(i),this.$refs.input.$el.setAttribute("aria-valuenow",i),this.updateModel(e,i);break;case"Backspace":{if(e.preventDefault(),t===r){var s=o.charAt(t-1),a=this.getDecimalCharIndexes(o),l=a.decimalCharIndex,c=a.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(s)){var u=this.getDecimalLength(o);if(this._group.test(s))this._group.lastIndex=0,i=o.slice(0,t-2)+o.slice(t-1);else if(this._decimal.test(s))this._decimal.lastIndex=0,u?this.$refs.input.$el.setSelectionRange(t-1,t-1):i=o.slice(0,t-1)+o.slice(t);else if(l>0&&t>l){var d=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";i=o.slice(0,t-1)+d+o.slice(t)}else c===1?(i=o.slice(0,t-1)+"0"+o.slice(t),i=this.parseValue(i)>0?i:""):i=o.slice(0,t-1)+o.slice(t)}this.updateValue(e,i,null,"delete-single")}else i=this.deleteRange(o,t,r),this.updateValue(e,i,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===r){var h=o.charAt(t),f=this.getDecimalCharIndexes(o),p=f.decimalCharIndex,m=f.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(h)){var g=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,i=o.slice(0,t)+o.slice(t+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,g?this.$refs.input.$el.setSelectionRange(t+1,t+1):i=o.slice(0,t)+o.slice(t+1);else if(p>0&&t>p){var b=this.isDecimalMode()&&(this.minFractionDigits||0)<g?"":"0";i=o.slice(0,t)+b+o.slice(t+1)}else m===1?(i=o.slice(0,t)+"0"+o.slice(t+1),i=this.parseValue(i)>0?i:""):i=o.slice(0,t)+o.slice(t+1)}this.updateValue(e,i,null,"delete-back-single")}else i=this.deleteRange(o,t,r),this.updateValue(e,i,null,"delete-range");break;case"Home":e.preventDefault(),pe(this.min)&&this.updateModel(e,this.min);break;case"End":e.preventDefault(),pe(this.max)&&this.updateModel(e,this.max);break}}},onInputKeyPress:function(e){if(!this.readonly){var t=e.key,r=this.isDecimalSign(t),o=this.isMinusSign(t);e.code!=="Enter"&&e.preventDefault(),(Number(t)>=0&&Number(t)<=9||o||r)&&this.insert(e,t,{isDecimalSign:r,isMinusSign:o})}},onPaste:function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("Text");if(t){var r=this.parseValue(t);r!=null&&this.insert(e,r.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),o=r.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:o}},getCharIndexes:function(e){var t=e.search(this._decimal);this._decimal.lastIndex=0;var r=e.search(this._minusSign);this._minusSign.lastIndex=0;var o=e.search(this._suffix);this._suffix.lastIndex=0;var i=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:i}},insert:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},o=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&o!==-1)){var i=this.$refs.input.$el.selectionStart,s=this.$refs.input.$el.selectionEnd,a=this.$refs.input.$el.value.trim(),l=this.getCharIndexes(a),c=l.decimalCharIndex,u=l.minusCharIndex,d=l.suffixCharIndex,h=l.currencyCharIndex,f;if(r.isMinusSign)i===0&&(f=a,(u===-1||s!==0)&&(f=this.insertText(a,t,0,s)),this.updateValue(e,f,t,"insert"));else if(r.isDecimalSign)c>0&&i===c?this.updateValue(e,a,t,"insert"):c>i&&c<s?(f=this.insertText(a,t,i,s),this.updateValue(e,f,t,"insert")):c===-1&&this.maxFractionDigits&&(f=this.insertText(a,t,i,s),this.updateValue(e,f,t,"insert"));else{var p=this.numberFormat.resolvedOptions().maximumFractionDigits,m=i!==s?"range-insert":"insert";if(c>0&&i>c){if(i+t.length-(c+1)<=p){var g=h>=i?h-1:d>=i?d:a.length;f=a.slice(0,i)+t+a.slice(i+t.length,g)+a.slice(g),this.updateValue(e,f,t,m)}}else f=this.insertText(a,t,i,s),this.updateValue(e,f,t,m)}}},insertText:function(e,t,r,o){var i=t==="."?t:t.split(".");if(i.length===2){var s=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,s>0?e.slice(0,r)+this.formatValue(t)+e.slice(o):this.formatValue(t)||e}else return o-r===e.length?this.formatValue(t):r===0?t+e.slice(o):o===e.length?e.slice(0,r)+t:e.slice(0,r)+t+e.slice(o)},deleteRange:function(e,t,r){var o;return r-t===e.length?o="":t===0?o=e.slice(r):r===e.length?o=e.slice(0,t):o=e.slice(0,t)+e.slice(r),o},initCursor:function(){var e=this.$refs.input.$el.selectionStart,t=this.$refs.input.$el.value,r=t.length,o=null,i=(this.prefixChar||"").length;t=t.replace(this._prefix,""),e=e-i;var s=t.charAt(e);if(this.isNumeralChar(s))return e+i;for(var a=e-1;a>=0;)if(s=t.charAt(a),this.isNumeralChar(s)){o=a+i;break}else a--;if(o!==null)this.$refs.input.$el.setSelectionRange(o+1,o+1);else{for(a=e;a<r;)if(s=t.charAt(a),this.isNumeralChar(s)){o=a+i;break}else a++;o!==null&&this.$refs.input.$el.setSelectionRange(o,o)}return o||0},onInputClick:function(){var e=this.$refs.input.$el.value;!this.readonly&&e!==Ow()&&this.initCursor()},isNumeralChar:function(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(e,t,r,o){var i=this.$refs.input.$el.value,s=null;t!=null&&(s=this.parseValue(t),s=!s&&!this.allowEmpty?0:s,this.updateInput(s,r,o,t),this.handleOnInput(e,i,s))},handleOnInput:function(e,t,r){if(this.isValueChanged(t,r)){var o,i;this.$emit("input",{originalEvent:e,value:r,formattedValue:t}),(o=(i=this.formField).onInput)===null||o===void 0||o.call(i,{originalEvent:e,value:r})}},isValueChanged:function(e,t){if(t===null&&e!==null)return!0;if(t!=null){var r=typeof e=="string"?this.parseValue(e):e;return t!==r}return!1},validateValue:function(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput:function(e,t,r,o){t=t||"";var i=this.$refs.input.$el.value,s=this.formatValue(e),a=i.length;if(s!==o&&(s=this.concatValues(s,o)),a===0){this.$refs.input.$el.value=s,this.$refs.input.$el.setSelectionRange(0,0);var l=this.initCursor(),c=l+t.length;this.$refs.input.$el.setSelectionRange(c,c)}else{var u=this.$refs.input.$el.selectionStart,d=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=s;var h=s.length;if(r==="range-insert"){var f=this.parseValue((i||"").slice(0,u)),p=f!==null?f.toString():"",m=p.split("").join("(".concat(this.groupChar,")?")),g=new RegExp(m,"g");g.test(s);var b=t.split("").join("(".concat(this.groupChar,")?")),_=new RegExp(b,"g");_.test(s.slice(g.lastIndex)),d=g.lastIndex+_.lastIndex,this.$refs.input.$el.setSelectionRange(d,d)}else if(h===a)r==="insert"||r==="delete-back-single"?this.$refs.input.$el.setSelectionRange(d+1,d+1):r==="delete-single"?this.$refs.input.$el.setSelectionRange(d-1,d-1):(r==="delete-range"||r==="spin")&&this.$refs.input.$el.setSelectionRange(d,d);else if(r==="delete-back-single"){var v=i.charAt(d-1),y=i.charAt(d),w=a-h,S=this._group.test(y);S&&w===1?d+=1:!S&&this.isNumeralChar(v)&&(d+=-1*w+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(d,d)}else if(i==="-"&&r==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var C=this.initCursor(),k=C+t.length+1;this.$refs.input.$el.setSelectionRange(k,k)}else d=d+(h-a),this.$refs.input.$el.setSelectionRange(d,d)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues:function(e,t){if(e&&t){var r=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(r)+this.suffixChar:e:r!==-1?e.split(this._decimal)[0]+t.slice(r):e}return e},getDecimalLength:function(e){if(e){var t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(e,t){this.writeValue(t,e)},onInputFocus:function(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==Ow()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur:function(e){var t,r;this.focused=!1;var o=e.target,i=this.validateValue(this.parseValue(o.value));this.$emit("blur",{originalEvent:e,value:o.value}),(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r,e),o.value=this.formatValue(i),o.setAttribute("aria-valuenow",i),this.updateModel(e,i),!this.disabled&&!this.readonly&&this.highlightOnFocus&&Ih()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_value>=this.max},minBoundry:function(){return this.d_value<=this.min}},computed:{upButtonListeners:function(){var e=this;return{mousedown:function(r){return e.onUpButtonMouseDown(r)},mouseup:function(r){return e.onUpButtonMouseUp(r)},mouseleave:function(r){return e.onUpButtonMouseLeave(r)},keydown:function(r){return e.onUpButtonKeyDown(r)},keyup:function(r){return e.onUpButtonKeyUp(r)}}},downButtonListeners:function(){var e=this;return{mousedown:function(r){return e.onDownButtonMouseDown(r)},mouseup:function(r){return e.onDownButtonMouseUp(r)},mouseleave:function(r){return e.onDownButtonMouseLeave(r)},keydown:function(r){return e.onDownButtonKeyDown(r)},keyup:function(r){return e.onDownButtonKeyUp(r)}}},formattedValue:function(){var e=!this.d_value&&!this.allowEmpty?0:this.d_value;return this.formatValue(e)},getFormatter:function(){return this.numberFormat}},components:{InputText:bd,AngleUpIcon:tI,AngleDownIcon:I_}},_X=["disabled"],xX=["disabled"],wX=["disabled"],CX=["disabled"];function SX(n,e,t,r,o,i){var s=X("InputText");return x(),R("span",T({class:n.cx("root")},n.ptmi("root")),[W(s,{ref:"input",id:n.inputId,role:"spinbutton",class:ce([n.cx("pcInputText"),n.inputClass]),style:nl(n.inputStyle),value:i.formattedValue,"aria-valuemin":n.min,"aria-valuemax":n.max,"aria-valuenow":n.d_value,inputmode:n.mode==="decimal"&&!n.minFractionDigits?"numeric":"decimal",disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,size:n.size,invalid:n.invalid,variant:n.variant,onInput:i.onUserInput,onKeydown:i.onInputKeyDown,onKeypress:i.onInputKeyPress,onPaste:i.onPaste,onClick:i.onInputClick,onFocus:i.onInputFocus,onBlur:i.onInputBlur,pt:n.ptm("pcInputText"),unstyled:n.unstyled},null,8,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","inputmode","disabled","readonly","placeholder","aria-labelledby","aria-label","size","invalid","variant","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),n.showButtons&&n.buttonLayout==="stacked"?(x(),R("span",T({key:0,class:n.cx("buttonGroup")},n.ptm("buttonGroup")),[K(n.$slots,"incrementbutton",{listeners:i.upButtonListeners},function(){return[G("button",T({class:[n.cx("incrementButton"),n.incrementButtonClass]},Ad(i.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("incrementButton")),[K(n.$slots,n.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(x(),N(re(n.incrementIcon||n.incrementButtonIcon?"span":"AngleUpIcon"),T({class:[n.incrementIcon,n.incrementButtonIcon]},n.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,_X)]}),K(n.$slots,"decrementbutton",{listeners:i.downButtonListeners},function(){return[G("button",T({class:[n.cx("decrementButton"),n.decrementButtonClass]},Ad(i.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("decrementButton")),[K(n.$slots,n.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(x(),N(re(n.decrementIcon||n.decrementButtonIcon?"span":"AngleDownIcon"),T({class:[n.decrementIcon,n.decrementButtonIcon]},n.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,xX)]})],16)):j("",!0),K(n.$slots,"incrementbutton",{listeners:i.upButtonListeners},function(){return[n.showButtons&&n.buttonLayout!=="stacked"?(x(),R("button",T({key:0,class:[n.cx("incrementButton"),n.incrementButtonClass]},Ad(i.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("incrementButton")),[K(n.$slots,n.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(x(),N(re(n.incrementIcon||n.incrementButtonIcon?"span":"AngleUpIcon"),T({class:[n.incrementIcon,n.incrementButtonIcon]},n.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,wX)):j("",!0)]}),K(n.$slots,"decrementbutton",{listeners:i.downButtonListeners},function(){return[n.showButtons&&n.buttonLayout!=="stacked"?(x(),R("button",T({key:0,class:[n.cx("decrementButton"),n.decrementButtonClass]},Ad(i.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},n.ptm("decrementButton")),[K(n.$slots,n.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(x(),N(re(n.decrementIcon||n.decrementButtonIcon?"span":"AngleDownIcon"),T({class:[n.decrementIcon,n.decrementButtonIcon]},n.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,CX)):j("",!0)]})],16)}R_.render=SX;var nI={name:"AngleDoubleRightIcon",extends:qe};function TX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"},null,-1)]),16)}nI.render=TX;var rI={name:"AngleLeftIcon",extends:qe};function kX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"},null,-1)]),16)}rI.render=kX;var EX={name:"BasePaginator",extends:we,props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},style:PK,provide:function(){return{$pcPaginator:this,$parentInstance:this}}},oI={name:"CurrentPageReport",hostName:"Paginator",extends:we,props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text:function(){var e=this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords);return e}}};function AX(n,e,t,r,o,i){return x(),R("span",T({class:n.cx("current")},n.ptm("current")),Be(i.text),17)}oI.render=AX;var iI={name:"FirstPageLink",hostName:"Paginator",extends:we,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleLeftIcon:J8},directives:{ripple:fn}};function PX(n,e,t,r,o,i){var s=hn("ripple");return Gt((x(),R("button",T({class:n.cx("first"),type:"button"},i.getPTOptions("first"),{"data-pc-group-section":"pagebutton"}),[(x(),N(re(t.template||"AngleDoubleLeftIcon"),T({class:n.cx("firstIcon")},i.getPTOptions("firstIcon")),null,16,["class"]))],16)),[[s]])}iI.render=PX;var sI={name:"JumpToPageDropdown",hostName:"Paginator",extends:we,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean,templates:null},methods:{onChange:function(e){this.$emit("page-change",e)}},computed:{pageOptions:function(){for(var e=[],t=0;t<this.pageCount;t++)e.push({label:String(t+1),value:t});return e}},components:{JTPSelect:_d}};function IX(n,e,t,r,o,i){var s=X("JTPSelect");return x(),N(s,{modelValue:t.page,options:i.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[0]||(e[0]=function(a){return i.onChange(a)}),class:ce(n.cx("pcJumpToPageDropdown")),disabled:t.disabled,unstyled:n.unstyled,pt:n.ptm("pcJumpToPageDropdown"),"data-pc-group-section":"pagedropdown"},Ui({_:2},[t.templates.jumptopagedropdownicon?{name:"dropdownicon",fn:q(function(a){return[(x(),N(re(t.templates.jumptopagedropdownicon),{class:ce(a.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}sI.render=IX;var aI={name:"JumpToPageInput",hostName:"Paginator",extends:we,inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data:function(){return{d_page:this.page}},watch:{page:function(e){this.d_page=e}},methods:{onChange:function(e){e!==this.page&&(this.d_page=e,this.$emit("page-change",e-1))}},computed:{inputArialabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:R_}};function RX(n,e,t,r,o,i){var s=X("JTPInput");return x(),N(s,{ref:"jtpInput",modelValue:o.d_page,class:ce(n.cx("pcJumpToPageInputText")),"aria-label":i.inputArialabel,disabled:t.disabled,"onUpdate:modelValue":i.onChange,unstyled:n.unstyled,pt:n.ptm("pcJumpToPageInputText")},null,8,["modelValue","class","aria-label","disabled","onUpdate:modelValue","unstyled","pt"])}aI.render=RX;var lI={name:"LastPageLink",hostName:"Paginator",extends:we,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleRightIcon:nI},directives:{ripple:fn}};function BX(n,e,t,r,o,i){var s=hn("ripple");return Gt((x(),R("button",T({class:n.cx("last"),type:"button"},i.getPTOptions("last"),{"data-pc-group-section":"pagebutton"}),[(x(),N(re(t.template||"AngleDoubleRightIcon"),T({class:n.cx("lastIcon")},i.getPTOptions("lastIcon")),null,16,["class"]))],16)),[[s]])}lI.render=BX;var cI={name:"NextPageLink",hostName:"Paginator",extends:we,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleRightIcon:S_},directives:{ripple:fn}};function OX(n,e,t,r,o,i){var s=hn("ripple");return Gt((x(),R("button",T({class:n.cx("next"),type:"button"},i.getPTOptions("next"),{"data-pc-group-section":"pagebutton"}),[(x(),N(re(t.template||"AngleRightIcon"),T({class:n.cx("nextIcon")},i.getPTOptions("nextIcon")),null,16,["class"]))],16)),[[s]])}cI.render=OX;var uI={name:"PageLinks",hostName:"Paginator",extends:we,inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{getPTOptions:function(e,t){return this.ptm(t,{context:{active:e===this.page}})},onPageLinkClick:function(e,t){this.$emit("click",{originalEvent:e,value:t})},ariaPageLabel:function(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,e):void 0}},directives:{ripple:fn}},DX=["aria-label","aria-current","onClick","data-p-active"];function MX(n,e,t,r,o,i){var s=hn("ripple");return x(),R("span",T({class:n.cx("pages")},n.ptm("pages")),[(x(!0),R(oe,null,st(t.value,function(a){return Gt((x(),R("button",T({key:a,class:n.cx("page",{pageLink:a}),type:"button","aria-label":i.ariaPageLabel(a),"aria-current":a-1===t.page?"page":void 0,onClick:function(c){return i.onPageLinkClick(c,a)},ref_for:!0},i.getPTOptions(a-1,"page"),{"data-p-active":a-1===t.page}),[On(Be(a),1)],16,DX)),[[s]])}),128))],16)}uI.render=MX;var dI={name:"PrevPageLink",hostName:"Paginator",extends:we,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(e){return this.ptm(e,{context:{disabled:this.$attrs.disabled}})}},components:{AngleLeftIcon:rI},directives:{ripple:fn}};function FX(n,e,t,r,o,i){var s=hn("ripple");return Gt((x(),R("button",T({class:n.cx("prev"),type:"button"},i.getPTOptions("prev"),{"data-pc-group-section":"pagebutton"}),[(x(),N(re(t.template||"AngleLeftIcon"),T({class:n.cx("prevIcon")},i.getPTOptions("prevIcon")),null,16,["class"]))],16)),[[s]])}dI.render=FX;var hI={name:"RowsPerPageDropdown",hostName:"Paginator",extends:we,emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean,templates:null},methods:{onChange:function(e){this.$emit("rows-change",e)}},computed:{rowsOptions:function(){var e=[];if(this.options)for(var t=0;t<this.options.length;t++)e.push({label:String(this.options[t]),value:this.options[t]});return e}},components:{RPPSelect:_d}};function LX(n,e,t,r,o,i){var s=X("RPPSelect");return x(),N(s,{modelValue:t.rows,options:i.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[0]||(e[0]=function(a){return i.onChange(a)}),class:ce(n.cx("pcRowPerPageDropdown")),disabled:t.disabled,unstyled:n.unstyled,pt:n.ptm("pcRowPerPageDropdown"),"data-pc-group-section":"pagedropdown"},Ui({_:2},[t.templates.rowsperpagedropdownicon?{name:"dropdownicon",fn:q(function(a){return[(x(),N(re(t.templates.rowsperpagedropdownicon),{class:ce(a.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}hI.render=LX;function f0(n){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(n)}function vC(n,e){return GX(n)||UX(n,e)||$X(n,e)||NX()}function NX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $X(n,e){if(n){if(typeof n=="string")return yC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yC(n,e):void 0}}function yC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function UX(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function GX(n){if(Array.isArray(n))return n}var fI={name:"Paginator",extends:EX,inheritAttrs:!1,emits:["update:first","update:rows","page"],data:function(){return{d_first:this.first,d_rows:this.rows}},watch:{first:function(e){this.d_first=e},rows:function(e){this.d_rows=e},totalRecords:function(e){this.page>0&&e&&this.d_first>=e&&this.changePage(this.pageCount-1)}},mounted:function(){this.createStyle()},methods:{changePage:function(e){var t=this.pageCount;if(e>=0&&e<t){this.d_first=this.d_rows*e;var r={page:e,first:this.d_first,rows:this.d_rows,pageCount:t};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r)}},changePageToFirst:function(e){this.isFirstPage||this.changePage(0),e.preventDefault()},changePageToPrev:function(e){this.changePage(this.page-1),e.preventDefault()},changePageLink:function(e){this.changePage(e.value-1),e.originalEvent.preventDefault()},changePageToNext:function(e){this.changePage(this.page+1),e.preventDefault()},changePageToLast:function(e){this.isLastPage||this.changePage(this.pageCount-1),e.preventDefault()},onRowChange:function(e){this.d_rows=e,this.changePage(this.page)},createStyle:function(){var e=this;if(this.hasBreakpoints()&&!this.isUnstyled){var t;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",xl(this.styleElement,"nonce",(t=this.$primevue)===null||t===void 0||(t=t.config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce),document.body.appendChild(this.styleElement);var r="",o=Object.keys(this.template),i={};o.sort(function(p,m){return parseInt(p)-parseInt(m)}).forEach(function(p){i[p]=e.template[p]});for(var s=0,a=Object.entries(Object.entries(i));s<a.length;s++){var l=vC(a[s],2),c=l[0],u=vC(l[1],1),d=u[0],h=void 0,f=void 0;d!=="default"&&typeof Object.keys(i)[c-1]=="string"?f=Number(Object.keys(i)[c-1].slice(0,-2))+1+"px":f=Object.keys(i)[c-1],h=Object.entries(i)[c-1]?"and (min-width:".concat(f,")"):"",d==="default"?r+=`
                            @media screen `.concat(h,` {
                                .p-paginator[`).concat(this.$attrSelector,`],
                                    display: flex;
                                }
                            }
                        `):r+=`
.p-paginator-`.concat(d,` {
    display: none;
}
@media screen `).concat(h," and (max-width: ").concat(d,`) {
    .p-paginator-`).concat(d,` {
        display: flex;
    }

    .p-paginator-default{
        display: none;
    }
}
                    `)}this.styleElement.innerHTML=r}},hasBreakpoints:function(){return f0(this.template)==="object"},getAriaLabel:function(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[e]:void 0}},computed:{templateItems:function(){var e={};if(this.hasBreakpoints()){e=this.template,e.default||(e.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(var t in e)e[t]=this.template[t].split(" ").map(function(r){return r.trim()});return e}return e.default=this.template.split(" ").map(function(r){return r.trim()}),e},page:function(){return Math.floor(this.d_first/this.d_rows)},pageCount:function(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage:function(){return this.page===0},isLastPage:function(){return this.page===this.pageCount-1},calculatePageLinkBoundaries:function(){var e=this.pageCount,t=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.page-t/2)),o=Math.min(e-1,r+t-1),i=this.pageLinkSize-(o-r+1);return r=Math.max(0,r-i),[r,o]},pageLinks:function(){for(var e=[],t=this.calculatePageLinkBoundaries,r=t[0],o=t[1],i=r;i<=o;i++)e.push(i+1);return e},currentState:function(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty:function(){return this.pageCount===0},currentPage:function(){return this.pageCount>0?this.page+1:0},last:function(){return Math.min(this.d_first+this.rows,this.totalRecords)}},components:{CurrentPageReport:oI,FirstPageLink:iI,LastPageLink:lI,NextPageLink:cI,PageLinks:uI,PrevPageLink:dI,RowsPerPageDropdown:hI,JumpToPageDropdown:sI,JumpToPageInput:aI}};function VX(n,e,t,r,o,i){var s=X("FirstPageLink"),a=X("PrevPageLink"),l=X("NextPageLink"),c=X("LastPageLink"),u=X("PageLinks"),d=X("CurrentPageReport"),h=X("RowsPerPageDropdown"),f=X("JumpToPageDropdown"),p=X("JumpToPageInput");return n.alwaysShow||i.pageLinks&&i.pageLinks.length>1?(x(),R("nav",Ds(T({key:0},n.ptmi("paginatorContainer"))),[(x(!0),R(oe,null,st(i.templateItems,function(m,g){return x(),R("div",T({key:g,ref_for:!0,ref:"paginator",class:n.cx("paginator",{key:g})},n.ptm("root")),[n.$slots.container?K(n.$slots,"container",{key:0,first:o.d_first+1,last:i.last,rows:o.d_rows,page:i.page,pageCount:i.pageCount,totalRecords:n.totalRecords,firstPageCallback:i.changePageToFirst,lastPageCallback:i.changePageToLast,prevPageCallback:i.changePageToPrev,nextPageCallback:i.changePageToNext,rowChangeCallback:i.onRowChange}):(x(),R(oe,{key:1},[n.$slots.start?(x(),R("div",T({key:0,class:n.cx("contentStart"),ref_for:!0},n.ptm("contentStart")),[K(n.$slots,"start",{state:i.currentState})],16)):j("",!0),G("div",T({class:n.cx("content"),ref_for:!0},n.ptm("content")),[(x(!0),R(oe,null,st(m,function(b){return x(),R(oe,{key:b},[b==="FirstPageLink"?(x(),N(s,{key:0,"aria-label":i.getAriaLabel("firstPageLabel"),template:n.$slots.firsticon||n.$slots.firstpagelinkicon,onClick:e[0]||(e[0]=function(_){return i.changePageToFirst(_)}),disabled:i.isFirstPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):b==="PrevPageLink"?(x(),N(a,{key:1,"aria-label":i.getAriaLabel("prevPageLabel"),template:n.$slots.previcon||n.$slots.prevpagelinkicon,onClick:e[1]||(e[1]=function(_){return i.changePageToPrev(_)}),disabled:i.isFirstPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):b==="NextPageLink"?(x(),N(l,{key:2,"aria-label":i.getAriaLabel("nextPageLabel"),template:n.$slots.nexticon||n.$slots.nextpagelinkicon,onClick:e[2]||(e[2]=function(_){return i.changePageToNext(_)}),disabled:i.isLastPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):b==="LastPageLink"?(x(),N(c,{key:3,"aria-label":i.getAriaLabel("lastPageLabel"),template:n.$slots.lasticon||n.$slots.lastpagelinkicon,onClick:e[3]||(e[3]=function(_){return i.changePageToLast(_)}),disabled:i.isLastPage||i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):b==="PageLinks"?(x(),N(u,{key:4,"aria-label":i.getAriaLabel("pageLabel"),value:i.pageLinks,page:i.page,onClick:e[4]||(e[4]=function(_){return i.changePageLink(_)}),unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","value","page","unstyled","pt"])):b==="CurrentPageReport"?(x(),N(d,{key:5,"aria-live":"polite",template:n.currentPageReportTemplate,currentPage:i.currentPage,page:i.page,pageCount:i.pageCount,first:o.d_first,rows:o.d_rows,totalRecords:n.totalRecords,unstyled:n.unstyled,pt:n.pt},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords","unstyled","pt"])):b==="RowsPerPageDropdown"&&n.rowsPerPageOptions?(x(),N(h,{key:6,"aria-label":i.getAriaLabel("rowsPerPageLabel"),rows:o.d_rows,options:n.rowsPerPageOptions,onRowsChange:e[5]||(e[5]=function(_){return i.onRowChange(_)}),disabled:i.empty,templates:n.$slots,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","rows","options","disabled","templates","unstyled","pt"])):b==="JumpToPageDropdown"?(x(),N(f,{key:7,"aria-label":i.getAriaLabel("jumpToPageDropdownLabel"),page:i.page,pageCount:i.pageCount,onPageChange:e[6]||(e[6]=function(_){return i.changePage(_)}),disabled:i.empty,templates:n.$slots,unstyled:n.unstyled,pt:n.pt},null,8,["aria-label","page","pageCount","disabled","templates","unstyled","pt"])):b==="JumpToPageInput"?(x(),N(p,{key:8,page:i.currentPage,onPageChange:e[7]||(e[7]=function(_){return i.changePage(_)}),disabled:i.empty,unstyled:n.unstyled,pt:n.pt},null,8,["page","disabled","unstyled","pt"])):j("",!0)],64)}),128))],16),n.$slots.end?(x(),R("div",T({key:1,class:n.cx("contentEnd"),ref_for:!0},n.ptm("contentEnd")),[K(n.$slots,"end",{state:i.currentState})],16)):j("",!0)],64))],16)}),128))],16)):j("",!0)}fI.render=VX;var zX=function(e){var t=e.dt;return`
.p-datatable {
    position: relative;
}

.p-datatable-table {
    border-spacing: 0;
    width: 100%;
}

.p-datatable-scrollable > .p-datatable-table-container {
    position: relative;
}

.p-datatable-scrollable-table > .p-datatable-thead {
    inset-block-start: 0;
    z-index: 1;
}

.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}

.p-datatable-scrollable-table > .p-datatable-tfoot {
    inset-block-end: 0;
    z-index: 1;
}

.p-datatable-scrollable .p-datatable-frozen-column {
    position: sticky;
    background: `.concat(t("datatable.header.cell.background"),`;
}

.p-datatable-scrollable th.p-datatable-frozen-column {
    z-index: 1;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-thead,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-thead {
    background: `).concat(t("datatable.header.cell.background"),`;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-tfoot,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-tfoot {
    background: `).concat(t("datatable.footer.cell.background"),`;
}

.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.p-datatable-flex-scrollable > .p-datatable-table-container {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-datatable-scrollable-table > .p-datatable-tbody > .p-datatable-row-group-header {
    position: sticky;
    z-index: 1;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-datatable-resizable-column:not(.p-datatable-frozen-column) {
    background-clip: padding-box;
    position: relative;
}

.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-datatable-resizable-column:last-child .p-datatable-column-resizer {
    display: none;
}

.p-datatable-column-resizer {
    display: block;
    position: absolute;
    inset-block-start: 0;
    inset-inline-end: 0;
    margin: 0;
    width: `).concat(t("datatable.column.resizer.width"),`;
    height: 100%;
    padding: 0;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-datatable-column-header-content {
    display: flex;
    align-items: center;
    gap: `).concat(t("datatable.header.cell.gap"),`;
}

.p-datatable-column-resize-indicator {
    width: `).concat(t("datatable.resize.indicator.width"),`;
    position: absolute;
    z-index: 10;
    display: none;
    background: `).concat(t("datatable.resize.indicator.color"),`;
}

.p-datatable-row-reorder-indicator-up,
.p-datatable-row-reorder-indicator-down {
    position: absolute;
    display: none;
}

.p-datatable-reorderable-column,
.p-datatable-reorderable-row-handle {
    cursor: move;
}

.p-datatable-mask {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-datatable-inline-filter {
    display: flex;
    align-items: center;
    width: 100%;
    gap: `).concat(t("datatable.filter.inline.gap"),`;
}

.p-datatable-inline-filter .p-datatable-filter-element-container {
    flex: 1 1 auto;
    width: 1%;
}

.p-datatable-filter-overlay {
    background: `).concat(t("datatable.filter.overlay.select.background"),`;
    color: `).concat(t("datatable.filter.overlay.select.color"),`;
    border: 1px solid `).concat(t("datatable.filter.overlay.select.border.color"),`;
    border-radius: `).concat(t("datatable.filter.overlay.select.border.radius"),`;
    box-shadow: `).concat(t("datatable.filter.overlay.select.shadow"),`;
    min-width: 12.5rem;
}

.p-datatable-filter-constraint-list {
    margin: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
    padding: `).concat(t("datatable.filter.constraint.list.padding"),`;
    gap: `).concat(t("datatable.filter.constraint.list.gap"),`;
}

.p-datatable-filter-constraint {
    padding: `).concat(t("datatable.filter.constraint.padding"),`;
    color: `).concat(t("datatable.filter.constraint.color"),`;
    border-radius: `).concat(t("datatable.filter.constraint.border.radius"),`;
    cursor: pointer;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
        box-shadow `).concat(t("datatable.transition.duration"),`;
}

.p-datatable-filter-constraint-selected {
    background: `).concat(t("datatable.filter.constraint.selected.background"),`;
    color: `).concat(t("datatable.filter.constraint.selected.color"),`;
}

.p-datatable-filter-constraint:not(.p-datatable-filter-constraint-selected):not(.p-disabled):hover {
    background: `).concat(t("datatable.filter.constraint.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint:focus-visible {
    outline: 0 none;
    background: `).concat(t("datatable.filter.constraint.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint-selected:focus-visible {
    outline: 0 none;
    background: `).concat(t("datatable.filter.constraint.selected.focus.background"),`;
    color: `).concat(t("datatable.filter.constraint.selected.focus.color"),`;
}

.p-datatable-filter-constraint-separator {
    border-block-start: 1px solid `).concat(t("datatable.filter.constraint.separator.border.color"),`;
}

.p-datatable-popover-filter {
    display: inline-flex;
    margin-inline-start: auto;
}

.p-datatable-filter-overlay-popover {
    background: `).concat(t("datatable.filter.overlay.popover.background"),`;
    color: `).concat(t("datatable.filter.overlay.popover.color"),`;
    border: 1px solid `).concat(t("datatable.filter.overlay.popover.border.color"),`;
    border-radius: `).concat(t("datatable.filter.overlay.popover.border.radius"),`;
    box-shadow: `).concat(t("datatable.filter.overlay.popover.shadow"),`;
    min-width: 12.5rem;
    padding: `).concat(t("datatable.filter.overlay.popover.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(t("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-operator-dropdown {
    width: 100%;
}

.p-datatable-filter-rule-list,
.p-datatable-filter-rule {
    display: flex;
    flex-direction: column;
    gap: `).concat(t("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-rule {
    border-block-end: 1px solid `).concat(t("datatable.filter.rule.border.color"),`;
}

.p-datatable-filter-rule:last-child {
    border-block-end: 0 none;
}

.p-datatable-filter-add-rule-button {
    width: 100%;
}

.p-datatable-filter-remove-button {
    width: 100%;
}

.p-datatable-filter-buttonbar {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.p-datatable-virtualscroller-spacer {
    display: flex;
}

.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    inset-block-start: 0;
    inset-inline-start: 0;
}

.p-datatable-paginator-top {
    border-color: `).concat(t("datatable.paginator.top.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.paginator.top.border.width"),`;
}

.p-datatable-paginator-bottom {
    border-color: `).concat(t("datatable.paginator.bottom.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.paginator.bottom.border.width"),`;
}

.p-datatable-header {
    background: `).concat(t("datatable.header.background"),`;
    color: `).concat(t("datatable.header.color"),`;
    border-color: `).concat(t("datatable.header.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.header.border.width"),`;
    padding: `).concat(t("datatable.header.padding"),`;
}

.p-datatable-footer {
    background: `).concat(t("datatable.footer.background"),`;
    color: `).concat(t("datatable.footer.color"),`;
    border-color: `).concat(t("datatable.footer.border.color"),`;
    border-style: solid;
    border-width: `).concat(t("datatable.footer.border.width"),`;
    padding: `).concat(t("datatable.footer.padding"),`;
}

.p-datatable-header-cell {
    padding: `).concat(t("datatable.header.cell.padding"),`;
    background: `).concat(t("datatable.header.cell.background"),`;
    border-color: `).concat(t("datatable.header.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(t("datatable.header.cell.color"),`;
    font-weight: normal;
    text-align: start;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
}

.p-datatable-column-title {
    font-weight: `).concat(t("datatable.column.title.font.weight"),`;
}

.p-datatable-tbody > tr {
    outline-color: transparent;
    background: `).concat(t("datatable.row.background"),`;
    color: `).concat(t("datatable.row.color"),`;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
}

.p-datatable-tbody > tr > td {
    text-align: start;
    border-color: `).concat(t("datatable.body.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: `).concat(t("datatable.body.cell.padding"),`;
}

.p-datatable-hoverable .p-datatable-tbody > tr:not(.p-datatable-row-selected):hover {
    background: `).concat(t("datatable.row.hover.background"),`;
    color: `).concat(t("datatable.row.hover.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected {
    background: `).concat(t("datatable.row.selected.background"),`;
    color: `).concat(t("datatable.row.selected.color"),`;
}

.p-datatable-tbody > tr:has(+ .p-datatable-row-selected) > td {
    border-block-end-color: `).concat(t("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected > td {
    border-block-end-color: `).concat(t("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr:focus-visible,
.p-datatable-tbody > tr.p-datatable-contextmenu-row-selected {
    box-shadow: `).concat(t("datatable.row.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.row.focus.ring.width")," ").concat(t("datatable.row.focus.ring.style")," ").concat(t("datatable.row.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.row.focus.ring.offset"),`;
}

.p-datatable-tfoot > tr > td {
    text-align: start;
    padding: `).concat(t("datatable.footer.cell.padding"),`;
    border-color: `).concat(t("datatable.footer.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(t("datatable.footer.cell.color"),`;
    background: `).concat(t("datatable.footer.cell.background"),`;
}

.p-datatable-column-footer {
    font-weight: `).concat(t("datatable.column.footer.font.weight"),`;
}

.p-datatable-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
}

.p-datatable-column-title,
.p-datatable-sort-icon,
.p-datatable-sort-badge {
    vertical-align: middle;
}

.p-datatable-sort-icon {
    color: `).concat(t("datatable.sort.icon.color"),`;
    font-size: `).concat(t("datatable.sort.icon.size"),`;
    width: `).concat(t("datatable.sort.icon.size"),`;
    height: `).concat(t("datatable.sort.icon.size"),`;
    transition: color `).concat(t("datatable.transition.duration"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover {
    background: `).concat(t("datatable.header.cell.hover.background"),`;
    color: `).concat(t("datatable.header.cell.hover.color"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover .p-datatable-sort-icon {
    color: `).concat(t("datatable.sort.icon.hover.color"),`;
}

.p-datatable-column-sorted {
    background: `).concat(t("datatable.header.cell.selected.background"),`;
    color: `).concat(t("datatable.header.cell.selected.color"),`;
}

.p-datatable-column-sorted .p-datatable-sort-icon {
    color: `).concat(t("datatable.header.cell.selected.color"),`;
}

.p-datatable-sortable-column:focus-visible {
    box-shadow: `).concat(t("datatable.header.cell.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.header.cell.focus.ring.width")," ").concat(t("datatable.header.cell.focus.ring.style")," ").concat(t("datatable.header.cell.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.header.cell.focus.ring.offset"),`;
}

.p-datatable-hoverable .p-datatable-selectable-row {
    cursor: pointer;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-top > td {
    box-shadow: inset 0 2px 0 0 `).concat(t("datatable.drop.point.color"),`;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-bottom > td {
    box-shadow: inset 0 -2px 0 0 `).concat(t("datatable.drop.point.color"),`;
}

.p-datatable-loading-icon {
    font-size: `).concat(t("datatable.loading.icon.size"),`;
    width: `).concat(t("datatable.loading.icon.size"),`;
    height: `).concat(t("datatable.loading.icon.size"),`;
}

.p-datatable-gridlines .p-datatable-header {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-footer {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd {
    background: `).concat(t("datatable.row.striped.background"),`;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd.p-datatable-row-selected {
    background: `).concat(t("datatable.row.selected.background"),`;
    color: `).concat(t("datatable.row.selected.color"),`;
}

.p-datatable.p-datatable-sm .p-datatable-header {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-thead > tr > th {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tbody > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tfoot > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-footer {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-lg .p-datatable-header {
    padding: 1rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-thead > tr > th {
    padding: 1rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tbody > tr > td {
    padding: 1rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tfoot > tr > td {
    padding: 1rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-footer {
    padding: 1rem 1.25rem;
}

.p-datatable-row-toggle-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(t("datatable.row.toggle.button.size"),`;
    height: `).concat(t("datatable.row.toggle.button.size"),`;
    color: `).concat(t("datatable.row.toggle.button.color"),`;
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: `).concat(t("datatable.row.toggle.button.border.radius"),`;
    transition: background `).concat(t("datatable.transition.duration"),", color ").concat(t("datatable.transition.duration"),", border-color ").concat(t("datatable.transition.duration"),`,
            outline-color `).concat(t("datatable.transition.duration"),", box-shadow ").concat(t("datatable.transition.duration"),`;
    outline-color: transparent;
    user-select: none;
}

.p-datatable-row-toggle-button:enabled:hover {
    color: `).concat(t("datatable.row.toggle.button.hover.color"),`;
    background: `).concat(t("datatable.row.toggle.button.hover.background"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected .p-datatable-row-toggle-button:hover {
    background: `).concat(t("datatable.row.toggle.button.selected.hover.background"),`;
    color: `).concat(t("datatable.row.toggle.button.selected.hover.color"),`;
}

.p-datatable-row-toggle-button:focus-visible {
    box-shadow: `).concat(t("datatable.row.toggle.button.focus.ring.shadow"),`;
    outline: `).concat(t("datatable.row.toggle.button.focus.ring.width")," ").concat(t("datatable.row.toggle.button.focus.ring.style")," ").concat(t("datatable.row.toggle.button.focus.ring.color"),`;
    outline-offset: `).concat(t("datatable.row.toggle.button.focus.ring.offset"),`;
}

.p-datatable-row-toggle-icon:dir(rtl) {
    transform: rotate(180deg);
}
`)},HX={root:function(e){var t=e.props;return["p-datatable p-component",{"p-datatable-hoverable":t.rowHover||t.selectionMode,"p-datatable-resizable":t.resizableColumns,"p-datatable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-datatable-scrollable":t.scrollable,"p-datatable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex","p-datatable-striped":t.stripedRows,"p-datatable-gridlines":t.showGridlines,"p-datatable-sm":t.size==="small","p-datatable-lg":t.size==="large"}]},mask:"p-datatable-mask p-overlay-mask",loadingIcon:"p-datatable-loading-icon",header:"p-datatable-header",pcPaginator:function(e){var t=e.position;return"p-datatable-paginator-"+t},tableContainer:"p-datatable-table-container",table:function(e){var t=e.props;return["p-datatable-table",{"p-datatable-scrollable-table":t.scrollable,"p-datatable-resizable-table":t.resizableColumns,"p-datatable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}]},thead:"p-datatable-thead",headerCell:function(e){var t=e.instance,r=e.props,o=e.column;return o&&!t.columnProp(o,"hidden")&&(r.rowGroupMode!=="subheader"||r.groupRowsBy!==t.columnProp(o,"field"))?["p-datatable-header-cell",{"p-datatable-frozen-column":t.columnProp(o,"frozen")}]:["p-datatable-header-cell",{"p-datatable-sortable-column":t.columnProp("sortable"),"p-datatable-resizable-column":t.resizableColumns,"p-datatable-column-sorted":t.isColumnSorted(),"p-datatable-frozen-column":t.columnProp("frozen"),"p-datatable-reorderable-column":r.reorderableColumns}]},columnResizer:"p-datatable-column-resizer",columnHeaderContent:"p-datatable-column-header-content",columnTitle:"p-datatable-column-title",columnFooter:"p-datatable-column-footer",sortIcon:"p-datatable-sort-icon",pcSortBadge:"p-datatable-sort-badge",filter:function(e){var t=e.props;return["p-datatable-filter",{"p-datatable-inline-filter":t.display==="row","p-datatable-popover-filter":t.display==="menu"}]},filterElementContainer:"p-datatable-filter-element-container",pcColumnFilterButton:"p-datatable-column-filter-button",pcColumnFilterClearButton:"p-datatable-column-filter-clear-button",filterOverlay:function(e){e.instance;var t=e.props;return["p-datatable-filter-overlay p-component",{"p-datatable-filter-overlay-popover":t.display==="menu"}]},filterConstraintList:"p-datatable-filter-constraint-list",filterConstraint:function(e){var t=e.instance,r=e.matchMode;return["p-datatable-filter-constraint",{"p-datatable-filter-constraint-selected":r&&t.isRowMatchModeSelected(r.value)}]},filterConstraintSeparator:"p-datatable-filter-constraint-separator",filterOperator:"p-datatable-filter-operator",pcFilterOperatorDropdown:"p-datatable-filter-operator-dropdown",filterRuleList:"p-datatable-filter-rule-list",filterRule:"p-datatable-filter-rule",pcFilterConstraintDropdown:"p-datatable-filter-constraint-dropdown",pcFilterRemoveRuleButton:"p-datatable-filter-remove-rule-button",pcFilterAddRuleButton:"p-datatable-filter-add-rule-button",filterButtonbar:"p-datatable-filter-buttonbar",pcFilterClearButton:"p-datatable-filter-clear-button",pcFilterApplyButton:"p-datatable-filter-apply-button",tbody:function(e){var t=e.props;return t.frozenRow?"p-datatable-tbody p-datatable-frozen-tbody":"p-datatable-tbody"},rowGroupHeader:"p-datatable-row-group-header",rowToggleButton:"p-datatable-row-toggle-button",rowToggleIcon:"p-datatable-row-toggle-icon",row:function(e){var t=e.instance,r=e.props,o=e.index,i=e.columnSelectionMode,s=[];return r.selectionMode&&s.push("p-datatable-selectable-row"),r.selection&&s.push({"p-datatable-row-selected":i?t.isSelected&&t.$parentInstance.$parentInstance.highlightOnSelect:t.isSelected}),r.contextMenuSelection&&s.push({"p-datatable-contextmenu-row-selected":t.isSelectedWithContextMenu}),s.push(o%2===0?"p-row-even":"p-row-odd"),s},rowExpansion:"p-datatable-row-expansion",rowGroupFooter:"p-datatable-row-group-footer",emptyMessage:"p-datatable-empty-message",bodyCell:function(e){var t=e.instance;return[{"p-datatable-frozen-column":t.columnProp("frozen")}]},reorderableRowHandle:"p-datatable-reorderable-row-handle",pcRowEditorInit:"p-datatable-row-editor-init",pcRowEditorSave:"p-datatable-row-editor-save",pcRowEditorCancel:"p-datatable-row-editor-cancel",tfoot:"p-datatable-tfoot",footerCell:function(e){var t=e.instance;return[{"p-datatable-frozen-column":t.columnProp("frozen")}]},virtualScrollerSpacer:"p-datatable-virtualscroller-spacer",footer:"p-datatable-footer",columnResizeIndicator:"p-datatable-column-resize-indicator",rowReorderIndicatorUp:"p-datatable-row-reorder-indicator-up",rowReorderIndicatorDown:"p-datatable-row-reorder-indicator-down"},jX={tableContainer:{overflow:"auto"},thead:{position:"sticky"},tfoot:{position:"sticky"}},WX=he.extend({name:"datatable",theme:zX,classes:HX,inlineStyles:jX}),B_={name:"BarsIcon",extends:qe};function KX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"},null,-1)]),16)}B_.render=KX;var pI={name:"PencilIcon",extends:qe};function XX(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"},null,-1)]),16)}pI.render=XX;var qX=function(e){var t=e.dt;return`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(t("radiobutton.width"),`;
    height: `).concat(t("radiobutton.height"),`;
}

.p-radiobutton-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: 50%;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    border: 1px solid `).concat(t("radiobutton.border.color"),`;
    background: `).concat(t("radiobutton.background"),`;
    width: `).concat(t("radiobutton.width"),`;
    height: `).concat(t("radiobutton.height"),`;
    transition: background `).concat(t("radiobutton.transition.duration"),", color ").concat(t("radiobutton.transition.duration"),", border-color ").concat(t("radiobutton.transition.duration"),", box-shadow ").concat(t("radiobutton.transition.duration"),", outline-color ").concat(t("radiobutton.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("radiobutton.shadow"),`;
}

.p-radiobutton-icon {
    transition-duration: `).concat(t("radiobutton.transition.duration"),`;
    background: transparent;
    font-size: `).concat(t("radiobutton.icon.size"),`;
    width: `).concat(t("radiobutton.icon.size"),`;
    height: `).concat(t("radiobutton.icon.size"),`;
    border-radius: 50%;
    backface-visibility: hidden;
    transform: translateZ(0) scale(0.1);
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.hover.border.color"),`;
}

.p-radiobutton-checked .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.border.color"),`;
    background: `).concat(t("radiobutton.checked.background"),`;
}

.p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.checked.color"),`;
    transform: translateZ(0) scale(1, 1);
    visibility: visible;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.hover.border.color"),`;
    background: `).concat(t("radiobutton.checked.hover.background"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.checked.hover.color"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.focus.border.color"),`;
    box-shadow: `).concat(t("radiobutton.focus.ring.shadow"),`;
    outline: `).concat(t("radiobutton.focus.ring.width")," ").concat(t("radiobutton.focus.ring.style")," ").concat(t("radiobutton.focus.ring.color"),`;
    outline-offset: `).concat(t("radiobutton.focus.ring.offset"),`;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.checked.focus.border.color"),`;
}

.p-radiobutton.p-invalid > .p-radiobutton-box {
    border-color: `).concat(t("radiobutton.invalid.border.color"),`;
}

.p-radiobutton.p-variant-filled .p-radiobutton-box {
    background: `).concat(t("radiobutton.filled.background"),`;
}

.p-radiobutton.p-variant-filled.p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(t("radiobutton.checked.background"),`;
}

.p-radiobutton.p-variant-filled:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(t("radiobutton.checked.hover.background"),`;
}

.p-radiobutton.p-disabled {
    opacity: 1;
}

.p-radiobutton.p-disabled .p-radiobutton-box {
    background: `).concat(t("radiobutton.disabled.background"),`;
    border-color: `).concat(t("radiobutton.checked.disabled.border.color"),`;
}

.p-radiobutton-checked.p-disabled .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(t("radiobutton.icon.disabled.color"),`;
}

.p-radiobutton-sm,
.p-radiobutton-sm .p-radiobutton-box {
    width: `).concat(t("radiobutton.sm.width"),`;
    height: `).concat(t("radiobutton.sm.height"),`;
}

.p-radiobutton-sm .p-radiobutton-icon {
    font-size: `).concat(t("radiobutton.icon.sm.size"),`;
    width: `).concat(t("radiobutton.icon.sm.size"),`;
    height: `).concat(t("radiobutton.icon.sm.size"),`;
}

.p-radiobutton-lg,
.p-radiobutton-lg .p-radiobutton-box {
    width: `).concat(t("radiobutton.lg.width"),`;
    height: `).concat(t("radiobutton.lg.height"),`;
}

.p-radiobutton-lg .p-radiobutton-icon {
    font-size: `).concat(t("radiobutton.icon.lg.size"),`;
    width: `).concat(t("radiobutton.icon.lg.size"),`;
    height: `).concat(t("radiobutton.icon.lg.size"),`;
}
`)},YX={root:function(e){var t=e.instance,r=e.props;return["p-radiobutton p-component",{"p-radiobutton-checked":t.checked,"p-disabled":r.disabled,"p-invalid":t.$pcRadioButtonGroup?t.$pcRadioButtonGroup.$invalid:t.$invalid,"p-variant-filled":t.$variant==="filled","p-radiobutton-sm p-inputfield-sm":r.size==="small","p-radiobutton-lg p-inputfield-lg":r.size==="large"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},ZX=he.extend({name:"radiobutton",theme:qX,classes:YX}),JX={name:"BaseRadioButton",extends:Sl,props:{value:null,binary:Boolean,readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ZX,provide:function(){return{$pcRadioButton:this,$parentInstance:this}}},mI={name:"RadioButton",extends:JX,inheritAttrs:!1,emits:["change","focus","blur"],inject:{$pcRadioButtonGroup:{default:void 0}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var t=this.binary?!this.checked:this.value;this.$pcRadioButtonGroup?this.$pcRadioButtonGroup.writeValue(t,e):this.writeValue(t,e),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){var t,r;this.$emit("blur",e),(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r,e)}},computed:{groupName:function(){return this.$pcRadioButtonGroup?this.$pcRadioButtonGroup.groupName:this.$formName},checked:function(){var e=this.$pcRadioButtonGroup?this.$pcRadioButtonGroup.d_value:this.d_value;return e!=null&&(this.binary?!!e:xn(e,this.value))}}},QX=["data-p-checked","data-p-disabled"],eq=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function tq(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root")},i.getPTOptions("root"),{"data-p-checked":i.checked,"data-p-disabled":n.disabled}),[G("input",T({id:n.inputId,type:"radio",class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.value,name:i.groupName,checked:i.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onChange:e[2]||(e[2]=function(){return i.onChange&&i.onChange.apply(i,arguments)})},i.getPTOptions("input")),null,16,eq),G("div",T({class:n.cx("box")},i.getPTOptions("box")),[G("div",T({class:n.cx("icon")},i.getPTOptions("icon")),null,16)],16)],16,QX)}mI.render=tq;var gI={name:"FilterIcon",extends:qe};function nq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"},null,-1)]),16)}gI.render=nq;var bI={name:"FilterSlashIcon",extends:qe};function rq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"},null,-1)]),16)}bI.render=rq;var vI={name:"PlusIcon",extends:qe};function oq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1)]),16)}vI.render=oq;var yI={name:"TrashIcon",extends:qe};function iq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"},null,-1)]),16)}yI.render=iq;var p0={name:"SortAltIcon",extends:qe};function sq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"},null,-1),G("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"},null,-1),G("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"},null,-1),G("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"},null,-1)]),16)}p0.render=sq;var m0={name:"SortAmountDownIcon",extends:qe};function aq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z",fill:"currentColor"},null,-1)]),16)}m0.render=aq;var g0={name:"SortAmountUpAltIcon",extends:qe};function lq(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z",fill:"currentColor"},null,-1)]),16)}g0.render=lq;var cq={name:"BaseDataTable",extends:we,props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},nullSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:[Array,Object],default:null},expandedRowIcon:{type:String,default:void 0},collapsedRowIcon:{type:String,default:void 0},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:Function,default:null},rowStyle:{type:Function,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},breakpoint:{type:String,default:"960px"},showHeaders:{type:Boolean,default:!0},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},highlightOnSelect:{type:Boolean,default:!1},size:{type:String,default:null},tableStyle:{type:null,default:null},tableClass:{type:[String,Object],default:null},tableProps:{type:Object,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:Object,default:function(){return{filter:{severity:"secondary",text:!0,rounded:!0},inline:{clear:{severity:"secondary",text:!0,rounded:!0}},popover:{addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}}}}},editButtonProps:{type:Object,default:function(){return{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}}}},style:WX,provide:function(){return{$pcDataTable:this,$parentInstance:this}}},_I={name:"RowCheckbox",hostName:"DataTable",extends:we,emits:["change"],props:{value:null,checked:null,column:null,rowCheckboxIconTemplate:{type:Function,default:null},index:{type:Number,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return T(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$attrs.disabled||this.$emit("change",{originalEvent:e,data:this.value})}},computed:{checkboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}},components:{CheckIcon:ni,Checkbox:yd}};function uq(n,e,t,r,o,i){var s=X("CheckIcon"),a=X("Checkbox");return x(),N(a,{modelValue:t.checked,binary:!0,disabled:n.$attrs.disabled,"aria-label":i.checkboxAriaLabel,onChange:i.onChange,unstyled:n.unstyled,pt:i.getColumnPT("pcRowCheckbox")},{icon:q(function(l){return[t.rowCheckboxIconTemplate?(x(),N(re(t.rowCheckboxIconTemplate),{key:0,checked:l.checked,class:ce(l.class)},null,8,["checked","class"])):!t.rowCheckboxIconTemplate&&l.checked?(x(),N(s,T({key:1,class:l.class},i.getColumnPT("pcRowCheckbox").icon),null,16,["class"])):j("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","unstyled","pt"])}_I.render=uq;var xI={name:"RowRadioButton",hostName:"DataTable",extends:we,emits:["change"],props:{value:null,checked:null,name:null,column:null,index:{type:Number,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return T(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$attrs.disabled||this.$emit("change",{originalEvent:e,data:this.value})}},components:{RadioButton:mI}};function dq(n,e,t,r,o,i){var s=X("RadioButton");return x(),N(s,{modelValue:t.checked,binary:!0,disabled:n.$attrs.disabled,name:t.name,onChange:i.onChange,unstyled:n.unstyled,pt:i.getColumnPT("pcRowRadiobutton")},null,8,["modelValue","disabled","name","onChange","unstyled","pt"])}xI.render=dq;var wI={name:"BodyCell",hostName:"DataTable",extends:we,emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},isRowExpanded:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},editButtonProps:{type:Object,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data:function(){return{d_editing:this.editing,styleObject:{}}},watch:{editing:function(e){this.d_editing=e},"$data.d_editing":function(e){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||"field_".concat(this.index),index:this.rowIndex,editing:e})}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){var e=this;this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(function(){var t=Ei(e.$el);t&&t.focus()},1)},beforeUnmount:function(){this.overlayEventListener&&(dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp:function(e){return Vs(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:(r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines}};return T(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},resolveFieldData:function(){return Ae(this.rowData,this.field)},toggleRow:function(e){this.$emit("row-toggle",{originalEvent:e,data:this.rowData})},toggleRowWithRadio:function(e,t){this.$emit("radio-change",{originalEvent:e.originalEvent,index:t,data:e.data})},toggleRowWithCheckbox:function(e,t){this.$emit("checkbox-change",{originalEvent:e.originalEvent,index:t,data:e.data})},isEditable:function(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener:function(){var e=this;this.documentEditListener||(this.documentEditListener=function(t){e.selfClick||e.completeEdit(t,"outside"),e.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener:function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode:function(){this.d_editing=!1,this.unbindDocumentEditListener(),dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick:function(e){var t=this;this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=function(r){t.$el&&t.$el.contains(r.target)&&(t.selfClick=!0)},dr.on("overlay-click",this.overlayEventListener)))},completeEdit:function(e,t){var r={originalEvent:e,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:t,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",r),r.defaultPrevented||this.switchCellToViewMode()},onKeyDown:function(e){if(this.editMode==="cell")switch(e.code){case"Enter":case"NumpadEnter":this.completeEdit(e,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(e,"tab"),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e);break}},moveToPreviousCell:function(e){var t=this.findCell(e.target),r=this.findPreviousEditableColumn(t);r&&(Dw(r,"click"),e.preventDefault())},moveToNextCell:function(e){var t=this.findCell(e.target),r=this.findNextEditableColumn(t);r&&(Dw(r,"click"),e.preventDefault())},findCell:function(e){if(e){for(var t=e;t&&!Ze(t,"data-p-cell-editing");)t=t.parentElement;return t}else return null},findPreviousEditableColumn:function(e){var t=e.previousElementSibling;if(!t){var r=e.parentElement.previousElementSibling;r&&(t=r.lastElementChild)}return t?Ze(t,"data-p-editable-column")?t:this.findPreviousEditableColumn(t):null},findNextEditableColumn:function(e){var t=e.nextElementSibling;if(!t){var r=e.parentElement.nextElementSibling;r&&(t=r.firstElementChild)}return t?Ze(t,"data-p-editable-column")?t:this.findNextEditableColumn(t):null},onRowEditInit:function(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave:function(e){this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel:function(e){this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback:function(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback:function(e){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(e,"enter")},editorCancelCallback:function(e){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen"),t=this.$parentInstance.$parentInstance.isRTL;if(e==="right"){var r=0,o=p_(this.$el,'[data-p-frozen-column="true"]');o&&(r=Rt(o)+parseFloat(o.style.right||0)),t?this.styleObject.left=r+"px":this.styleObject.right=r+"px"}else{var i=0,s=m_(this.$el,'[data-p-frozen-column="true"]');s&&(i=Rt(s)+parseFloat(s.style.left||0)),t?this.styleObject.right=i+"px":this.styleObject.left=i+"px"}}},getVirtualScrollerProp:function(e){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[e]:null}},computed:{editingRowData:function(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field:function(){return this.columnProp("field")},containerClass:function(){return[this.columnProp("bodyClass"),this.columnProp("class"),this.cx("bodyCell")]},containerStyle:function(){var e=this.columnProp("bodyStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},loading:function(){return this.getVirtualScrollerProp("loading")},loadingOptions:function(){var e=this.getVirtualScrollerProp("getLoaderOptions");return e&&e(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:xI,DTCheckbox:_I,Button:vd,ChevronDownIcon:wl,ChevronRightIcon:gd,BarsIcon:B_,PencilIcon:pI,CheckIcon:ni,TimesIcon:Tl},directives:{ripple:fn}};function fu(n){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(n)}function _C(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function sh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(t),!0).forEach(function(r){hq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_C(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hq(n,e,t){return(e=fq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fq(n){var e=pq(n,"string");return fu(e)=="symbol"?e:e+""}function pq(n,e){if(fu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mq=["colspan","rowspan","data-p-selection-column","data-p-editable-column","data-p-cell-editing","data-p-frozen-column"],gq=["aria-expanded","aria-controls","aria-label"];function bq(n,e,t,r,o,i){var s=X("DTRadioButton"),a=X("DTCheckbox"),l=X("BarsIcon"),c=X("ChevronDownIcon"),u=X("ChevronRightIcon"),d=X("Button"),h=hn("ripple");return i.loading?(x(),R("td",T({key:0,style:i.containerStyle,class:i.containerClass,role:"cell"},sh(sh({},i.getColumnPT("root")),i.getColumnPT("bodyCell"))),[(x(),N(re(t.column.children.loading),{data:t.rowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,loadingOptions:i.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],16)):(x(),R("td",T({key:1,style:i.containerStyle,class:i.containerClass,colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan"),onClick:e[3]||(e[3]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onKeydown:e[4]||(e[4]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),role:"cell"},sh(sh({},i.getColumnPT("root")),i.getColumnPT("bodyCell")),{"data-p-selection-column":i.columnProp("selectionMode")!=null,"data-p-editable-column":i.isEditable(),"data-p-cell-editing":o.d_editing,"data-p-frozen-column":i.columnProp("frozen")}),[t.column.children&&t.column.children.body&&!o.d_editing?(x(),N(re(t.column.children.body),{key:0,data:t.rowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,editorInitCallback:i.editorInitCallback,rowTogglerCallback:i.toggleRow},null,8,["data","column","field","index","frozenRow","editorInitCallback","rowTogglerCallback"])):t.column.children&&t.column.children.editor&&o.d_editing?(x(),N(re(t.column.children.editor),{key:1,data:i.editingRowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow,editorSaveCallback:i.editorSaveCallback,editorCancelCallback:i.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):t.column.children&&t.column.children.body&&!t.column.children.editor&&o.d_editing?(x(),N(re(t.column.children.body),{key:2,data:i.editingRowData,column:t.column,field:i.field,index:t.rowIndex,frozenRow:t.frozenRow},null,8,["data","column","field","index","frozenRow"])):i.columnProp("selectionMode")?(x(),R(oe,{key:3},[i.columnProp("selectionMode")==="single"?(x(),N(s,{key:0,value:t.rowData,name:t.name,checked:t.selected,onChange:e[0]||(e[0]=function(f){return i.toggleRowWithRadio(f,t.rowIndex)}),column:t.column,index:t.index,unstyled:n.unstyled,pt:n.pt},null,8,["value","name","checked","column","index","unstyled","pt"])):i.columnProp("selectionMode")==="multiple"?(x(),N(a,{key:1,value:t.rowData,checked:t.selected,rowCheckboxIconTemplate:t.column.children&&t.column.children.rowcheckboxicon,"aria-selected":t.selected?!0:void 0,onChange:e[1]||(e[1]=function(f){return i.toggleRowWithCheckbox(f,t.rowIndex)}),column:t.column,index:t.index,unstyled:n.unstyled,pt:n.pt},null,8,["value","checked","rowCheckboxIconTemplate","aria-selected","column","index","unstyled","pt"])):j("",!0)],64)):i.columnProp("rowReorder")?(x(),R(oe,{key:4},[t.column.children&&t.column.children.rowreordericon?(x(),N(re(t.column.children.rowreordericon),{key:0,class:ce(n.cx("reorderableRowHandle"))},null,8,["class"])):i.columnProp("rowReorderIcon")?(x(),R("i",T({key:1,class:[n.cx("reorderableRowHandle"),i.columnProp("rowReorderIcon")]},i.getColumnPT("reorderableRowHandle")),null,16)):(x(),N(l,T({key:2,class:n.cx("reorderableRowHandle")},i.getColumnPT("reorderableRowHandle")),null,16,["class"]))],64)):i.columnProp("expander")?Gt((x(),R("button",T({key:5,class:n.cx("rowToggleButton"),type:"button","aria-expanded":t.isRowExpanded,"aria-controls":t.ariaControls,"aria-label":i.expandButtonAriaLabel,onClick:e[2]||(e[2]=function(){return i.toggleRow&&i.toggleRow.apply(i,arguments)})},i.getColumnPT("rowToggleButton"),{"data-pc-group-section":"rowactionbutton"}),[t.column.children&&t.column.children.rowtogglericon?(x(),N(re(t.column.children.rowtogglericon),{key:0,class:ce(n.cx("rowToggleIcon")),rowExpanded:t.isRowExpanded},null,8,["class","rowExpanded"])):(x(),R(oe,{key:1},[t.isRowExpanded&&t.expandedRowIcon?(x(),R("span",{key:0,class:ce([n.cx("rowToggleIcon"),t.expandedRowIcon])},null,2)):t.isRowExpanded&&!t.expandedRowIcon?(x(),N(c,T({key:1,class:n.cx("rowToggleIcon")},i.getColumnPT("rowToggleIcon")),null,16,["class"])):!t.isRowExpanded&&t.collapsedRowIcon?(x(),R("span",{key:2,class:ce([n.cx("rowToggleIcon"),t.collapsedRowIcon])},null,2)):!t.isRowExpanded&&!t.collapsedRowIcon?(x(),N(u,T({key:3,class:n.cx("rowToggleIcon")},i.getColumnPT("rowToggleIcon")),null,16,["class"])):j("",!0)],64))],16,gq)),[[h]]):t.editMode==="row"&&i.columnProp("rowEditor")?(x(),R(oe,{key:6},[o.d_editing?j("",!0):(x(),N(d,T({key:0,class:n.cx("pcRowEditorInit"),"aria-label":i.initButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditInit},t.editButtonProps.init,{pt:i.getColumnPT("pcRowEditorInit"),"data-pc-group-section":"rowactionbutton"}),{icon:q(function(f){return[(x(),N(re(t.column.children&&t.column.children.roweditoriniticon||"PencilIcon"),T({class:f.class},i.getColumnPT("pcRowEditorInit").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])),o.d_editing?(x(),N(d,T({key:1,class:n.cx("pcRowEditorSave"),"aria-label":i.saveButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditSave},t.editButtonProps.save,{pt:i.getColumnPT("pcRowEditorSave"),"data-pc-group-section":"rowactionbutton"}),{icon:q(function(f){return[(x(),N(re(t.column.children&&t.column.children.roweditorsaveicon||"CheckIcon"),T({class:f.class},i.getColumnPT("pcRowEditorSave").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):j("",!0),o.d_editing?(x(),N(d,T({key:2,class:n.cx("pcRowEditorCancel"),"aria-label":i.cancelButtonAriaLabel,unstyled:n.unstyled,onClick:i.onRowEditCancel},t.editButtonProps.cancel,{pt:i.getColumnPT("pcRowEditorCancel"),"data-pc-group-section":"rowactionbutton"}),{icon:q(function(f){return[(x(),N(re(t.column.children&&t.column.children.roweditorcancelicon||"TimesIcon"),T({class:f.class},i.getColumnPT("pcRowEditorCancel").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):j("",!0)],64)):(x(),R(oe,{key:7},[On(Be(i.resolveFieldData()),1)],64))],16,mq))}wI.render=bq;function pu(n){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(n)}function vq(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=yq(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw i}}}}function yq(n,e){if(n){if(typeof n=="string")return xC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xC(n,e):void 0}}function xC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function wC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function CC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(t),!0).forEach(function(r){_q(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _q(n,e,t){return(e=xq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xq(n){var e=wq(n,"string");return pu(e)=="symbol"?e:e+""}function wq(n,e){if(pu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CI={name:"BodyRow",hostName:"DataTable",extends:we,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{rowData:{type:Object,default:null},index:{type:Number,default:0},value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},rowGroupHeaderStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1},expandedRowId:{type:String,default:null},nameAttributeSelector:{type:String,default:null}},data:function(){return{d_rowExpanded:!1}},watch:{expandedRows:{deep:!0,immediate:!0,handler:function(e){var t=this;this.d_rowExpanded=this.dataKey?(e==null?void 0:e[Ae(this.rowData,this.dataKey)])!==void 0:e==null?void 0:e.some(function(r){return t.equals(t.rowData,r)})}}},methods:{columnProp:function(e,t){return Vs(e,t)},getColumnPT:function(e){var t={parent:{instance:this,props:this.$props,state:this.$data}};return T(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.columnProp({},"pt"),e,t))},getBodyRowPTOptions:function(e){var t,r=(t=this.$parentInstance)===null||t===void 0?void 0:t.$parentInstance;return this.ptm(e,{context:{index:this.rowIndex,selectable:(r==null?void 0:r.rowHover)||(r==null?void 0:r.selectionMode),selected:this.isSelected,stripedRows:(r==null?void 0:r.stripedRows)||!1}})},shouldRenderBodyCell:function(e){var t=this.columnProp(e,"hidden");if(this.rowGroupMode&&!t){var r=this.columnProp(e,"field");if(this.rowGroupMode==="subheader")return this.groupRowsBy!==r;if(this.rowGroupMode==="rowspan")if(this.isGrouped(e)){var o=this.value[this.rowIndex-1];if(o){var i=Ae(this.value[this.rowIndex],r),s=Ae(o,r);return i!==s}else return!0}else return!0}else return!t},calculateRowGroupSize:function(e){if(this.isGrouped(e)){for(var t=this.rowIndex,r=this.columnProp(e,"field"),o=Ae(this.value[t],r),i=o,s=0;o===i;){s++;var a=this.value[++t];if(a)i=Ae(a,r);else break}return s===1?null:s}else return null},isGrouped:function(e){var t=this.columnProp(e,"field");return this.groupRowsBy&&t?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(t)>-1:this.groupRowsBy===t:!1},findIndexInSelection:function(e){return this.findIndex(e,this.selection)},findIndex:function(e,t){var r=-1;if(t&&t.length){for(var o=0;o<t.length;o++)if(this.equals(e,t[o])){r=o;break}}return r},equals:function(e,t){return this.compareSelectionBy==="equals"?e===t:xn(e,t,this.dataKey)},onRowGroupToggle:function(e){this.$emit("rowgroup-toggle",{originalEvent:e,data:this.rowData})},onRowClick:function(e){this.$emit("row-click",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowDblClick:function(e){this.$emit("row-dblclick",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowRightClick:function(e){this.$emit("row-rightclick",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowTouchEnd:function(e){this.$emit("row-touchend",e)},onRowKeyDown:function(e){this.$emit("row-keydown",{originalEvent:e,data:this.rowData,index:this.rowIndex})},onRowMouseDown:function(e){this.$emit("row-mousedown",e)},onRowDragStart:function(e){this.$emit("row-dragstart",{originalEvent:e,index:this.rowIndex})},onRowDragOver:function(e){this.$emit("row-dragover",{originalEvent:e,index:this.rowIndex})},onRowDragLeave:function(e){this.$emit("row-dragleave",e)},onRowDragEnd:function(e){this.$emit("row-dragend",e)},onRowDrop:function(e){this.$emit("row-drop",e)},onRowToggle:function(e){this.d_rowExpanded=!this.d_rowExpanded,this.$emit("row-toggle",CC(CC({},e),{},{expanded:this.d_rowExpanded}))},onRadioChange:function(e){this.$emit("radio-change",e)},onCheckboxChange:function(e){this.$emit("checkbox-change",e)},onCellEditInit:function(e){this.$emit("cell-edit-init",e)},onCellEditComplete:function(e){this.$emit("cell-edit-complete",e)},onCellEditCancel:function(e){this.$emit("cell-edit-cancel",e)},onRowEditInit:function(e){this.$emit("row-edit-init",e)},onRowEditSave:function(e){this.$emit("row-edit-save",e)},onRowEditCancel:function(e){this.$emit("row-edit-cancel",e)},onEditingMetaChange:function(e){this.$emit("editing-meta-change",e)},getVirtualScrollerProp:function(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null}},computed:{rowIndex:function(){var e=this.getVirtualScrollerProp("getItemOptions");return e?e(this.index).index:this.index},rowStyles:function(){var e;return(e=this.rowStyle)===null||e===void 0?void 0:e.call(this,this.rowData)},rowClasses:function(){var e=[],t=null;if(this.rowClass){var r=this.rowClass(this.rowData);r&&e.push(r)}if(this.columns){var o=vq(this.columns),i;try{for(o.s();!(i=o.n()).done;){var s=i.value,a=this.columnProp(s,"selectionMode");if(pe(a)){t=a;break}}}catch(l){o.e(l)}finally{o.f()}}return[this.cx("row",{rowData:this.rowData,index:this.rowIndex,columnSelectionMode:t}),e]},rowTabindex:function(){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&this.rowIndex===0?0:-1},isRowEditing:function(){return this.rowData&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[Ae(this.rowData,this.dataKey)]!==void 0:!1:this.findIndex(this.rowData,this.editingRows)>-1:!1},isRowGroupExpanded:function(){if(this.expandableRowGroups&&this.expandedRowGroups){var e=Ae(this.rowData,this.groupRowsBy);return this.expandedRowGroups.indexOf(e)>-1}return!1},isSelected:function(){return this.rowData&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[Ae(this.rowData,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(this.rowData)>-1:this.equals(this.rowData,this.selection):!1},isSelectedWithContextMenu:function(){return this.rowData&&this.contextMenuSelection?this.equals(this.rowData,this.contextMenuSelection,this.dataKey):!1},shouldRenderRowGroupHeader:function(){var e=Ae(this.rowData,this.groupRowsBy),t=this.value[this.rowIndex-1];if(t){var r=Ae(t,this.groupRowsBy);return e!==r}else return!0},shouldRenderRowGroupFooter:function(){if(this.expandableRowGroups&&!this.isRowGroupExpanded)return!1;var e=Ae(this.rowData,this.groupRowsBy),t=this.value[this.rowIndex+1];if(t){var r=Ae(t,this.groupRowsBy);return e!==r}else return!0},columnsLength:function(){var e=this;if(this.columns){var t=0;return this.columns.forEach(function(r){e.columnProp(r,"selectionMode")==="single"&&t--,e.columnProp(r,"hidden")&&t++}),this.columns.length-t}return 0}},components:{DTBodyCell:wI,ChevronDownIcon:wl,ChevronRightIcon:gd}};function mu(n){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(n)}function SC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function bi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(t),!0).forEach(function(r){Cq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cq(n,e,t){return(e=Sq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sq(n){var e=Tq(n,"string");return mu(e)=="symbol"?e:e+""}function Tq(n,e){if(mu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var kq=["colspan"],Eq=["tabindex","aria-selected","data-p-index","data-p-selectable-row","data-p-selected","data-p-selected-contextmenu"],Aq=["id"],Pq=["colspan"],Iq=["colspan"],Rq=["colspan"];function Bq(n,e,t,r,o,i){var s=X("ChevronDownIcon"),a=X("ChevronRightIcon"),l=X("DTBodyCell");return t.empty?(x(),R("tr",T({key:1,class:n.cx("emptyMessage"),role:"row"},n.ptm("emptyMessage")),[G("td",T({colspan:i.columnsLength},bi(bi({},i.getColumnPT("bodycell")),n.ptm("emptyMessageCell"))),[t.templates.empty?(x(),N(re(t.templates.empty),{key:0})):j("",!0)],16,Rq)],16)):(x(),R(oe,{key:0},[t.templates.groupheader&&t.rowGroupMode==="subheader"&&i.shouldRenderRowGroupHeader?(x(),R("tr",T({key:0,class:n.cx("rowGroupHeader"),style:t.rowGroupHeaderStyle,role:"row"},n.ptm("rowGroupHeader")),[G("td",T({colspan:i.columnsLength-1},bi(bi({},i.getColumnPT("bodycell")),n.ptm("rowGroupHeaderCell"))),[t.expandableRowGroups?(x(),R("button",T({key:0,class:n.cx("rowToggleButton"),onClick:e[0]||(e[0]=function(){return i.onRowGroupToggle&&i.onRowGroupToggle.apply(i,arguments)}),type:"button"},n.ptm("rowToggleButton")),[t.templates.rowtoggleicon||t.templates.rowgrouptogglericon?(x(),N(re(t.templates.rowtoggleicon||t.templates.rowgrouptogglericon),{key:0,expanded:i.isRowGroupExpanded},null,8,["expanded"])):(x(),R(oe,{key:1},[i.isRowGroupExpanded&&t.expandedRowIcon?(x(),R("span",T({key:0,class:[n.cx("rowToggleIcon"),t.expandedRowIcon]},n.ptm("rowToggleIcon")),null,16)):i.isRowGroupExpanded&&!t.expandedRowIcon?(x(),N(s,T({key:1,class:n.cx("rowToggleIcon")},n.ptm("rowToggleIcon")),null,16,["class"])):!i.isRowGroupExpanded&&t.collapsedRowIcon?(x(),R("span",T({key:2,class:[n.cx("rowToggleIcon"),t.collapsedRowIcon]},n.ptm("rowToggleIcon")),null,16)):!i.isRowGroupExpanded&&!t.collapsedRowIcon?(x(),N(a,T({key:3,class:n.cx("rowToggleIcon")},n.ptm("rowToggleIcon")),null,16,["class"])):j("",!0)],64))],16)):j("",!0),(x(),N(re(t.templates.groupheader),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,kq)],16)):j("",!0),!t.expandableRowGroups||i.isRowGroupExpanded?(x(),R("tr",T({key:1,class:i.rowClasses,style:i.rowStyles,tabindex:i.rowTabindex,role:"row","aria-selected":t.selectionMode?i.isSelected:null,onClick:e[1]||(e[1]=function(){return i.onRowClick&&i.onRowClick.apply(i,arguments)}),onDblclick:e[2]||(e[2]=function(){return i.onRowDblClick&&i.onRowDblClick.apply(i,arguments)}),onContextmenu:e[3]||(e[3]=function(){return i.onRowRightClick&&i.onRowRightClick.apply(i,arguments)}),onTouchend:e[4]||(e[4]=function(){return i.onRowTouchEnd&&i.onRowTouchEnd.apply(i,arguments)}),onKeydown:e[5]||(e[5]=j3(function(){return i.onRowKeyDown&&i.onRowKeyDown.apply(i,arguments)},["self"])),onMousedown:e[6]||(e[6]=function(){return i.onRowMouseDown&&i.onRowMouseDown.apply(i,arguments)}),onDragstart:e[7]||(e[7]=function(){return i.onRowDragStart&&i.onRowDragStart.apply(i,arguments)}),onDragover:e[8]||(e[8]=function(){return i.onRowDragOver&&i.onRowDragOver.apply(i,arguments)}),onDragleave:e[9]||(e[9]=function(){return i.onRowDragLeave&&i.onRowDragLeave.apply(i,arguments)}),onDragend:e[10]||(e[10]=function(){return i.onRowDragEnd&&i.onRowDragEnd.apply(i,arguments)}),onDrop:e[11]||(e[11]=function(){return i.onRowDrop&&i.onRowDrop.apply(i,arguments)})},i.getBodyRowPTOptions("bodyRow"),{"data-p-index":i.rowIndex,"data-p-selectable-row":!!t.selectionMode,"data-p-selected":t.selection&&i.isSelected,"data-p-selected-contextmenu":t.contextMenuSelection&&i.isSelectedWithContextMenu}),[(x(!0),R(oe,null,st(t.columns,function(c,u){return x(),R(oe,null,[i.shouldRenderBodyCell(c)?(x(),N(l,{key:i.columnProp(c,"columnKey")||i.columnProp(c,"field")||u,rowData:t.rowData,column:c,rowIndex:i.rowIndex,index:u,selected:i.isSelected,frozenRow:t.frozenRow,rowspan:t.rowGroupMode==="rowspan"?i.calculateRowGroupSize(c):null,editMode:t.editMode,editing:t.editMode==="row"&&i.isRowEditing,editingMeta:t.editingMeta,virtualScrollerContentProps:t.virtualScrollerContentProps,ariaControls:t.expandedRowId+"_"+i.rowIndex+"_expansion",name:t.nameAttributeSelector,isRowExpanded:o.d_rowExpanded,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,editButtonProps:t.editButtonProps,onRadioChange:i.onRadioChange,onCheckboxChange:i.onCheckboxChange,onRowToggle:i.onRowToggle,onCellEditInit:i.onCellEditInit,onCellEditComplete:i.onCellEditComplete,onCellEditCancel:i.onCellEditCancel,onRowEditInit:i.onRowEditInit,onRowEditSave:i.onRowEditSave,onRowEditCancel:i.onRowEditCancel,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["rowData","column","rowIndex","index","selected","frozenRow","rowspan","editMode","editing","editingMeta","virtualScrollerContentProps","ariaControls","name","isRowExpanded","expandedRowIcon","collapsedRowIcon","editButtonProps","onRadioChange","onCheckboxChange","onRowToggle","onCellEditInit","onCellEditComplete","onCellEditCancel","onRowEditInit","onRowEditSave","onRowEditCancel","onEditingMetaChange","unstyled","pt"])):j("",!0)],64)}),256))],16,Eq)):j("",!0),t.templates.expansion&&t.expandedRows&&o.d_rowExpanded?(x(),R("tr",T({key:2,id:t.expandedRowId+"_"+i.rowIndex+"_expansion",class:n.cx("rowExpansion"),role:"row"},n.ptm("rowExpansion")),[G("td",T({colspan:i.columnsLength},bi(bi({},i.getColumnPT("bodycell")),n.ptm("rowExpansionCell"))),[(x(),N(re(t.templates.expansion),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,Pq)],16,Aq)):j("",!0),t.templates.groupfooter&&t.rowGroupMode==="subheader"&&i.shouldRenderRowGroupFooter?(x(),R("tr",T({key:3,class:n.cx("rowGroupFooter"),role:"row"},n.ptm("rowGroupFooter")),[G("td",T({colspan:i.columnsLength-1},bi(bi({},i.getColumnPT("bodycell")),n.ptm("rowGroupFooterCell"))),[(x(),N(re(t.templates.groupfooter),{data:t.rowData,index:i.rowIndex},null,8,["data","index"]))],16,Iq)],16)):j("",!0)],64))}CI.render=Bq;var SI={name:"TableBody",hostName:"DataTable",extends:we,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data:function(){return{rowGroupHeaderStyleObject:{}}},mounted:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{getRowKey:function(e,t){return this.dataKey?Ae(e,this.dataKey):t},updateFrozenRowStickyPosition:function(){this.$el.style.top=sr(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition:function(){var e=sr(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=e+"px"},getVirtualScrollerProp:function(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null},bodyRef:function(e){var t=this.getVirtualScrollerProp("contentRef");t&&t(e)}},computed:{rowGroupHeaderStyle:function(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyContentStyle:function(){return this.getVirtualScrollerProp("contentStyle")},ptmTBodyOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}},expandedRowId:function(){return $t()},nameAttributeSelector:function(){return $t()}},components:{DTBodyRow:CI}};function Oq(n,e,t,r,o,i){var s=X("DTBodyRow");return x(),R("tbody",T({ref:i.bodyRef,class:n.cx("tbody"),role:"rowgroup",style:i.bodyContentStyle},n.ptm("tbody",i.ptmTBodyOptions)),[t.empty?(x(),N(s,{key:1,empty:t.empty,columns:t.columns,templates:t.templates,unstyled:n.unstyled,pt:n.pt},null,8,["empty","columns","templates","unstyled","pt"])):(x(!0),R(oe,{key:0},st(t.value,function(a,l){return x(),N(s,{key:i.getRowKey(a,l),rowData:a,index:l,value:t.value,columns:t.columns,frozenRow:t.frozenRow,empty:t.empty,first:t.first,dataKey:t.dataKey,selection:t.selection,selectionKeys:t.selectionKeys,selectionMode:t.selectionMode,contextMenu:t.contextMenu,contextMenuSelection:t.contextMenuSelection,rowGroupMode:t.rowGroupMode,groupRowsBy:t.groupRowsBy,expandableRowGroups:t.expandableRowGroups,rowClass:t.rowClass,rowStyle:t.rowStyle,editMode:t.editMode,compareSelectionBy:t.compareSelectionBy,scrollable:t.scrollable,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,expandedRows:t.expandedRows,expandedRowGroups:t.expandedRowGroups,editingRows:t.editingRows,editingRowKeys:t.editingRowKeys,templates:t.templates,editButtonProps:t.editButtonProps,virtualScrollerContentProps:t.virtualScrollerContentProps,isVirtualScrollerDisabled:t.isVirtualScrollerDisabled,editingMeta:t.editingMeta,rowGroupHeaderStyle:i.rowGroupHeaderStyle,expandedRowId:i.expandedRowId,nameAttributeSelector:i.nameAttributeSelector,onRowgroupToggle:e[0]||(e[0]=function(c){return n.$emit("rowgroup-toggle",c)}),onRowClick:e[1]||(e[1]=function(c){return n.$emit("row-click",c)}),onRowDblclick:e[2]||(e[2]=function(c){return n.$emit("row-dblclick",c)}),onRowRightclick:e[3]||(e[3]=function(c){return n.$emit("row-rightclick",c)}),onRowTouchend:e[4]||(e[4]=function(c){return n.$emit("row-touchend",c)}),onRowKeydown:e[5]||(e[5]=function(c){return n.$emit("row-keydown",c)}),onRowMousedown:e[6]||(e[6]=function(c){return n.$emit("row-mousedown",c)}),onRowDragstart:e[7]||(e[7]=function(c){return n.$emit("row-dragstart",c)}),onRowDragover:e[8]||(e[8]=function(c){return n.$emit("row-dragover",c)}),onRowDragleave:e[9]||(e[9]=function(c){return n.$emit("row-dragleave",c)}),onRowDragend:e[10]||(e[10]=function(c){return n.$emit("row-dragend",c)}),onRowDrop:e[11]||(e[11]=function(c){return n.$emit("row-drop",c)}),onRowToggle:e[12]||(e[12]=function(c){return n.$emit("row-toggle",c)}),onRadioChange:e[13]||(e[13]=function(c){return n.$emit("radio-change",c)}),onCheckboxChange:e[14]||(e[14]=function(c){return n.$emit("checkbox-change",c)}),onCellEditInit:e[15]||(e[15]=function(c){return n.$emit("cell-edit-init",c)}),onCellEditComplete:e[16]||(e[16]=function(c){return n.$emit("cell-edit-complete",c)}),onCellEditCancel:e[17]||(e[17]=function(c){return n.$emit("cell-edit-cancel",c)}),onRowEditInit:e[18]||(e[18]=function(c){return n.$emit("row-edit-init",c)}),onRowEditSave:e[19]||(e[19]=function(c){return n.$emit("row-edit-save",c)}),onRowEditCancel:e[20]||(e[20]=function(c){return n.$emit("row-edit-cancel",c)}),onEditingMetaChange:e[21]||(e[21]=function(c){return n.$emit("editing-meta-change",c)}),unstyled:n.unstyled,pt:n.pt},null,8,["rowData","index","value","columns","frozenRow","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","editingMeta","rowGroupHeaderStyle","expandedRowId","nameAttributeSelector","unstyled","pt"])}),128))],16)}SI.render=Oq;var TI={name:"FooterCell",hostName:"DataTable",extends:we,props:{column:{type:Object,default:null},index:{type:Number,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(e){return Vs(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:((r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines)||!1}};return T(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen"),t=this.$parentInstance.$parentInstance.isRTL;if(e==="right"){var r=0,o=p_(this.$el,'[data-p-frozen-column="true"]');o&&(r=Rt(o)+parseFloat(o.style.right||0)),t?this.styleObject.left=r+"px":this.styleObject.right=r+"px"}else{var i=0,s=m_(this.$el,'[data-p-frozen-column="true"]');s&&(i=Rt(s)+parseFloat(s.style.left||0)),t?this.styleObject.right=i+"px":this.styleObject.left=i+"px"}}}},computed:{containerClass:function(){return[this.columnProp("footerClass"),this.columnProp("class"),this.cx("footerCell")]},containerStyle:function(){var e=this.columnProp("footerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]}}};function gu(n){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(n)}function TC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function kC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(t),!0).forEach(function(r){Dq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dq(n,e,t){return(e=Mq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mq(n){var e=Fq(n,"string");return gu(e)=="symbol"?e:e+""}function Fq(n,e){if(gu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Lq=["colspan","rowspan","data-p-frozen-column"];function Nq(n,e,t,r,o,i){return x(),R("td",T({style:i.containerStyle,class:i.containerClass,role:"cell",colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan")},kC(kC({},i.getColumnPT("root")),i.getColumnPT("footerCell")),{"data-p-frozen-column":i.columnProp("frozen")}),[t.column.children&&t.column.children.footer?(x(),N(re(t.column.children.footer),{key:0,column:t.column},null,8,["column"])):j("",!0),i.columnProp("footer")?(x(),R("span",T({key:1,class:n.cx("columnFooter")},i.getColumnPT("columnFooter")),Be(i.columnProp("footer")),17)):j("",!0)],16,Lq)}TI.render=Nq;function $q(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Uq(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw i}}}}function Uq(n,e){if(n){if(typeof n=="string")return EC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?EC(n,e):void 0}}function EC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var kI={name:"TableFooter",hostName:"DataTable",extends:we,props:{columnGroup:{type:null,default:null},columns:{type:Object,default:null}},provide:function(){return{$rows:this.d_footerRows,$columns:this.d_footerColumns}},data:function(){return{d_footerRows:new Qa({type:"Row"}),d_footerColumns:new Qa({type:"Column"})}},beforeUnmount:function(){this.d_footerRows.clear(),this.d_footerColumns.clear()},methods:{columnProp:function(e,t){return Vs(e,t)},getColumnGroupPT:function(e){var t={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"footer",scrollable:this.ptmTFootOptions.context.scrollable}};return T(this.ptm("columnGroup.".concat(e),{columnGroup:t}),this.ptm("columnGroup.".concat(e),t),this.ptmo(this.getColumnGroupProps(),e,t))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return T(this.ptm("row.".concat(t),{row:o}),this.ptm("row.".concat(t),o),this.ptmo(this.getRowProp(e),t,o))},getRowProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getFooterRows:function(){var e;return(e=this.d_footerRows)===null||e===void 0?void 0:e.get(this.columnGroup,this.columnGroup.children)},getFooterColumns:function(e){var t;return(t=this.d_footerColumns)===null||t===void 0?void 0:t.get(e,e.children)}},computed:{hasFooter:function(){var e=!1;if(this.columnGroup)e=!0;else if(this.columns){var t=$q(this.columns),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(this.columnProp(o,"footer")||o.children&&o.children.footer){e=!0;break}}}catch(i){t.e(i)}finally{t.f()}}return e},ptmTFootOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}}},components:{DTFooterCell:TI}};function bu(n){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(n)}function AC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ah(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(t),!0).forEach(function(r){Gq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gq(n,e,t){return(e=Vq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vq(n){var e=zq(n,"string");return bu(e)=="symbol"?e:e+""}function zq(n,e){if(bu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Hq(n,e,t,r,o,i){var s=X("DTFooterCell");return i.hasFooter?(x(),R("tfoot",T({key:0,class:n.cx("tfoot"),style:n.sx("tfoot"),role:"rowgroup"},t.columnGroup?ah(ah({},n.ptm("tfoot",i.ptmTFootOptions)),i.getColumnGroupPT("root")):n.ptm("tfoot",i.ptmTFootOptions),{"data-pc-section":"tfoot"}),[t.columnGroup?(x(!0),R(oe,{key:1},st(i.getFooterRows(),function(a,l){return x(),R("tr",T({key:l,role:"row",ref_for:!0},ah(ah({},n.ptm("footerRow")),i.getRowPT(a,"root",l))),[(x(!0),R(oe,null,st(i.getFooterColumns(a),function(c,u){return x(),R(oe,{key:i.columnProp(c,"columnKey")||i.columnProp(c,"field")||u},[i.columnProp(c,"hidden")?j("",!0):(x(),N(s,{key:0,column:c,index:l,pt:n.pt},null,8,["column","index","pt"]))],64)}),128))],16)}),128)):(x(),R("tr",T({key:0,role:"row"},n.ptm("footerRow")),[(x(!0),R(oe,null,st(t.columns,function(a,l){return x(),R(oe,{key:i.columnProp(a,"columnKey")||i.columnProp(a,"field")||l},[i.columnProp(a,"hidden")?j("",!0):(x(),N(s,{key:0,column:a,pt:n.pt},null,8,["column","pt"]))],64)}),128))],16))],16)):j("",!0)}kI.render=Hq;function vu(n){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(n)}function PC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ss(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(t),!0).forEach(function(r){jq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jq(n,e,t){return(e=Wq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wq(n){var e=Kq(n,"string");return vu(e)=="symbol"?e:e+""}function Kq(n,e){if(vu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var O_={name:"ColumnFilter",hostName:"DataTable",extends:we,emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:{type:Function,default:null},filterHeaderTemplate:{type:Function,default:null},filterFooterTemplate:{type:Function,default:null},filterClearTemplate:{type:Function,default:null},filterApplyTemplate:{type:Function,default:null},filterIconTemplate:{type:Function,default:null},filterAddIconTemplate:{type:Function,default:null},filterRemoveIconTemplate:{type:Function,default:null},filterClearIconTemplate:{type:Function,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null},column:null},data:function(){return{id:this.$attrs.id,overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},watch:{"$attrs.id":function(e){this.id=e||$t()}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount:function(){this.overlayEventListener&&(dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(At.clear(this.overlay),this.onOverlayHide())},mounted:function(){if(this.id=this.id||$t(),this.filters&&this.filters[this.field]){var e=this.filters[this.field];e.operator?(this.defaultMatchMode=e.constraints[0].matchMode,this.defaultOperator=e.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{getColumnPT:function(e,t){var r=ss({props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data}},t);return T(this.ptm("column.".concat(e),{column:r}),this.ptm("column.".concat(e),r),this.ptmo(this.getColumnProp(),e,r))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},ptmFilterConstraintOptions:function(e){return{context:{highlighted:e&&this.isRowMatchModeSelected(e.value)}}},clearFilter:function(){var e=ss({},this.filters);e[this.field].operator?(e[this.field].constraints.splice(1),e[this.field].operator=this.defaultOperator,e[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(e[this.field].value=null,e[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",e),this.$emit("filter-apply"),this.hide()},applyFilter:function(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter:function(){if(this.filtersStore){var e=this.filtersStore[this.field];if(e)return e.operator?!this.isFilterBlank(e.constraints[0].value):!this.isFilterBlank(e.value)}return!1},hasRowFilter:function(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank:function(e){return e!=null?typeof e=="string"&&e.trim().length==0||e instanceof Array&&e.length==0:!0},toggleMenu:function(e){this.overlayVisible=!this.overlayVisible,e.preventDefault()},onToggleButtonKeyDown:function(e){switch(e.code){case"Enter":case"NumpadEnter":case"Space":this.toggleMenu(e);break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange:function(e){var t=ss({},this.filters);t[this.field].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e}),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown:function(e){var t=e.target;switch(e.code){case"ArrowDown":var r=this.findNextItem(t);r&&(t.removeAttribute("tabindex"),r.tabIndex="0",r.focus()),e.preventDefault();break;case"ArrowUp":var o=this.findPrevItem(t);o&&(t.removeAttribute("tabindex"),o.tabIndex="0",o.focus()),e.preventDefault();break}},isRowMatchModeSelected:function(e){return this.filters[this.field].matchMode===e},onOperatorChange:function(e){var t=ss({},this.filters);t[this.field].operator=e,this.$emit("filter-change",t),this.$emit("operator-change",{field:this.field,operator:e}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange:function(e,t){var r=ss({},this.filters);r[this.field].constraints[t].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e,index:t}),this.showApplyButton||this.$emit("filter-apply")},addConstraint:function(){var e=ss({},this.filters),t={value:null,matchMode:this.defaultMatchMode};e[this.field].constraints.push(t),this.$emit("constraint-add",{field:this.field,constraing:t}),this.$emit("filter-change",e),this.showApplyButton||this.$emit("filter-apply")},removeConstraint:function(e){var t=ss({},this.filters),r=t[this.field].constraints.splice(e,1);this.$emit("constraint-remove",{field:this.field,constraing:r}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},filterCallback:function(){this.$emit("filter-apply")},findNextItem:function(e){var t=e.nextElementSibling;return t?Ze(t,"data-pc-section")==="filterconstraintseparator"?this.findNextItem(t):t:e.parentElement.firstElementChild},findPrevItem:function(e){var t=e.previousElementSibling;return t?Ze(t,"data-pc-section")==="filterconstraintseparator"?this.findPrevItem(t):t:e.parentElement.lastElementChild},hide:function(){this.overlayVisible=!1,this.showMenuButton&&Xe(this.$refs.icon.$el)},onContentClick:function(e){this.selfClick=!0,dr.emit("overlay-click",{originalEvent:e,target:this.overlay})},onContentMouseDown:function(){this.selfClick=!0},onOverlayEnter:function(e){var t=this;this.filterMenuStyle&&Bs(this.overlay,this.filterMenuStyle),At.set("overlay",e,this.$primevue.config.zIndex.overlay),Bs(e,{position:"absolute",top:"0",left:"0"}),rm(this.overlay,this.$refs.icon.$el),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=function(r){t.isOutsideClicked(r.target)||(t.selfClick=!0)},dr.on("overlay-click",this.overlayEventListener)},onOverlayAfterEnter:function(){var e;(e=this.overlay)===null||e===void 0||(e=e.$focustrap)===null||e===void 0||e.autoFocus()},onOverlayLeave:function(){this.onOverlayHide()},onOverlayAfterLeave:function(e){At.clear(e)},onOverlayHide:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef:function(e){this.overlay=e},isOutsideClicked:function(e){return!this.isTargetClicked(e)&&this.overlay&&!(this.overlay.isSameNode(e)||this.overlay.contains(e))},isTargetClicked:function(e){return this.$refs.icon&&(this.$refs.icon.$el.isSameNode(e)||this.$refs.icon.$el.contains(e))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&!e.selfClick&&e.isOutsideClicked(t.target)&&(e.overlayVisible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new md(this.$refs.icon.$el,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!_l()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{showMenuButton:function(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId:function(){return this.id+"_overlay"},matchModes:function(){var e=this;return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(function(t){return{label:e.$primevue.config.locale[t],value:t}})},isShowMatchModes:function(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions:function(){return[{label:this.$primevue.config.locale.matchAll,value:Pf.AND},{label:this.$primevue.config.locale.matchAny,value:Pf.OR}]},noFilterLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator:function(){return this.showOperator&&this.filters[this.field].operator},operator:function(){return this.filters[this.field].operator},fieldConstraints:function(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon:function(){return this.fieldConstraints.length>1},removeRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint:function(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},columnFilterButtonAriaLabel:function(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterRuleAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0},ptmHeaderFilterClearParams:function(){return{context:{hidden:this.hasRowFilter()}}},ptmFilterMenuParams:function(){return{context:{overlayVisible:this.overlayVisible,active:this.hasFilter()}}}},components:{Select:_d,Button:vd,Portal:zs,FilterSlashIcon:bI,FilterIcon:gI,TrashIcon:yI,PlusIcon:vI},directives:{focustrap:T_}};function yu(n){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(n)}function IC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ta(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(t),!0).forEach(function(r){Xq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xq(n,e,t){return(e=qq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qq(n){var e=Yq(n,"string");return yu(e)=="symbol"?e:e+""}function Yq(n,e){if(yu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Zq=["id","aria-modal"],Jq=["onClick","onKeydown","tabindex"];function Qq(n,e,t,r,o,i){var s=X("Button"),a=X("Select"),l=X("Portal"),c=hn("focustrap");return x(),R("div",T({class:n.cx("filter")},i.getColumnPT("filter")),[t.display==="row"?(x(),R("div",T({key:0,class:n.cx("filterElementContainer")},ta(ta({},t.filterInputProps),i.getColumnPT("filterElementContainer"))),[(x(),N(re(t.filterElement),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):j("",!0),i.showMenuButton?(x(),N(s,T({key:1,ref:"icon","aria-label":i.columnFilterButtonAriaLabel,"aria-haspopup":"true","aria-expanded":o.overlayVisible,"aria-controls":i.overlayId,class:n.cx("pcColumnFilterButton"),unstyled:n.unstyled,onClick:e[0]||(e[0]=function(u){return i.toggleMenu(u)}),onKeydown:e[1]||(e[1]=function(u){return i.onToggleButtonKeyDown(u)})},ta(ta({},i.getColumnPT("pcColumnFilterButton",i.ptmFilterMenuParams)),t.filterButtonProps.filter)),{icon:q(function(u){return[(x(),N(re(t.filterIconTemplate||"FilterIcon"),T({class:u.class},i.getColumnPT("filterMenuIcon")),null,16,["class"]))]}),_:1},16,["aria-label","aria-expanded","aria-controls","class","unstyled"])):j("",!0),t.showClearButton&&t.display==="row"&&i.hasRowFilter()?(x(),N(s,T({key:2,class:n.cx("pcColumnFilterClearButton"),unstyled:n.unstyled,onClick:e[2]||(e[2]=function(u){return i.clearFilter()})},ta(ta({},i.getColumnPT("pcColumnFilterClearButton",i.ptmHeaderFilterClearParams)),t.filterButtonProps.inline.clear)),{icon:q(function(u){return[(x(),N(re(t.filterClearIconTemplate||"FilterSlashIcon"),T({class:u.class},i.getColumnPT("filterClearIcon")),null,16,["class"]))]}),_:1},16,["class","unstyled"])):j("",!0),W(l,null,{default:q(function(){return[W(ol,T({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onAfterEnter:i.onOverlayAfterEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},i.getColumnPT("transition")),{default:q(function(){return[o.overlayVisible?Gt((x(),R("div",T({key:0,ref:i.overlayRef,id:i.overlayId,"aria-modal":o.overlayVisible,role:"dialog",class:[n.cx("filterOverlay"),t.filterMenuClass],onKeydown:e[10]||(e[10]=km(function(){return i.hide&&i.hide.apply(i,arguments)},["escape"])),onClick:e[11]||(e[11]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onMousedown:e[12]||(e[12]=function(){return i.onContentMouseDown&&i.onContentMouseDown.apply(i,arguments)})},i.getColumnPT("filterOverlay")),[(x(),N(re(t.filterHeaderTemplate),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"])),t.display==="row"?(x(),R("ul",T({key:0,class:n.cx("filterConstraintList")},i.getColumnPT("filterConstraintList")),[(x(!0),R(oe,null,st(i.matchModes,function(u,d){return x(),R("li",T({key:u.label,class:n.cx("filterConstraint",{matchMode:u}),onClick:function(f){return i.onRowMatchModeChange(u.value)},onKeydown:[e[3]||(e[3]=function(h){return i.onRowMatchModeKeyDown(h)}),km(j3(function(h){return i.onRowMatchModeChange(u.value)},["prevent"]),["enter"])],tabindex:d===0?"0":null,ref_for:!0},i.getColumnPT("filterConstraint",i.ptmFilterConstraintOptions(u))),Be(u.label),17,Jq)}),128)),G("li",T({class:n.cx("filterConstraintSeparator")},i.getColumnPT("filterConstraintSeparator")),null,16),G("li",T({class:n.cx("filterConstraint"),onClick:e[4]||(e[4]=function(u){return i.clearFilter()}),onKeydown:[e[5]||(e[5]=function(u){return i.onRowMatchModeKeyDown(u)}),e[6]||(e[6]=km(function(u){return n.onRowClearItemClick()},["enter"]))]},i.getColumnPT("filterConstraint")),Be(i.noFilterLabel),17)],16)):(x(),R(oe,{key:1},[i.isShowOperator?(x(),R("div",T({key:0,class:n.cx("filterOperator")},i.getColumnPT("filterOperator")),[W(a,{options:i.operatorOptions,modelValue:i.operator,"aria-label":i.filterOperatorAriaLabel,class:ce(n.cx("pcFilterOperatorDropdown")),optionLabel:"label",optionValue:"value","onUpdate:modelValue":e[7]||(e[7]=function(u){return i.onOperatorChange(u)}),unstyled:n.unstyled,pt:i.getColumnPT("pcFilterOperatorDropdown")},null,8,["options","modelValue","aria-label","class","unstyled","pt"])],16)):j("",!0),G("div",T({class:n.cx("filterRuleList")},i.getColumnPT("filterRuleList")),[(x(!0),R(oe,null,st(i.fieldConstraints,function(u,d){return x(),R("div",T({key:d,class:n.cx("filterRule"),ref_for:!0},i.getColumnPT("filterRule")),[i.isShowMatchModes?(x(),N(a,{key:0,options:i.matchModes,modelValue:u.matchMode,class:ce(n.cx("pcFilterConstraintDropdown")),optionLabel:"label",optionValue:"value","aria-label":i.filterRuleAriaLabel,"onUpdate:modelValue":function(f){return i.onMenuMatchModeChange(f,d)},unstyled:n.unstyled,pt:i.getColumnPT("pcFilterConstraintDropdown")},null,8,["options","modelValue","class","aria-label","onUpdate:modelValue","unstyled","pt"])):j("",!0),t.display==="menu"?(x(),N(re(t.filterElement),{key:1,field:t.field,filterModel:u,filterCallback:i.filterCallback,applyFilter:i.applyFilter},null,8,["field","filterModel","filterCallback","applyFilter"])):j("",!0),i.showRemoveIcon?(x(),R("div",T({key:2,ref_for:!0},i.getColumnPT("filterRemove")),[W(s,T({type:"button",class:n.cx("pcFilterRemoveRuleButton"),onClick:function(f){return i.removeConstraint(d)},label:i.removeRuleButtonLabel,unstyled:n.unstyled,ref_for:!0},t.filterButtonProps.popover.removeRule,{pt:i.getColumnPT("pcFilterRemoveRuleButton")}),{icon:q(function(h){return[(x(),N(re(t.filterRemoveIconTemplate||"TrashIcon"),T({class:h.class,ref_for:!0},i.getColumnPT("pcFilterRemoveRuleButton").icon),null,16,["class"]))]}),_:2},1040,["class","onClick","label","unstyled","pt"])],16)):j("",!0)],16)}),128))],16),i.isShowAddConstraint?(x(),R("div",Ds(T({key:1},i.getColumnPT("filterAddButtonContainer"))),[W(s,T({type:"button",label:i.addRuleButtonLabel,iconPos:"left",class:n.cx("pcFilterAddRuleButton"),onClick:e[8]||(e[8]=function(u){return i.addConstraint()}),unstyled:n.unstyled},t.filterButtonProps.popover.addRule,{pt:i.getColumnPT("pcFilterAddRuleButton")}),{icon:q(function(u){return[(x(),N(re(t.filterAddIconTemplate||"PlusIcon"),T({class:u.class},i.getColumnPT("pcFilterAddRuleButton").icon),null,16,["class"]))]}),_:1},16,["label","class","unstyled","pt"])],16)):j("",!0),G("div",T({class:n.cx("filterButtonbar")},i.getColumnPT("filterButtonbar")),[!t.filterClearTemplate&&t.showClearButton?(x(),N(s,T({key:0,type:"button",class:n.cx("pcFilterClearButton"),label:i.clearButtonLabel,onClick:i.clearFilter,unstyled:n.unstyled},t.filterButtonProps.popover.clear,{pt:i.getColumnPT("pcFilterClearButton")}),null,16,["class","label","onClick","unstyled","pt"])):(x(),N(re(t.filterClearTemplate),{key:1,field:t.field,filterModel:t.filters[t.field],filterCallback:i.clearFilter},null,8,["field","filterModel","filterCallback"])),t.showApplyButton?(x(),R(oe,{key:2},[t.filterApplyTemplate?(x(),N(re(t.filterApplyTemplate),{key:1,field:t.field,filterModel:t.filters[t.field],filterCallback:i.applyFilter},null,8,["field","filterModel","filterCallback"])):(x(),N(s,T({key:0,type:"button",class:n.cx("pcFilterApplyButton"),label:i.applyButtonLabel,onClick:e[9]||(e[9]=function(u){return i.applyFilter()}),unstyled:n.unstyled},t.filterButtonProps.popover.apply,{pt:i.getColumnPT("pcFilterApplyButton")}),null,16,["class","label","unstyled","pt"]))],64)):j("",!0)],16)],64)),(x(),N(re(t.filterFooterTemplate),{field:t.field,filterModel:t.filters[t.field],filterCallback:i.filterCallback},null,8,["field","filterModel","filterCallback"]))],16,Zq)),[[c]]):j("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1})],16)}O_.render=Qq;var D_={name:"HeaderCheckbox",hostName:"DataTable",extends:we,emits:["change"],props:{checked:null,disabled:null,column:null,headerCheckboxIconTemplate:{type:Function,default:null}},methods:{getColumnPT:function(e){var t={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{checked:this.checked,disabled:this.disabled}};return T(this.ptm("column.".concat(e),{column:t}),this.ptm("column.".concat(e),t),this.ptmo(this.getColumnProp(),e,t))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(e){this.$emit("change",{originalEvent:e,checked:!this.checked})}},computed:{headerCheckboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}},components:{CheckIcon:ni,Checkbox:yd}};function eY(n,e,t,r,o,i){var s=X("CheckIcon"),a=X("Checkbox");return x(),N(a,{modelValue:t.checked,binary:!0,disabled:t.disabled,"aria-label":i.headerCheckboxAriaLabel,onChange:i.onChange,unstyled:n.unstyled,pt:i.getColumnPT("pcHeaderCheckbox")},{icon:q(function(l){return[t.headerCheckboxIconTemplate?(x(),N(re(t.headerCheckboxIconTemplate),{key:0,checked:l.checked,class:ce(l.class)},null,8,["checked","class"])):!t.headerCheckboxIconTemplate&&l.checked?(x(),N(s,T({key:1,class:l.class},i.getColumnPT("pcHeaderCheckbox").icon),null,16,["class"])):j("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","unstyled","pt"])}D_.render=eY;var EI={name:"HeaderCell",hostName:"DataTable",extends:we,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},index:{type:Number,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(e){return Vs(this.column,e)},getColumnPT:function(e){var t,r,o={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,sortable:this.columnProp("sortable")===""||this.columnProp("sortable"),sorted:this.isColumnSorted(),resizable:this.resizableColumns,size:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.size,showGridlines:((r=this.$parentInstance)===null||r===void 0||(r=r.$parentInstance)===null||r===void 0?void 0:r.showGridlines)||!1}};return T(this.ptm("column.".concat(e),{column:o}),this.ptm("column.".concat(e),o),this.ptmo(this.getColumnProp(),e,o))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onClick:function(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&e.currentTarget.nodeName==="TH"&&Ze(e.currentTarget,"data-p-sortable-column")&&(this.$emit("column-click",{originalEvent:e,column:this.column}),e.preventDefault())},onMouseDown:function(e){this.$emit("column-mousedown",{originalEvent:e,column:this.column})},onDragStart:function(e){this.$emit("column-dragstart",{originalEvent:e,column:this.column})},onDragOver:function(e){this.$emit("column-dragover",{originalEvent:e,column:this.column})},onDragLeave:function(e){this.$emit("column-dragleave",{originalEvent:e,column:this.column})},onDrop:function(e){this.$emit("column-drop",{originalEvent:e,column:this.column})},onResizeStart:function(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex:function(){var e=this;return this.multiSortMeta.findIndex(function(t){return t.field===e.columnProp("field")||t.field===e.columnProp("sortField")})},getBadgeValue:function(){var e=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&e>-1?e:e+1},isMultiSorted:function(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted:function(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition:function(){if(this.columnProp("frozen")){var e=this.columnProp("alignFrozen"),t=this.$parentInstance.$parentInstance.isRTL;if(e==="right"){var r=0,o=p_(this.$el,'[data-p-frozen-column="true"]');o&&(r=Rt(o)+parseFloat(o.style.right||0)),t?this.styleObject.left=r+"px":this.styleObject.right=r+"px"}else{var i=0,s=m_(this.$el,'[data-p-frozen-column="true"]');s&&(i=Rt(s)+parseFloat(s.style.left||0)),t?this.styleObject.right=i+"px":this.styleObject.left=i+"px"}var a=this.$el.parentElement.nextElementSibling;if(a){var l=Rh(this.$el);a.children[l]&&(a.children[l].style.left=this.styleObject.left,a.children[l].style.right=this.styleObject.right)}}},onHeaderCheckboxChange:function(e){this.$emit("checkbox-change",e)}},computed:{containerClass:function(){return[this.cx("headerCell"),this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class")]},containerStyle:function(){var e=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortState:function(){var e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){var r=this.getMultiSortMetaIndex();r>-1&&(e=!0,t=this.multiSortMeta[r].order)}return{sorted:e,sortOrder:t}},sortableColumnIcon:function(){var e=this.sortState,t=e.sorted,r=e.sortOrder;if(t){if(t&&r>0)return g0;if(t&&r<0)return m0}else return p0;return null},ariaSort:function(){if(this.columnProp("sortable")){var e=this.sortState,t=e.sorted,r=e.sortOrder;return t&&r<0?"descending":t&&r>0?"ascending":"none"}else return null}},components:{Badge:cm,DTHeaderCheckbox:D_,DTColumnFilter:O_,SortAltIcon:p0,SortAmountUpAltIcon:g0,SortAmountDownIcon:m0}};function _u(n){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(n)}function RC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function BC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(t),!0).forEach(function(r){tY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tY(n,e,t){return(e=nY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nY(n){var e=rY(n,"string");return _u(e)=="symbol"?e:e+""}function rY(n,e){if(_u(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oY=["tabindex","colspan","rowspan","aria-sort","data-p-sortable-column","data-p-resizable-column","data-p-sorted","data-p-filter-column","data-p-frozen-column","data-p-reorderable-column"];function iY(n,e,t,r,o,i){var s=X("Badge"),a=X("DTHeaderCheckbox"),l=X("DTColumnFilter");return x(),R("th",T({style:i.containerStyle,class:i.containerClass,tabindex:i.columnProp("sortable")?"0":null,role:"columnheader",colspan:i.columnProp("colspan"),rowspan:i.columnProp("rowspan"),"aria-sort":i.ariaSort,onClick:e[8]||(e[8]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onKeydown:e[9]||(e[9]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)}),onMousedown:e[10]||(e[10]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)}),onDragstart:e[11]||(e[11]=function(){return i.onDragStart&&i.onDragStart.apply(i,arguments)}),onDragover:e[12]||(e[12]=function(){return i.onDragOver&&i.onDragOver.apply(i,arguments)}),onDragleave:e[13]||(e[13]=function(){return i.onDragLeave&&i.onDragLeave.apply(i,arguments)}),onDrop:e[14]||(e[14]=function(){return i.onDrop&&i.onDrop.apply(i,arguments)})},BC(BC({},i.getColumnPT("root")),i.getColumnPT("headerCell")),{"data-p-sortable-column":i.columnProp("sortable"),"data-p-resizable-column":t.resizableColumns,"data-p-sorted":i.isColumnSorted(),"data-p-filter-column":t.filterColumn,"data-p-frozen-column":i.columnProp("frozen"),"data-p-reorderable-column":t.reorderableColumns}),[t.resizableColumns&&!i.columnProp("frozen")?(x(),R("span",T({key:0,class:n.cx("columnResizer"),onMousedown:e[0]||(e[0]=function(){return i.onResizeStart&&i.onResizeStart.apply(i,arguments)})},i.getColumnPT("columnResizer")),null,16)):j("",!0),G("div",T({class:n.cx("columnHeaderContent")},i.getColumnPT("columnHeaderContent")),[t.column.children&&t.column.children.header?(x(),N(re(t.column.children.header),{key:0,column:t.column},null,8,["column"])):j("",!0),i.columnProp("header")?(x(),R("span",T({key:1,class:n.cx("columnTitle")},i.getColumnPT("columnTitle")),Be(i.columnProp("header")),17)):j("",!0),i.columnProp("sortable")?(x(),R("span",Ds(T({key:2},i.getColumnPT("sort"))),[(x(),N(re(t.column.children&&t.column.children.sorticon||i.sortableColumnIcon),T({sorted:i.sortState.sorted,sortOrder:i.sortState.sortOrder,class:n.cx("sortIcon")},i.getColumnPT("sorticon")),null,16,["sorted","sortOrder","class"]))],16)):j("",!0),i.isMultiSorted()?(x(),N(s,{key:3,class:ce(n.cx("pcSortBadge")),pt:i.getColumnPT("pcSortBadge"),value:i.getBadgeValue(),size:"small"},null,8,["class","pt","value"])):j("",!0),i.columnProp("selectionMode")==="multiple"&&t.filterDisplay!=="row"?(x(),N(a,{key:4,checked:t.allRowsSelected,onChange:i.onHeaderCheckboxChange,disabled:t.empty,headerCheckboxIconTemplate:t.column.children&&t.column.children.headercheckboxicon,column:t.column,unstyled:n.unstyled,pt:n.pt},null,8,["checked","onChange","disabled","headerCheckboxIconTemplate","column","unstyled","pt"])):j("",!0),t.filterDisplay==="menu"&&t.column.children&&t.column.children.filter?(x(),N(l,{key:5,field:i.columnProp("filterField")||i.columnProp("field"),type:i.columnProp("dataType"),display:"menu",showMenu:i.columnProp("showFilterMenu"),filterElement:t.column.children&&t.column.children.filter,filterHeaderTemplate:t.column.children&&t.column.children.filterheader,filterFooterTemplate:t.column.children&&t.column.children.filterfooter,filterClearTemplate:t.column.children&&t.column.children.filterclear,filterApplyTemplate:t.column.children&&t.column.children.filterapply,filterIconTemplate:t.column.children&&t.column.children.filtericon,filterAddIconTemplate:t.column.children&&t.column.children.filteraddicon,filterRemoveIconTemplate:t.column.children&&t.column.children.filterremoveicon,filterClearIconTemplate:t.column.children&&t.column.children.filterclearicon,filters:t.filters,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,onFilterChange:e[1]||(e[1]=function(c){return n.$emit("filter-change",c)}),onFilterApply:e[2]||(e[2]=function(c){return n.$emit("filter-apply")}),filterMenuStyle:i.columnProp("filterMenuStyle"),filterMenuClass:i.columnProp("filterMenuClass"),showOperator:i.columnProp("showFilterOperator"),showClearButton:i.columnProp("showClearButton"),showApplyButton:i.columnProp("showApplyButton"),showMatchModes:i.columnProp("showFilterMatchModes"),showAddButton:i.columnProp("showAddButton"),matchModeOptions:i.columnProp("filterMatchModeOptions"),maxConstraints:i.columnProp("maxConstraints"),onOperatorChange:e[3]||(e[3]=function(c){return n.$emit("operator-change",c)}),onMatchmodeChange:e[4]||(e[4]=function(c){return n.$emit("matchmode-change",c)}),onConstraintAdd:e[5]||(e[5]=function(c){return n.$emit("constraint-add",c)}),onConstraintRemove:e[6]||(e[6]=function(c){return n.$emit("constraint-remove",c)}),onApplyClick:e[7]||(e[7]=function(c){return n.$emit("apply-click",c)}),column:t.column,unstyled:n.unstyled,pt:n.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):j("",!0)],16)],16,oY)}EI.render=iY;var AI={name:"TableHeader",hostName:"DataTable",extends:we,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},first:{type:Number,default:0},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},provide:function(){return{$rows:this.d_headerRows,$columns:this.d_headerColumns}},data:function(){return{d_headerRows:new Qa({type:"Row"}),d_headerColumns:new Qa({type:"Column"})}},beforeUnmount:function(){this.d_headerRows.clear(),this.d_headerColumns.clear()},methods:{columnProp:function(e,t){return Vs(e,t)},getColumnGroupPT:function(e){var t,r={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"header",scrollable:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.scrollable}};return T(this.ptm("columnGroup.".concat(e),{columnGroup:r}),this.ptm("columnGroup.".concat(e),r),this.ptmo(this.getColumnGroupProps(),e,r))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return T(this.ptm("row.".concat(t),{row:o}),this.ptm("row.".concat(t),o),this.ptmo(this.getRowProp(e),t,o))},getRowProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getColumnPT:function(e,t,r){var o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:r}};return T(this.ptm("column.".concat(t),{column:o}),this.ptm("column.".concat(t),o),this.ptmo(this.getColumnProp(e),t,o))},getColumnProp:function(e){return e.props&&e.props.pt?e.props.pt:void 0},getFilterColumnHeaderClass:function(e){return[this.cx("headerCell",{column:e}),this.columnProp(e,"filterHeaderClass"),this.columnProp(e,"class")]},getFilterColumnHeaderStyle:function(e){return[this.columnProp(e,"filterHeaderStyle"),this.columnProp(e,"style")]},getHeaderRows:function(){var e;return(e=this.d_headerRows)===null||e===void 0?void 0:e.get(this.columnGroup,this.columnGroup.children)},getHeaderColumns:function(e){var t;return(t=this.d_headerColumns)===null||t===void 0?void 0:t.get(e,e.children)}},computed:{ptmTHeadOptions:function(){var e;return{context:{scrollable:(e=this.$parentInstance)===null||e===void 0||(e=e.$parentInstance)===null||e===void 0?void 0:e.scrollable}}}},components:{DTHeaderCell:EI,DTHeaderCheckbox:D_,DTColumnFilter:O_}};function xu(n){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(n)}function OC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function na(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(t),!0).forEach(function(r){sY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sY(n,e,t){return(e=aY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aY(n){var e=lY(n,"string");return xu(e)=="symbol"?e:e+""}function lY(n,e){if(xu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cY(n,e,t,r,o,i){var s=X("DTHeaderCell"),a=X("DTHeaderCheckbox"),l=X("DTColumnFilter");return x(),R("thead",T({class:n.cx("thead"),style:n.sx("thead"),role:"rowgroup"},t.columnGroup?na(na({},n.ptm("thead",i.ptmTHeadOptions)),i.getColumnGroupPT("root")):n.ptm("thead",i.ptmTHeadOptions),{"data-pc-section":"thead"}),[t.columnGroup?(x(!0),R(oe,{key:1},st(i.getHeaderRows(),function(c,u){return x(),R("tr",T({key:u,role:"row",ref_for:!0},na(na({},n.ptm("headerRow")),i.getRowPT(c,"root",u))),[(x(!0),R(oe,null,st(i.getHeaderColumns(c),function(d,h){return x(),R(oe,{key:i.columnProp(d,"columnKey")||i.columnProp(d,"field")||h},[!i.columnProp(d,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(d,"field"))&&typeof d.children!="string"?(x(),N(s,{key:0,column:d,onColumnClick:e[15]||(e[15]=function(f){return n.$emit("column-click",f)}),onColumnMousedown:e[16]||(e[16]=function(f){return n.$emit("column-mousedown",f)}),groupRowsBy:t.groupRowsBy,groupRowSortField:t.groupRowSortField,sortMode:t.sortMode,sortField:t.sortField,sortOrder:t.sortOrder,multiSortMeta:t.multiSortMeta,allRowsSelected:t.allRowsSelected,empty:t.empty,onCheckboxChange:e[17]||(e[17]=function(f){return n.$emit("checkbox-change",f)}),filters:t.filters,filterDisplay:t.filterDisplay,filtersStore:t.filtersStore,onFilterChange:e[18]||(e[18]=function(f){return n.$emit("filter-change",f)}),onFilterApply:e[19]||(e[19]=function(f){return n.$emit("filter-apply")}),onOperatorChange:e[20]||(e[20]=function(f){return n.$emit("operator-change",f)}),onMatchmodeChange:e[21]||(e[21]=function(f){return n.$emit("matchmode-change",f)}),onConstraintAdd:e[22]||(e[22]=function(f){return n.$emit("constraint-add",f)}),onConstraintRemove:e[23]||(e[23]=function(f){return n.$emit("constraint-remove",f)}),onApplyClick:e[24]||(e[24]=function(f){return n.$emit("apply-click",f)}),unstyled:n.unstyled,pt:n.pt},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","unstyled","pt"])):j("",!0)],64)}),128))],16)}),128)):(x(),R("tr",T({key:0,role:"row"},n.ptm("headerRow")),[(x(!0),R(oe,null,st(t.columns,function(c,u){return x(),R(oe,{key:i.columnProp(c,"columnKey")||i.columnProp(c,"field")||u},[!i.columnProp(c,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(c,"field"))?(x(),N(s,{key:0,column:c,index:u,onColumnClick:e[0]||(e[0]=function(d){return n.$emit("column-click",d)}),onColumnMousedown:e[1]||(e[1]=function(d){return n.$emit("column-mousedown",d)}),onColumnDragstart:e[2]||(e[2]=function(d){return n.$emit("column-dragstart",d)}),onColumnDragover:e[3]||(e[3]=function(d){return n.$emit("column-dragover",d)}),onColumnDragleave:e[4]||(e[4]=function(d){return n.$emit("column-dragleave",d)}),onColumnDrop:e[5]||(e[5]=function(d){return n.$emit("column-drop",d)}),groupRowsBy:t.groupRowsBy,groupRowSortField:t.groupRowSortField,reorderableColumns:t.reorderableColumns,resizableColumns:t.resizableColumns,onColumnResizestart:e[6]||(e[6]=function(d){return n.$emit("column-resizestart",d)}),sortMode:t.sortMode,sortField:t.sortField,sortOrder:t.sortOrder,multiSortMeta:t.multiSortMeta,allRowsSelected:t.allRowsSelected,empty:t.empty,onCheckboxChange:e[7]||(e[7]=function(d){return n.$emit("checkbox-change",d)}),filters:t.filters,filterDisplay:t.filterDisplay,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,first:t.first,onFilterChange:e[8]||(e[8]=function(d){return n.$emit("filter-change",d)}),onFilterApply:e[9]||(e[9]=function(d){return n.$emit("filter-apply")}),onOperatorChange:e[10]||(e[10]=function(d){return n.$emit("operator-change",d)}),onMatchmodeChange:e[11]||(e[11]=function(d){return n.$emit("matchmode-change",d)}),onConstraintAdd:e[12]||(e[12]=function(d){return n.$emit("constraint-add",d)}),onConstraintRemove:e[13]||(e[13]=function(d){return n.$emit("constraint-remove",d)}),onApplyClick:e[14]||(e[14]=function(d){return n.$emit("apply-click",d)}),unstyled:n.unstyled,pt:n.pt},null,8,["column","index","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps","filterButtonProps","first","unstyled","pt"])):j("",!0)],64)}),128))],16)),t.filterDisplay==="row"?(x(),R("tr",T({key:2,role:"row"},n.ptm("headerRow")),[(x(!0),R(oe,null,st(t.columns,function(c,u){return x(),R(oe,{key:i.columnProp(c,"columnKey")||i.columnProp(c,"field")||u},[!i.columnProp(c,"hidden")&&(t.rowGroupMode!=="subheader"||t.groupRowsBy!==i.columnProp(c,"field"))?(x(),R("th",T({key:0,style:i.getFilterColumnHeaderStyle(c),class:i.getFilterColumnHeaderClass(c),ref_for:!0},na(na({},i.getColumnPT(c,"root",u)),i.getColumnPT(c,"headerCell",u))),[i.columnProp(c,"selectionMode")==="multiple"?(x(),N(a,{key:0,checked:t.allRowsSelected,disabled:t.empty,onChange:e[25]||(e[25]=function(d){return n.$emit("checkbox-change",d)}),column:c,unstyled:n.unstyled,pt:n.pt},null,8,["checked","disabled","column","unstyled","pt"])):j("",!0),c.children&&c.children.filter?(x(),N(l,{key:1,field:i.columnProp(c,"filterField")||i.columnProp(c,"field"),type:i.columnProp(c,"dataType"),display:"row",showMenu:i.columnProp(c,"showFilterMenu"),filterElement:c.children&&c.children.filter,filterHeaderTemplate:c.children&&c.children.filterheader,filterFooterTemplate:c.children&&c.children.filterfooter,filterClearTemplate:c.children&&c.children.filterclear,filterApplyTemplate:c.children&&c.children.filterapply,filterIconTemplate:c.children&&c.children.filtericon,filterAddIconTemplate:c.children&&c.children.filteraddicon,filterRemoveIconTemplate:c.children&&c.children.filterremoveicon,filterClearIconTemplate:c.children&&c.children.filterclearicon,filters:t.filters,filtersStore:t.filtersStore,filterInputProps:t.filterInputProps,filterButtonProps:t.filterButtonProps,onFilterChange:e[26]||(e[26]=function(d){return n.$emit("filter-change",d)}),onFilterApply:e[27]||(e[27]=function(d){return n.$emit("filter-apply")}),filterMenuStyle:i.columnProp(c,"filterMenuStyle"),filterMenuClass:i.columnProp(c,"filterMenuClass"),showOperator:i.columnProp(c,"showFilterOperator"),showClearButton:i.columnProp(c,"showClearButton"),showApplyButton:i.columnProp(c,"showApplyButton"),showMatchModes:i.columnProp(c,"showFilterMatchModes"),showAddButton:i.columnProp(c,"showAddButton"),matchModeOptions:i.columnProp(c,"filterMatchModeOptions"),maxConstraints:i.columnProp(c,"maxConstraints"),onOperatorChange:e[28]||(e[28]=function(d){return n.$emit("operator-change",d)}),onMatchmodeChange:e[29]||(e[29]=function(d){return n.$emit("matchmode-change",d)}),onConstraintAdd:e[30]||(e[30]=function(d){return n.$emit("constraint-add",d)}),onConstraintRemove:e[31]||(e[31]=function(d){return n.$emit("constraint-remove",d)}),onApplyClick:e[32]||(e[32]=function(d){return n.$emit("apply-click",d)}),column:c,unstyled:n.unstyled,pt:n.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):j("",!0)],16)):j("",!0)],64)}),128))],16)):j("",!0)],16)}AI.render=cY;function wu(n){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(n)}var uY=["expanded"];function dY(n,e){if(n==null)return{};var t,r,o=hY(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function hY(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function DC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function or(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(t),!0).forEach(function(r){fY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fY(n,e,t){return(e=pY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pY(n){var e=mY(n,"string");return wu(e)=="symbol"?e:e+""}function mY(n,e){if(wu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MC(n,e){return vY(n)||bY(n,e)||M_(n,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function vY(n){if(Array.isArray(n))return n}function zl(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=M_(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw i}}}}function xt(n){return xY(n)||_Y(n)||M_(n)||yY()}function yY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_(n,e){if(n){if(typeof n=="string")return b0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b0(n,e):void 0}}function _Y(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xY(n){if(Array.isArray(n))return b0(n)}function b0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var PI={name:"DataTable",extends:cq,inheritAttrs:!1,emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],provide:function(){return{$columns:this.d_columns,$columnGroups:this.d_columnGroups}},data:function(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_nullSortOrder:this.nullSortOrder,d_multiSortMeta:this.multiSortMeta?xt(this.multiSortMeta):[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters),d_columns:new Qa({type:"Column"}),d_columnGroups:new Qa({type:"ColumnGroup"}),isRTL:!1}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedColumnElement:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,mutationObserver:null,watch:{first:function(e){this.d_first=e},rows:function(e){this.d_rows=e},sortField:function(e){this.d_sortField=e},sortOrder:function(e){this.d_sortOrder=e},nullSortOrder:function(e){this.d_nullSortOrder=e},multiSortMeta:function(e){this.d_multiSortMeta=e},selection:{immediate:!0,handler:function(e){this.dataKey&&this.updateSelectionKeys(e)}},editingRows:{immediate:!0,handler:function(e){this.dataKey&&this.updateEditingRowKeys(e)}},filters:{deep:!0,handler:function(e){this.d_filters=this.cloneFilters(e)}}},mounted:function(){this.isStateful()&&(this.restoreState(),this.resizableColumns&&this.restoreColumnWidths()),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows),this.updateDirection(),this.observeDirectionChanges()},beforeUnmount:function(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.d_columns.clear(),this.d_columnGroups.clear(),this.mutationObserver&&this.mutationObserver.disconnect()},updated:function(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{updateDirection:function(){this.isRTL=!!this.$el.closest('[dir="rtl"]')},observeDirectionChanges:function(){var e=this,t=document.documentElement,r={attributes:!0,attributeFilter:["dir"]};this.mutationObserver=new MutationObserver(function(){e.updateDirection()}),this.mutationObserver.observe(t,r)},columnProp:function(e,t){return Vs(e,t)},onPage:function(e){var t=this;this.clearEditingMetaData(),this.d_first=e.first,this.d_rows=e.rows;var r=this.createLazyLoadEvent(e);r.pageCount=e.pageCount,r.page=e.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",r),this.$nextTick(function(){t.$emit("value-change",t.processedData)})},onColumnHeaderClick:function(e){var t=this,r=e.originalEvent,o=e.column;if(this.columnProp(o,"sortable")){var i=r.target,s=this.columnProp(o,"sortField")||this.columnProp(o,"field");if(Ze(i,"data-p-sortable-column")===!0||Ze(i,"data-pc-section")==="columntitle"||Ze(i,"data-pc-section")==="columnheadercontent"||Ze(i,"data-pc-section")==="sorticon"||Ze(i.parentElement,"data-pc-section")==="sorticon"||Ze(i.parentElement.parentElement,"data-pc-section")==="sorticon"||i.closest('[data-p-sortable-column="true"]')&&!i.closest('[data-pc-section="columnfilterbutton"]')&&!mg(r.target)){if(Ih(),this.sortMode==="single")this.d_sortField===s?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=s),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage();else if(this.sortMode==="multiple"){var a=r.metaKey||r.ctrlKey;a||(this.d_multiSortMeta=this.d_multiSortMeta.filter(function(l){return l.field===s})),this.addMultiSortField(s),this.$emit("update:multiSortMeta",this.d_multiSortMeta)}this.$emit("sort",this.createLazyLoadEvent(r)),this.$nextTick(function(){t.$emit("value-change",t.processedData)})}}},sortSingle:function(e){var t=this;if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(e);var r=xt(e),o=new Map,i=zl(r),s;try{for(i.s();!(s=i.n()).done;){var a=s.value;o.set(a,Ae(a,this.d_sortField))}}catch(c){i.e(c)}finally{i.f()}var l=Uw();return r.sort(function(c,u){var d=o.get(c),h=o.get(u);return Vw(d,h,t.d_sortOrder,l,t.d_nullSortOrder)}),r},sortMultiple:function(e){var t=this;if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){var r=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=r),r.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta].concat(xt(this.d_multiSortMeta)))}var o=xt(e);return o.sort(function(i,s){return t.multisortField(i,s,0)}),o},multisortField:function(e,t,r){var o=Ae(e,this.d_multiSortMeta[r].field),i=Ae(t,this.d_multiSortMeta[r].field),s=Uw();return o===i?this.d_multiSortMeta.length-1>r?this.multisortField(e,t,r+1):0:Vw(o,i,this.d_multiSortMeta[r].order,s,this.d_nullSortOrder)},addMultiSortField:function(e){var t=this.d_multiSortMeta.findIndex(function(r){return r.field===e});t>=0?this.removableSort&&this.d_multiSortMeta[t].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(t,1):this.d_multiSortMeta[t]={field:e,order:this.d_multiSortMeta[t].order*-1}:this.d_multiSortMeta.push({field:e,order:this.defaultSortOrder}),this.d_multiSortMeta=xt(this.d_multiSortMeta)},getActiveFilters:function(e){var t=function(s){var a=MC(s,2),l=a[0],c=a[1];if(c.constraints){var u=c.constraints.filter(function(d){return d.value!==null});if(u.length>0)return[l,or(or({},c),{},{constraints:u})]}else if(c.value!==null)return[l,c]},r=function(s){return s!==void 0},o=Object.entries(e).map(t).filter(r);return Object.fromEntries(o)},filter:function(e){var t=this;if(e){this.clearEditingMetaData();var r=this.getActiveFilters(this.filters),o;r.global&&(o=this.globalFilterFields||this.columns.map(function(y){return t.columnProp(y,"filterField")||t.columnProp(y,"field")}));for(var i=[],s=0;s<e.length;s++){var a=!0,l=!1,c=!1;for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)&&u!=="global"){c=!0;var d=u,h=r[d];if(h.operator){var f=zl(h.constraints),p;try{for(f.s();!(p=f.n()).done;){var m=p.value;if(a=this.executeLocalFilter(d,e[s],m),h.operator===Pf.OR&&a||h.operator===Pf.AND&&!a)break}}catch(y){f.e(y)}finally{f.f()}}else a=this.executeLocalFilter(d,e[s],h);if(!a)break}if(a&&r.global&&!l&&o)for(var g=0;g<o.length;g++){var b=o[g];if(l=If.filters[r.global.matchMode||rn.CONTAINS](Ae(e[s],b),r.global.value,this.filterLocale),l)break}var _=void 0;r.global?_=c?c&&a&&l:l:_=c&&a,_&&i.push(e[s])}(i.length===this.value.length||Object.keys(r).length==0)&&(i=e);var v=this.createLazyLoadEvent();return v.filteredValue=i,this.$emit("filter",v),this.$nextTick(function(){t.$emit("value-change",t.processedData)}),i}},executeLocalFilter:function(e,t,r){var o=r.value,i=r.matchMode||rn.STARTS_WITH,s=Ae(t,e),a=If.filters[i];return a(s,o,this.filterLocale)},onRowClick:function(e){var t=e.originalEvent,r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,o=an(r,'tr[data-p-selectable-row="true"][tabindex="0"]');if(!mg(t.target)){if(this.$emit("row-click",e),this.selectionMode){var i=e.data,s=this.d_first+e.index;if(this.isMultipleSelectionMode()&&t.shiftKey&&this.anchorRowIndex!=null)Ih(),this.rangeRowIndex=s,this.selectRange(t);else{var a=this.isSelected(i),l=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=s,this.rangeRowIndex=s,l){var c=t.metaKey||t.ctrlKey;if(a&&c){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{var u=this.findIndexInSelection(i),d=this.selection.filter(function(v,y){return y!=u});this.$emit("update:selection",d)}this.$emit("row-unselect",{originalEvent:t,data:i,index:s,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",i);else if(this.isMultipleSelectionMode()){var h=c?this.selection||[]:[];h=[].concat(xt(h),[i]),this.$emit("update:selection",h)}this.$emit("row-select",{originalEvent:t,data:i,index:s,type:"row"})}}else if(this.selectionMode==="single")a?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t,data:i,index:s,type:"row"})):(this.$emit("update:selection",i),this.$emit("row-select",{originalEvent:t,data:i,index:s,type:"row"}));else if(this.selectionMode==="multiple")if(a){var f=this.findIndexInSelection(i),p=this.selection.filter(function(v,y){return y!=f});this.$emit("update:selection",p),this.$emit("row-unselect",{originalEvent:t,data:i,index:s,type:"row"})}else{var m=this.selection?[].concat(xt(this.selection),[i]):[i];this.$emit("update:selection",m),this.$emit("row-select",{originalEvent:t,data:i,index:s,type:"row"})}}}if(this.rowTouched=!1,o){var g,b;if(((g=t.target)===null||g===void 0?void 0:g.getAttribute("data-pc-section"))==="rowtoggleicon")return;var _=(b=t.currentTarget)===null||b===void 0?void 0:b.closest('tr[data-p-selectable-row="true"]');o.tabIndex="-1",_.tabIndex="0"}}},onRowDblClick:function(e){var t=e.originalEvent;mg(t.target)||this.$emit("row-dblclick",e)},onRowRightClick:function(e){this.contextMenu&&(Ih(),e.originalEvent.target.focus()),this.$emit("update:contextMenuSelection",e.data),this.$emit("row-contextmenu",e)},onRowTouchEnd:function(){this.rowTouched=!0},onRowKeyDown:function(e,t){var r=e.originalEvent,o=e.data,i=e.index,s=r.metaKey||r.ctrlKey;if(this.selectionMode){var a=r.target;switch(r.code){case"ArrowDown":this.onArrowDownKey(r,a,i,t);break;case"ArrowUp":this.onArrowUpKey(r,a,i,t);break;case"Home":this.onHomeKey(r,a,i,t);break;case"End":this.onEndKey(r,a,i,t);break;case"Enter":case"NumpadEnter":this.onEnterKey(r,o,i);break;case"Space":this.onSpaceKey(r,o,i,t);break;case"Tab":this.onTabKey(r,i);break;default:if(r.code==="KeyA"&&s&&this.isMultipleSelectionMode()){var l=this.dataToRender(t.rows);this.$emit("update:selection",l)}r.preventDefault();break}}},onArrowDownKey:function(e,t,r,o){var i=this.findNextSelectableRow(t);if(i&&this.focusRowChange(t,i),e.shiftKey){var s=this.dataToRender(o.rows),a=r+1>=s.length?s.length-1:r+1;this.onRowClick({originalEvent:e,data:s[a],index:a})}e.preventDefault()},onArrowUpKey:function(e,t,r,o){var i=this.findPrevSelectableRow(t);if(i&&this.focusRowChange(t,i),e.shiftKey){var s=this.dataToRender(o.rows),a=r-1<=0?0:r-1;this.onRowClick({originalEvent:e,data:s[a],index:a})}e.preventDefault()},onHomeKey:function(e,t,r,o){var i=this.findFirstSelectableRow();if(i&&this.focusRowChange(t,i),e.ctrlKey&&e.shiftKey){var s=this.dataToRender(o.rows);this.$emit("update:selection",s.slice(0,r+1))}e.preventDefault()},onEndKey:function(e,t,r,o){var i=this.findLastSelectableRow();if(i&&this.focusRowChange(t,i),e.ctrlKey&&e.shiftKey){var s=this.dataToRender(o.rows);this.$emit("update:selection",s.slice(r,s.length))}e.preventDefault()},onEnterKey:function(e,t,r){this.onRowClick({originalEvent:e,data:t,index:r}),e.preventDefault()},onSpaceKey:function(e,t,r,o){if(this.onEnterKey(e,t,r),e.shiftKey&&this.selection!==null){var i=this.dataToRender(o.rows),s;if(this.selection.length>0){var a,l;a=gg(this.selection[0],i),l=gg(this.selection[this.selection.length-1],i),s=r<=a?l:a}else s=gg(this.selection,i);var c=s!==r?i.slice(Math.min(s,r),Math.max(s,r)+1):t;this.$emit("update:selection",c)}},onTabKey:function(e,t){var r=this.$refs.bodyRef&&this.$refs.bodyRef.$el,o=la(r,'tr[data-p-selectable-row="true"]');if(e.code==="Tab"&&o&&o.length>0){var i=an(r,'tr[data-p-selected="true"]'),s=an(r,'tr[data-p-selectable-row="true"][tabindex="0"]');i?(i.tabIndex="0",s&&s!==i&&(s.tabIndex="-1")):(o[0].tabIndex="0",s!==o[0]&&(o[t].tabIndex="-1"))}},findNextSelectableRow:function(e){var t=e.nextElementSibling;return t?Ze(t,"data-p-selectable-row")===!0?t:this.findNextSelectableRow(t):null},findPrevSelectableRow:function(e){var t=e.previousElementSibling;return t?Ze(t,"data-p-selectable-row")===!0?t:this.findPrevSelectableRow(t):null},findFirstSelectableRow:function(){var e=an(this.$refs.table,'tr[data-p-selectable-row="true"]');return e},findLastSelectableRow:function(){var e=la(this.$refs.table,'tr[data-p-selectable-row="true"]');return e?e[e.length-1]:null},focusRowChange:function(e,t){e.tabIndex="-1",t.tabIndex="0",Xe(t)},toggleRowWithRadio:function(e){var t=e.data;this.isSelected(t)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"})):(this.$emit("update:selection",t),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"}))},toggleRowWithCheckbox:function(e){var t=e.data;if(this.isSelected(t)){var r=this.findIndexInSelection(t),o=this.selection.filter(function(s,a){return a!=r});this.$emit("update:selection",o),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}else{var i=this.selection?xt(this.selection):[];i=[].concat(xt(i),[t]),this.$emit("update:selection",i),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}},toggleRowsWithCheckbox:function(e){if(this.selectAll!==null)this.$emit("select-all-change",e);else{var t=e.originalEvent,r=e.checked,o=[];r?(o=this.frozenValue?[].concat(xt(this.frozenValue),xt(this.processedData)):this.processedData,this.$emit("row-select-all",{originalEvent:t,data:o})):this.$emit("row-unselect-all",{originalEvent:t}),this.$emit("update:selection",o)}},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isSelected:function(e){return e&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[Ae(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},findIndexInSelection:function(e){return this.findIndex(e,this.selection)},findIndex:function(e,t){var r=-1;if(t&&t.length){for(var o=0;o<t.length;o++)if(this.equals(e,t[o])){r=o;break}}return r},updateSelectionKeys:function(e){if(this.d_selectionKeys={},Array.isArray(e)){var t=zl(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;this.d_selectionKeys[String(Ae(o,this.dataKey))]=1}}catch(i){t.e(i)}finally{t.f()}}else this.d_selectionKeys[String(Ae(e,this.dataKey))]=1},updateEditingRowKeys:function(e){if(e&&e.length){this.d_editingRowKeys={};var t=zl(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;this.d_editingRowKeys[String(Ae(o,this.dataKey))]=1}}catch(i){t.e(i)}finally{t.f()}}else this.d_editingRowKeys=null},equals:function(e,t){return this.compareSelectionBy==="equals"?e===t:xn(e,t,this.dataKey)},selectRange:function(e){var t,r;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,r=this.anchorRowIndex):(t=this.rangeRowIndex,r=this.rangeRowIndex),this.lazy&&this.paginator&&(t-=this.first,r-=this.first);for(var o=this.processedData,i=[],s=t;s<=r;s++){var a=o[s];i.push(a),this.$emit("row-select",{originalEvent:e,data:a,type:"row"})}this.$emit("update:selection",i)},exportCSV:function(e,t){var r=this,o="\uFEFF";t||(t=this.processedData,e&&e.selectionOnly?t=this.selection||[]:this.frozenValue&&(t=t?[].concat(xt(this.frozenValue),xt(t)):this.frozenValue));for(var i=!1,s=0;s<this.columns.length;s++){var a=this.columns[s];this.columnProp(a,"exportable")!==!1&&this.columnProp(a,"field")&&(i?o+=this.csvSeparator:i=!0,o+='"'+(this.columnProp(a,"exportHeader")||this.columnProp(a,"header")||this.columnProp(a,"field"))+'"')}t&&t.forEach(function(d){o+=`
`;for(var h=!1,f=0;f<r.columns.length;f++){var p=r.columns[f];if(r.columnProp(p,"exportable")!==!1&&r.columnProp(p,"field")){h?o+=r.csvSeparator:h=!0;var m=Ae(d,r.columnProp(p,"field"));m!=null?r.exportFunction?m=r.exportFunction({data:m,field:r.columnProp(p,"field")}):m=String(m).replace(/"/g,'""'):m="",o+='"'+m+'"'}}});for(var l=!1,c=0;c<this.columns.length;c++){var u=this.columns[c];c===0&&(o+=`
`),this.columnProp(u,"exportable")!==!1&&this.columnProp(u,"exportFooter")&&(l?o+=this.csvSeparator:l=!0,o+='"'+(this.columnProp(u,"exportFooter")||this.columnProp(u,"footer")||this.columnProp(u,"field"))+'"')}Zz(o,this.exportFilename)},resetPage:function(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart:function(e){var t=Cr(this.$el).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=e.pageX-t+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize:function(e){var t=Cr(this.$el).left;this.$el.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&Bs(this.$el,{"user-select":"none"}),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top="0px",this.$refs.resizeHelper.style.left=e.pageX-t+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd:function(){var e=this.isRTL?this.lastResizeHelperX-this.$refs.resizeHelper.offsetLeft:this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,t=this.resizeColumnElement.offsetWidth,r=t+e,o=this.resizeColumnElement.style.minWidth||15;if(t+e>parseInt(o,10)){if(this.columnResizeMode==="fit"){var i=this.resizeColumnElement.nextElementSibling,s=i.offsetWidth-e;r>15&&s>15&&this.resizeTableCells(r,s)}else if(this.columnResizeMode==="expand"){var a=this.$refs.table.offsetWidth+e+"px",l=function(h){h&&(h.style.width=h.style.minWidth=a)};if(this.resizeTableCells(r),l(this.$refs.table),!this.virtualScrollerDisabled){var c=this.$refs.bodyRef&&this.$refs.bodyRef.$el,u=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;l(c),l(u)}}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:e})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,this.$el.removeAttribute("data-p-unselectable-text"),!this.isUnstyled&&(this.$el.style["user-select"]=""),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells:function(e,t){var r=Rh(this.resizeColumnElement),o=[],i=la(this.$refs.table,'thead[data-pc-section="thead"] > tr > th');i.forEach(function(l){return o.push(Rt(l))}),this.destroyStyleElement(),this.createStyleElement();var s="",a='[data-pc-name="datatable"]['.concat(this.$attrSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');o.forEach(function(l,c){var u=c===r?e:t&&c===r+1?t:l,d="width: ".concat(u,"px !important; max-width: ").concat(u,"px !important");s+=`
                    `.concat(a,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(c+1,`),
                    `).concat(a,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(c+1,`),
                    `).concat(a,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(c+1,`) {
                        `).concat(d,`
                    }
                `)}),this.styleElement.innerHTML=s},bindColumnResizeEvents:function(){var e=this;this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",function(){e.columnResizing&&e.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",function(){e.columnResizing&&(e.columnResizing=!1,e.onColumnResizeEnd())}))},unbindColumnResizeEvents:function(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown:function(e){var t=e.originalEvent,r=e.column;this.reorderableColumns&&this.columnProp(r,"reorderableColumn")!==!1&&(t.target.nodeName==="INPUT"||t.target.nodeName==="TEXTAREA"||Ze(t.target,'[data-pc-section="columnresizer"]')?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},onColumnHeaderDragStart:function(e){var t=e.originalEvent,r=e.column;if(this.columnResizing){t.preventDefault();return}this.colReorderIconWidth=eH(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=Qz(this.$refs.reorderIndicatorUp),this.draggedColumn=r,this.draggedColumnElement=this.findParentHeader(t.target),t.dataTransfer.setData("text","b")},onColumnHeaderDragOver:function(e){var t=e.originalEvent,r=e.column,o=this.findParentHeader(t.target);if(this.reorderableColumns&&this.draggedColumnElement&&o&&!this.columnProp(r,"frozen")){t.preventDefault();var i=Cr(this.$el),s=Cr(o);if(this.draggedColumnElement!==o){var a=s.left-i.left,l=s.left+o.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=s.top-i.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=s.top-i.top+o.offsetHeight+"px",t.pageX>l?(this.$refs.reorderIndicatorUp.style.left=a+o.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=a+o.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=a-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=a-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave:function(e){var t=e.originalEvent;this.reorderableColumns&&this.draggedColumnElement&&(t.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop:function(e){var t=this,r=e.originalEvent,o=e.column;if(r.preventDefault(),this.draggedColumnElement){var i=Rh(this.draggedColumnElement),s=Rh(this.findParentHeader(r.target)),a=i!==s;if(a&&(s-i===1&&this.dropPosition===-1||s-i===-1&&this.dropPosition===1)&&(a=!1),a){var l=function(b,_){return t.columnProp(b,"columnKey")||t.columnProp(_,"columnKey")?t.columnProp(b,"columnKey")===t.columnProp(_,"columnKey"):t.columnProp(b,"field")===t.columnProp(_,"field")},c=this.columns.findIndex(function(g){return l(g,t.draggedColumn)}),u=this.columns.findIndex(function(g){return l(g,o)}),d=[],h=la(this.$el,'thead[data-pc-section="thead"] > tr > th');h.forEach(function(g){return d.push(Rt(g))});var f=d.find(function(g,b){return b===c}),p=d.filter(function(g,b){return b!==c}),m=[].concat(xt(p.slice(0,u)),[f],xt(p.slice(u)));this.addColumnWidthStyles(m),u<c&&this.dropPosition===1&&u++,u>c&&this.dropPosition===-1&&u--,Gw(this.columns,c,u),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:r,dragIndex:c,dropIndex:u})}this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumnElement.draggable=!1,this.draggedColumnElement=null,this.draggedColumn=null,this.dropPosition=null}},findParentHeader:function(e){if(e.nodeName==="TH")return e;for(var t=e.parentElement;t.nodeName!=="TH"&&(t=t.parentElement,!!t););return t},findColumnByKey:function(e,t){if(e&&e.length)for(var r=0;r<e.length;r++){var o=e[r];if(this.columnProp(o,"columnKey")===t||this.columnProp(o,"field")===t)return o}return null},onRowMouseDown:function(e){Ze(e.target,"data-pc-section")==="reorderablerowhandle"||Ze(e.target.parentElement,"data-pc-section")==="reorderablerowhandle"?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1},onRowDragStart:function(e){var t=e.originalEvent,r=e.index;this.rowDragging=!0,this.draggedRowIndex=r,t.dataTransfer.setData("text","b")},onRowDragOver:function(e){var t=e.originalEvent,r=e.index;if(this.rowDragging&&this.draggedRowIndex!==r){var o=t.currentTarget,i=Cr(o).top,s=t.pageY,a=i+sr(o)/2,l=o.previousElementSibling;s<a?(o.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&uo(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=r,l?(l.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&jo(l,"p-datatable-dragpoint-bottom")):(o.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&jo(o,"p-datatable-dragpoint-top"))):(l?(l.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&uo(l,"p-datatable-dragpoint-bottom")):(o.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&jo(o,"p-datatable-dragpoint-top")),this.droppedRowIndex=r+1,o.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&jo(o,"p-datatable-dragpoint-bottom")),t.preventDefault()}},onRowDragLeave:function(e){var t=e.currentTarget,r=t.previousElementSibling;r&&(r.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&uo(r,"p-datatable-dragpoint-bottom")),t.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&uo(t,"p-datatable-dragpoint-bottom"),t.setAttribute("data-p-datatable-dragpoint-top","false"),!this.isUnstyled&&uo(t,"p-datatable-dragpoint-top")},onRowDragEnd:function(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,e.currentTarget.draggable=!1},onRowDrop:function(e){if(this.droppedRowIndex!=null){var t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,r=xt(this.processedData);Gw(r,this.draggedRowIndex+this.d_first,t+this.d_first),this.$emit("row-reorder",{originalEvent:e,dragIndex:this.draggedRowIndex,dropIndex:t,value:r})}this.onRowDragLeave(e),this.onRowDragEnd(e),e.preventDefault()},toggleRow:function(e){var t=this,r=e.expanded,o=dY(e,uY),i=e.data,s;if(this.dataKey){var a=Ae(i,this.dataKey);s=this.expandedRows?or({},this.expandedRows):{},r?s[a]=!0:delete s[a]}else s=this.expandedRows?xt(this.expandedRows):[],r?s.push(i):s=s.filter(function(l){return!t.equals(i,l)});this.$emit("update:expandedRows",s),r?this.$emit("row-expand",o):this.$emit("row-collapse",o)},toggleRowGroup:function(e){var t=e.originalEvent,r=e.data,o=Ae(r,this.groupRowsBy),i=this.expandedRowGroups?xt(this.expandedRowGroups):[];this.isRowGroupExpanded(r)?(i=i.filter(function(s){return s!==o}),this.$emit("update:expandedRowGroups",i),this.$emit("rowgroup-collapse",{originalEvent:t,data:o})):(i.push(o),this.$emit("update:expandedRowGroups",i),this.$emit("rowgroup-expand",{originalEvent:t,data:o}))},isRowGroupExpanded:function(e){if(this.expandableRowGroups&&this.expandedRowGroups){var t=Ae(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isStateful:function(){return this.stateKey!=null},getStorage:function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState:function(){var e=this.getStorage(),t={};this.paginator&&(t.first=this.d_first,t.rows=this.d_rows),this.d_sortField&&(t.sortField=this.d_sortField,t.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(t.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&(t.columnOrder=this.d_columnOrder),this.expandedRows&&(t.expandedRows=this.expandedRows),this.expandedRowGroups&&(t.expandedRowGroups=this.expandedRowGroups),this.selection&&(t.selection=this.selection,t.selectionKeys=this.d_selectionKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t)),this.$emit("state-save",t)},restoreState:function(){var e=this.getStorage(),t=e.getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,o=function(a,l){return typeof l=="string"&&r.test(l)?new Date(l):l};if(t){var i=JSON.parse(t,o);this.paginator&&(this.d_first=i.first,this.d_rows=i.rows),i.sortField&&(this.d_sortField=i.sortField,this.d_sortOrder=i.sortOrder),i.multiSortMeta&&(this.d_multiSortMeta=i.multiSortMeta),i.filters&&this.$emit("update:filters",i.filters),this.resizableColumns&&(this.columnWidthsState=i.columnWidths,this.tableWidthState=i.tableWidth),this.reorderableColumns&&(this.d_columnOrder=i.columnOrder),i.expandedRows&&this.$emit("update:expandedRows",i.expandedRows),i.expandedRowGroups&&this.$emit("update:expandedRowGroups",i.expandedRowGroups),i.selection&&(this.d_selectionKeys=i.d_selectionKeys,this.$emit("update:selection",i.selection)),this.$emit("state-restore",i)}},saveColumnWidths:function(e){var t=[],r=la(this.$el,'thead[data-pc-section="thead"] > tr > th');r.forEach(function(o){return t.push(Rt(o))}),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=Rt(this.$refs.table)+"px")},addColumnWidthStyles:function(e){this.createStyleElement();var t="",r='[data-pc-name="datatable"]['.concat(this.$attrSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');e.forEach(function(o,i){var s="width: ".concat(o,"px !important; max-width: ").concat(o,"px !important");t+=`
        `.concat(r,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(i+1,`),
        `).concat(r,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(i+1,`),
        `).concat(r,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(i+1,`) {
            `).concat(s,`
        }
    `)}),this.styleElement.innerHTML=t},restoreColumnWidths:function(){if(this.columnWidthsState){var e=this.columnWidthsState.split(",");this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState),pe(e)&&this.addColumnWidthStyles(e)}},onCellEditInit:function(e){this.$emit("cell-edit-init",e)},onCellEditComplete:function(e){this.$emit("cell-edit-complete",e)},onCellEditCancel:function(e){this.$emit("cell-edit-cancel",e)},onRowEditInit:function(e){var t=this.editingRows?xt(this.editingRows):[];t.push(e.data),this.$emit("update:editingRows",t),this.$emit("row-edit-init",e)},onRowEditSave:function(e){var t=xt(this.editingRows);t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-save",e)},onRowEditCancel:function(e){var t=xt(this.editingRows);t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-cancel",e)},onEditingMetaChange:function(e){var t=e.data,r=e.field,o=e.index,i=e.editing,s=or({},this.d_editingMeta),a=s[o];if(i)!a&&(a=s[o]={data:or({},t),fields:[]}),a.fields.push(r);else if(a){var l=a.fields.filter(function(c){return c!==r});l.length?a.fields=l:delete s[o]}this.d_editingMeta=s},clearEditingMetaData:function(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent:function(e){return{originalEvent:e,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter:function(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},onFilterChange:function(e){this.d_filters=e},onFilterApply:function(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters:function(){var e={};return this.filters&&Object.entries(this.filters).forEach(function(t){var r=MC(t,2),o=r[0],i=r[1];e[o]=i.operator?{operator:i.operator,constraints:i.constraints.map(function(s){return or({},s)})}:or({},i)}),e},updateReorderableColumns:function(){var e=this,t=[];this.columns.forEach(function(r){return t.push(e.columnProp(r,"columnKey")||e.columnProp(r,"field"))}),this.d_columnOrder=t},createStyleElement:function(){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",xl(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement)},destroyStyleElement:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},dataToRender:function(e){var t=e||this.processedData;if(t&&this.paginator){var r=this.lazy?0:this.d_first;return t.slice(r,r+this.d_rows)}return t},getVirtualScrollerRef:function(){return this.$refs.virtualScroller},hasSpacerStyle:function(e){return pe(e)}},computed:{columns:function(){var e=this.d_columns.get(this);if(this.reorderableColumns&&this.d_columnOrder){var t=[],r=zl(this.d_columnOrder),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,s=this.findColumnByKey(e,i);s&&!this.columnProp(s,"hidden")&&t.push(s)}}catch(a){r.e(a)}finally{r.f()}return[].concat(t,xt(e.filter(function(a){return t.indexOf(a)<0})))}return e},columnGroups:function(){return this.d_columnGroups.get(this)},headerColumnGroup:function(){var e,t=this;return(e=this.columnGroups)===null||e===void 0?void 0:e.find(function(r){return t.columnProp(r,"type")==="header"})},footerColumnGroup:function(){var e,t=this;return(e=this.columnGroups)===null||e===void 0?void 0:e.find(function(r){return t.columnProp(r,"type")==="footer"})},hasFilters:function(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData:function(){var e,t=this.value||[];return!this.lazy&&!((e=this.virtualScrollerOptions)!==null&&e!==void 0&&e.lazy)&&t&&t.length&&(this.hasFilters&&(t=this.filter(t)),this.sorted&&(this.sortMode==="single"?t=this.sortSingle(t):this.sortMode==="multiple"&&(t=this.sortMultiple(t)))),t},totalRecordsLength:function(){if(this.lazy)return this.totalRecords;var e=this.processedData;return e?e.length:0},empty:function(){var e=this.processedData;return!e||e.length===0},paginatorTop:function(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom:function(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted:function(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},allRowsSelected:function(){var e=this;if(this.selectAll!==null)return this.selectAll;var t=this.frozenValue?[].concat(xt(this.frozenValue),xt(this.processedData)):this.processedData;return pe(t)&&this.selection&&Array.isArray(this.selection)&&t.every(function(r){return e.selection.some(function(o){return e.equals(o,r)})})},groupRowSortField:function(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},headerFilterButtonProps:function(){return or(or({filter:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps),{},{inline:or({clear:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps.inline),popover:or({addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}},this.filterButtonProps.popover)})},rowEditButtonProps:function(){return or(or({},{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}),this.editButtonProps)},virtualScrollerDisabled:function(){return Yt(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:fI,DTTableHeader:AI,DTTableBody:SI,DTTableFooter:kI,DTVirtualScroller:lm,ArrowDownIcon:Y8,ArrowUpIcon:Z8,SpinnerIcon:Cl}};function Cu(n){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(n)}function FC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function LC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(t),!0).forEach(function(r){wY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wY(n,e,t){return(e=CY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CY(n){var e=SY(n,"string");return Cu(e)=="symbol"?e:e+""}function SY(n,e){if(Cu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TY(n,e,t,r,o,i){var s=X("SpinnerIcon"),a=X("DTPaginator"),l=X("DTTableHeader"),c=X("DTTableBody"),u=X("DTTableFooter"),d=X("DTVirtualScroller");return x(),R("div",T({class:n.cx("root"),"data-scrollselectors":".p-datatable-wrapper"},n.ptmi("root")),[K(n.$slots,"default"),n.loading?(x(),R("div",T({key:0,class:n.cx("mask")},n.ptm("mask")),[n.$slots.loading?K(n.$slots,"loading",{key:0}):(x(),R(oe,{key:1},[n.$slots.loadingicon?(x(),N(re(n.$slots.loadingicon),{key:0,class:ce(n.cx("loadingIcon"))},null,8,["class"])):n.loadingIcon?(x(),R("i",T({key:1,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon]},n.ptm("loadingIcon")),null,16)):(x(),N(s,T({key:2,spin:"",class:n.cx("loadingIcon")},n.ptm("loadingIcon")),null,16,["class"]))],64))],16)):j("",!0),n.$slots.header?(x(),R("div",T({key:1,class:n.cx("header")},n.ptm("header")),[K(n.$slots,"header")],16)):j("",!0),i.paginatorTop?(x(),N(a,{key:2,rows:o.d_rows,first:o.d_first,totalRecords:i.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:ce(n.cx("pcPaginator",{position:"top"})),onPage:e[0]||(e[0]=function(h){return i.onPage(h)}),alwaysShow:n.alwaysShowPaginator,unstyled:n.unstyled,pt:n.ptm("pcPaginator")},Ui({_:2},[n.$slots.paginatorcontainer?{name:"container",fn:q(function(){return[K(n.$slots,"paginatorcontainer",{first:n.slotProps.first,last:n.slotProps.last,rows:n.slotProps.rows,page:n.slotProps.page,pageCount:n.slotProps.pageCount,totalRecords:n.slotProps.totalRecords,firstPageCallback:n.slotProps.firstPageCallback,lastPageCallback:n.slotProps.lastPageCallback,prevPageCallback:n.slotProps.prevPageCallback,nextPageCallback:n.slotProps.nextPageCallback,rowChangeCallback:n.slotProps.rowChangeCallback})]}),key:"0"}:void 0,n.$slots.paginatorstart?{name:"start",fn:q(function(){return[K(n.$slots,"paginatorstart")]}),key:"1"}:void 0,n.$slots.paginatorend?{name:"end",fn:q(function(){return[K(n.$slots,"paginatorend")]}),key:"2"}:void 0,n.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorfirstpagelinkicon",{class:ce(h.class)})]}),key:"3"}:void 0,n.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorprevpagelinkicon",{class:ce(h.class)})]}),key:"4"}:void 0,n.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatornextpagelinkicon",{class:ce(h.class)})]}),key:"5"}:void 0,n.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorlastpagelinkicon",{class:ce(h.class)})]}),key:"6"}:void 0,n.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:q(function(h){return[K(n.$slots,"paginatorjumptopagedropdownicon",{class:ce(h.class)})]}),key:"7"}:void 0,n.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:q(function(h){return[K(n.$slots,"paginatorrowsperpagedropdownicon",{class:ce(h.class)})]}),key:"8"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):j("",!0),G("div",T({class:n.cx("tableContainer"),style:[n.sx("tableContainer"),{maxHeight:i.virtualScrollerDisabled?n.scrollHeight:""}]},n.ptm("tableContainer")),[W(d,T({ref:"virtualScroller"},n.virtualScrollerOptions,{items:i.processedData,columns:i.columns,style:n.scrollHeight!=="flex"?{height:n.scrollHeight}:void 0,scrollHeight:n.scrollHeight!=="flex"?void 0:"100%",disabled:i.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1,pt:n.ptm("virtualScroller")}),{content:q(function(h){return[G("table",T({ref:"table",role:"table",class:[n.cx("table"),n.tableClass],style:[n.tableStyle,h.spacerStyle]},LC(LC({},n.tableProps),n.ptm("table"))),[n.showHeaders?(x(),N(l,{key:0,columnGroup:i.headerColumnGroup,columns:h.columns,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,groupRowSortField:i.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,allRowsSelected:i.allRowsSelected,empty:i.empty,sortMode:n.sortMode,sortField:o.d_sortField,sortOrder:o.d_sortOrder,multiSortMeta:o.d_multiSortMeta,filters:o.d_filters,filtersStore:n.filters,filterDisplay:n.filterDisplay,filterButtonProps:i.headerFilterButtonProps,filterInputProps:n.filterInputProps,first:o.d_first,onColumnClick:e[1]||(e[1]=function(f){return i.onColumnHeaderClick(f)}),onColumnMousedown:e[2]||(e[2]=function(f){return i.onColumnHeaderMouseDown(f)}),onFilterChange:i.onFilterChange,onFilterApply:i.onFilterApply,onColumnDragstart:e[3]||(e[3]=function(f){return i.onColumnHeaderDragStart(f)}),onColumnDragover:e[4]||(e[4]=function(f){return i.onColumnHeaderDragOver(f)}),onColumnDragleave:e[5]||(e[5]=function(f){return i.onColumnHeaderDragLeave(f)}),onColumnDrop:e[6]||(e[6]=function(f){return i.onColumnHeaderDrop(f)}),onColumnResizestart:e[7]||(e[7]=function(f){return i.onColumnResizeStart(f)}),onCheckboxChange:e[8]||(e[8]=function(f){return i.toggleRowsWithCheckbox(f)}),unstyled:n.unstyled,pt:n.pt},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterButtonProps","filterInputProps","first","onFilterChange","onFilterApply","unstyled","pt"])):j("",!0),n.frozenValue?(x(),N(c,{key:1,ref:"frozenBodyRef",value:n.frozenValue,frozenRow:!0,columns:h.columns,first:o.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:o.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:o.d_editingRowKeys,templates:n.$slots,editButtonProps:i.rowEditButtonProps,isVirtualScrollerDisabled:!0,onRowgroupToggle:i.toggleRowGroup,onRowClick:e[9]||(e[9]=function(f){return i.onRowClick(f)}),onRowDblclick:e[10]||(e[10]=function(f){return i.onRowDblClick(f)}),onRowRightclick:e[11]||(e[11]=function(f){return i.onRowRightClick(f)}),onRowTouchend:i.onRowTouchEnd,onRowKeydown:i.onRowKeyDown,onRowMousedown:i.onRowMouseDown,onRowDragstart:e[12]||(e[12]=function(f){return i.onRowDragStart(f)}),onRowDragover:e[13]||(e[13]=function(f){return i.onRowDragOver(f)}),onRowDragleave:e[14]||(e[14]=function(f){return i.onRowDragLeave(f)}),onRowDragend:e[15]||(e[15]=function(f){return i.onRowDragEnd(f)}),onRowDrop:e[16]||(e[16]=function(f){return i.onRowDrop(f)}),onRowToggle:e[17]||(e[17]=function(f){return i.toggleRow(f)}),onRadioChange:e[18]||(e[18]=function(f){return i.toggleRowWithRadio(f)}),onCheckboxChange:e[19]||(e[19]=function(f){return i.toggleRowWithCheckbox(f)}),onCellEditInit:e[20]||(e[20]=function(f){return i.onCellEditInit(f)}),onCellEditComplete:e[21]||(e[21]=function(f){return i.onCellEditComplete(f)}),onCellEditCancel:e[22]||(e[22]=function(f){return i.onCellEditCancel(f)}),onRowEditInit:e[23]||(e[23]=function(f){return i.onRowEditInit(f)}),onRowEditSave:e[24]||(e[24]=function(f){return i.onRowEditSave(f)}),onRowEditCancel:e[25]||(e[25]=function(f){return i.onRowEditCancel(f)}),editingMeta:o.d_editingMeta,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"])):j("",!0),W(c,{ref:"bodyRef",value:i.dataToRender(h.rows),class:ce(h.styleClass),columns:h.columns,empty:i.empty,first:o.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:o.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:o.d_editingRowKeys,templates:n.$slots,editButtonProps:i.rowEditButtonProps,virtualScrollerContentProps:h,isVirtualScrollerDisabled:i.virtualScrollerDisabled,onRowgroupToggle:i.toggleRowGroup,onRowClick:e[26]||(e[26]=function(f){return i.onRowClick(f)}),onRowDblclick:e[27]||(e[27]=function(f){return i.onRowDblClick(f)}),onRowRightclick:e[28]||(e[28]=function(f){return i.onRowRightClick(f)}),onRowTouchend:i.onRowTouchEnd,onRowKeydown:function(p){return i.onRowKeyDown(p,h)},onRowMousedown:i.onRowMouseDown,onRowDragstart:e[29]||(e[29]=function(f){return i.onRowDragStart(f)}),onRowDragover:e[30]||(e[30]=function(f){return i.onRowDragOver(f)}),onRowDragleave:e[31]||(e[31]=function(f){return i.onRowDragLeave(f)}),onRowDragend:e[32]||(e[32]=function(f){return i.onRowDragEnd(f)}),onRowDrop:e[33]||(e[33]=function(f){return i.onRowDrop(f)}),onRowToggle:e[34]||(e[34]=function(f){return i.toggleRow(f)}),onRadioChange:e[35]||(e[35]=function(f){return i.toggleRowWithRadio(f)}),onCheckboxChange:e[36]||(e[36]=function(f){return i.toggleRowWithCheckbox(f)}),onCellEditInit:e[37]||(e[37]=function(f){return i.onCellEditInit(f)}),onCellEditComplete:e[38]||(e[38]=function(f){return i.onCellEditComplete(f)}),onCellEditCancel:e[39]||(e[39]=function(f){return i.onCellEditCancel(f)}),onRowEditInit:e[40]||(e[40]=function(f){return i.onRowEditInit(f)}),onRowEditSave:e[41]||(e[41]=function(f){return i.onRowEditSave(f)}),onRowEditCancel:e[42]||(e[42]=function(f){return i.onRowEditCancel(f)}),editingMeta:o.d_editingMeta,onEditingMetaChange:i.onEditingMetaChange,unstyled:n.unstyled,pt:n.pt},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"]),i.hasSpacerStyle(h.spacerStyle)?(x(),R("tbody",T({key:2,class:n.cx("virtualScrollerSpacer"),style:{height:"calc(".concat(h.spacerStyle.height," - ").concat(h.rows.length*h.itemSize,"px)")}},n.ptm("virtualScrollerSpacer")),null,16)):j("",!0),W(u,{columnGroup:i.footerColumnGroup,columns:h.columns,pt:n.pt},null,8,["columnGroup","columns","pt"])],16)]}),_:1},16,["items","columns","style","scrollHeight","disabled","pt"])],16),i.paginatorBottom?(x(),N(a,{key:3,rows:o.d_rows,first:o.d_first,totalRecords:i.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:ce(n.cx("pcPaginator",{position:"bottom"})),onPage:e[43]||(e[43]=function(h){return i.onPage(h)}),alwaysShow:n.alwaysShowPaginator,unstyled:n.unstyled,pt:n.ptm("pcPaginator")},Ui({_:2},[n.$slots.paginatorcontainer?{name:"container",fn:q(function(h){return[K(n.$slots,"paginatorcontainer",{first:h.first,last:h.last,rows:h.rows,page:h.page,pageCount:h.pageCount,totalRecords:h.totalRecords,firstPageCallback:h.firstPageCallback,lastPageCallback:h.lastPageCallback,prevPageCallback:h.prevPageCallback,nextPageCallback:h.nextPageCallback,rowChangeCallback:h.rowChangeCallback})]}),key:"0"}:void 0,n.$slots.paginatorstart?{name:"start",fn:q(function(){return[K(n.$slots,"paginatorstart")]}),key:"1"}:void 0,n.$slots.paginatorend?{name:"end",fn:q(function(){return[K(n.$slots,"paginatorend")]}),key:"2"}:void 0,n.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorfirstpagelinkicon",{class:ce(h.class)})]}),key:"3"}:void 0,n.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorprevpagelinkicon",{class:ce(h.class)})]}),key:"4"}:void 0,n.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatornextpagelinkicon",{class:ce(h.class)})]}),key:"5"}:void 0,n.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:q(function(h){return[K(n.$slots,"paginatorlastpagelinkicon",{class:ce(h.class)})]}),key:"6"}:void 0,n.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:q(function(h){return[K(n.$slots,"paginatorjumptopagedropdownicon",{class:ce(h.class)})]}),key:"7"}:void 0,n.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:q(function(h){return[K(n.$slots,"paginatorrowsperpagedropdownicon",{class:ce(h.class)})]}),key:"8"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):j("",!0),n.$slots.footer?(x(),R("div",T({key:4,class:n.cx("footer")},n.ptm("footer")),[K(n.$slots,"footer")],16)):j("",!0),G("div",T({ref:"resizeHelper",class:n.cx("columnResizeIndicator"),style:{display:"none"}},n.ptm("columnResizeIndicator")),null,16),n.reorderableColumns?(x(),R("span",T({key:5,ref:"reorderIndicatorUp",class:n.cx("rowReorderIndicatorUp"),style:{position:"absolute",display:"none"}},n.ptm("rowReorderIndicatorUp")),[(x(),N(re(n.$slots.rowreorderindicatorupicon||n.$slots.reorderindicatorupicon||"ArrowDownIcon")))],16)):j("",!0),n.reorderableColumns?(x(),R("span",T({key:6,ref:"reorderIndicatorDown",class:n.cx("rowReorderIndicatorDown"),style:{position:"absolute",display:"none"}},n.ptm("rowReorderIndicatorDown")),[(x(),N(re(n.$slots.rowreorderindicatordownicon||n.$slots.reorderindicatordownicon||"ArrowUpIcon")))],16)):j("",!0)],16)}PI.render=TY;var va=Uu(),kY={install:function(e){var t={open:function(o,i){var s={content:o&&Hf(o),options:i||{},data:i&&i.data,close:function(l){va.emit("close",{instance:s,params:l})}};return va.emit("open",{instance:s}),s}};e.config.globalProperties.$dialog=t,e.provide(T8,t)}},EY=function(e){var t=e.dt;return`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: `.concat(t("tooltip.max.width"),`;
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 `).concat(t("tooltip.gutter"),`;
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: `).concat(t("tooltip.gutter"),` 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: `).concat(t("tooltip.background"),`;
    color: `).concat(t("tooltip.color"),`;
    padding: `).concat(t("tooltip.padding"),`;
    box-shadow: `).concat(t("tooltip.shadow"),`;
    border-radius: `).concat(t("tooltip.border.radius"),`;
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
}

.p-tooltip-right .p-tooltip-arrow {
    margin-top: calc(-1 * `).concat(t("tooltip.gutter"),`);
    border-width: `).concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter"),` 0;
    border-right-color: `).concat(t("tooltip.background"),`;
}

.p-tooltip-left .p-tooltip-arrow {
    margin-top: calc(-1 * `).concat(t("tooltip.gutter"),`);
    border-width: `).concat(t("tooltip.gutter")," 0 ").concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter"),`;
    border-left-color: `).concat(t("tooltip.background"),`;
}

.p-tooltip-top .p-tooltip-arrow {
    margin-left: calc(-1 * `).concat(t("tooltip.gutter"),`);
    border-width: `).concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter")," 0 ").concat(t("tooltip.gutter"),`;
    border-top-color: `).concat(t("tooltip.background"),`;
    border-bottom-color: `).concat(t("tooltip.background"),`;
}

.p-tooltip-bottom .p-tooltip-arrow {
    margin-left: calc(-1 * `).concat(t("tooltip.gutter"),`);
    border-width: 0 `).concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter")," ").concat(t("tooltip.gutter"),`;
    border-top-color: `).concat(t("tooltip.background"),`;
    border-bottom-color: `).concat(t("tooltip.background"),`;
}
`)},AY={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},PY=he.extend({name:"tooltip-directive",theme:EY,classes:AY}),IY=Oe.extend({style:PY});function RY(n,e){return MY(n)||DY(n,e)||OY(n,e)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(n,e){if(n){if(typeof n=="string")return NC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?NC(n,e):void 0}}function NC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function DY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function MY(n){if(Array.isArray(n))return n}function $C(n,e,t){return(e=FY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FY(n){var e=LY(n,"string");return $i(e)=="symbol"?e:e+""}function LY(n,e){if($i(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if($i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $i(n){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(n)}var NY=IY.extend("tooltip",{beforeMount:function(e,t){var r,o=this.getTarget(e);if(o.$_ptooltipModifiers=this.getModifiers(t),t.value){if(typeof t.value=="string")o.$_ptooltipValue=t.value,o.$_ptooltipDisabled=!1,o.$_ptooltipEscape=!0,o.$_ptooltipClass=null,o.$_ptooltipFitContent=!0,o.$_ptooltipIdAttr=$t()+"_tooltip",o.$_ptooltipShowDelay=0,o.$_ptooltipHideDelay=0,o.$_ptooltipAutoHide=!0;else if($i(t.value)==="object"&&t.value){if(Yt(t.value.value)||t.value.value.trim()==="")return;o.$_ptooltipValue=t.value.value,o.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,o.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,o.$_ptooltipClass=t.value.class||"",o.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,o.$_ptooltipIdAttr=t.value.id||$t()+"_tooltip",o.$_ptooltipShowDelay=t.value.showDelay||0,o.$_ptooltipHideDelay=t.value.hideDelay||0,o.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0}}else return;o.$_ptooltipZIndex=(r=t.instance.$primevue)===null||r===void 0||(r=r.config)===null||r===void 0||(r=r.zIndex)===null||r===void 0?void 0:r.tooltip,this.bindEvents(o,t),e.setAttribute("data-pd-tooltip",!0)},updated:function(e,t){var r=this.getTarget(e);if(r.$_ptooltipModifiers=this.getModifiers(t),this.unbindEvents(r),!!t.value){if(typeof t.value=="string")r.$_ptooltipValue=t.value,r.$_ptooltipDisabled=!1,r.$_ptooltipEscape=!0,r.$_ptooltipClass=null,r.$_ptooltipIdAttr=r.$_ptooltipIdAttr||$t()+"_tooltip",r.$_ptooltipShowDelay=0,r.$_ptooltipHideDelay=0,r.$_ptooltipAutoHide=!0,this.bindEvents(r,t);else if($i(t.value)==="object"&&t.value)if(Yt(t.value.value)||t.value.value.trim()===""){this.unbindEvents(r,t);return}else r.$_ptooltipValue=t.value.value,r.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,r.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,r.$_ptooltipClass=t.value.class||"",r.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,r.$_ptooltipIdAttr=t.value.id||r.$_ptooltipIdAttr||$t()+"_tooltip",r.$_ptooltipShowDelay=t.value.showDelay||0,r.$_ptooltipHideDelay=t.value.hideDelay||0,r.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0,this.bindEvents(r,t)}},unmounted:function(e,t){var r=this.getTarget(e);this.remove(r),this.unbindEvents(r,t),r.$_ptooltipScrollHandler&&(r.$_ptooltipScrollHandler.destroy(),r.$_ptooltipScrollHandler=null)},timer:void 0,methods:{bindEvents:function(e,t){var r=this,o=e.$_ptooltipModifiers;o.focus?(e.$_focusevent=function(i){return r.onFocus(i,t)},e.addEventListener("focus",e.$_focusevent),e.addEventListener("blur",this.onBlur.bind(this))):(e.$_mouseenterevent=function(i){return r.onMouseEnter(i,t)},e.addEventListener("mouseenter",e.$_mouseenterevent),e.addEventListener("mouseleave",this.onMouseLeave.bind(this)),e.addEventListener("click",this.onClick.bind(this))),e.addEventListener("keydown",this.onKeydown.bind(this))},unbindEvents:function(e){var t=e.$_ptooltipModifiers;t.focus?(e.removeEventListener("focus",e.$_focusevent),e.$_focusevent=null,e.removeEventListener("blur",this.onBlur.bind(this))):(e.removeEventListener("mouseenter",e.$_mouseenterevent),e.$_mouseenterevent=null,e.removeEventListener("mouseleave",this.onMouseLeave.bind(this)),e.removeEventListener("click",this.onClick.bind(this))),e.removeEventListener("keydown",this.onKeydown.bind(this))},bindScrollListener:function(e){var t=this;e.$_ptooltipScrollHandler||(e.$_ptooltipScrollHandler=new md(e,function(){t.hide(e)})),e.$_ptooltipScrollHandler.bindScrollListener()},unbindScrollListener:function(e){e.$_ptooltipScrollHandler&&e.$_ptooltipScrollHandler.unbindScrollListener()},onMouseEnter:function(e,t){var r=e.currentTarget,o=r.$_ptooltipShowDelay;this.show(r,t,o)},onMouseLeave:function(e){var t=e.currentTarget,r=t.$_ptooltipHideDelay,o=t.$_ptooltipAutoHide;if(o)this.hide(t,r);else{var i=Ze(e.target,"data-pc-name")==="tooltip"||Ze(e.target,"data-pc-section")==="arrow"||Ze(e.target,"data-pc-section")==="text"||Ze(e.relatedTarget,"data-pc-name")==="tooltip"||Ze(e.relatedTarget,"data-pc-section")==="arrow"||Ze(e.relatedTarget,"data-pc-section")==="text";!i&&this.hide(t,r)}},onFocus:function(e,t){var r=e.currentTarget,o=r.$_ptooltipShowDelay;this.show(r,t,o)},onBlur:function(e){var t=e.currentTarget,r=t.$_ptooltipHideDelay;this.hide(t,r)},onClick:function(e){var t=e.currentTarget,r=t.$_ptooltipHideDelay;this.hide(t,r)},onKeydown:function(e){var t=e.currentTarget,r=t.$_ptooltipHideDelay;e.code==="Escape"&&this.hide(e.currentTarget,r)},tooltipActions:function(e,t){if(!(e.$_ptooltipDisabled||!O8(e))){var r=this.create(e,t);this.align(e),!this.isUnstyled()&&Jz(r,250);var o=this;window.addEventListener("resize",function i(){_l()||o.hide(e),window.removeEventListener("resize",i)}),r.addEventListener("mouseleave",function i(){o.hide(e),r.removeEventListener("mouseleave",i),e.removeEventListener("mouseenter",e.$_mouseenterevent),setTimeout(function(){return e.addEventListener("mouseenter",e.$_mouseenterevent)},50)}),this.bindScrollListener(e),At.set("tooltip",r,e.$_ptooltipZIndex)}},show:function(e,t,r){var o=this;r!==void 0?this.timer=setTimeout(function(){return o.tooltipActions(e,t)},r):this.tooltipActions(e,t)},tooltipRemoval:function(e){this.remove(e),this.unbindScrollListener(e)},hide:function(e,t){var r=this;clearTimeout(this.timer),t!==void 0?setTimeout(function(){return r.tooltipRemoval(e)},t):this.tooltipRemoval(e)},getTooltipElement:function(e){return document.getElementById(e.$_ptooltipId)},create:function(e){var t=e.$_ptooltipModifiers,r=vc("div",{class:!this.isUnstyled()&&this.cx("arrow"),"p-bind":this.ptm("arrow",{context:t})}),o=vc("div",{class:!this.isUnstyled()&&this.cx("text"),"p-bind":this.ptm("text",{context:t})});e.$_ptooltipEscape?(o.innerHTML="",o.appendChild(document.createTextNode(e.$_ptooltipValue))):o.innerHTML=e.$_ptooltipValue;var i=vc("div",$C($C({id:e.$_ptooltipIdAttr,role:"tooltip",style:{display:"inline-block",width:e.$_ptooltipFitContent?"fit-content":void 0,pointerEvents:!this.isUnstyled()&&e.$_ptooltipAutoHide&&"none"},class:[!this.isUnstyled()&&this.cx("root"),e.$_ptooltipClass]},this.$attrSelector,""),"p-bind",this.ptm("root",{context:t})),r,o);return document.body.appendChild(i),e.$_ptooltipId=i.id,this.$el=i,i},remove:function(e){if(e){var t=this.getTooltipElement(e);t&&t.parentElement&&(At.clear(t),document.body.removeChild(t)),e.$_ptooltipId=null}},align:function(e){var t=e.$_ptooltipModifiers;t.top?(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignTop(e))):t.left?(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignLeft(e))))):t.bottom?(this.alignBottom(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&this.alignBottom(e))):(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignRight(e)))))},getHostOffset:function(e){var t=e.getBoundingClientRect(),r=t.left+P8(),o=t.top+I8();return{left:r,top:o}},alignRight:function(e){this.preAlign(e,"right");var t=this.getTooltipElement(e),r=this.getHostOffset(e),o=r.left+Rt(e),i=r.top+(sr(e)-sr(t))/2;t.style.left=o+"px",t.style.top=i+"px"},alignLeft:function(e){this.preAlign(e,"left");var t=this.getTooltipElement(e),r=this.getHostOffset(e),o=r.left-Rt(t),i=r.top+(sr(e)-sr(t))/2;t.style.left=o+"px",t.style.top=i+"px"},alignTop:function(e){this.preAlign(e,"top");var t=this.getTooltipElement(e),r=this.getHostOffset(e),o=r.left+(Rt(e)-Rt(t))/2,i=r.top-sr(t);t.style.left=o+"px",t.style.top=i+"px"},alignBottom:function(e){this.preAlign(e,"bottom");var t=this.getTooltipElement(e),r=this.getHostOffset(e),o=r.left+(Rt(e)-Rt(t))/2,i=r.top+sr(e);t.style.left=o+"px",t.style.top=i+"px"},preAlign:function(e,t){var r=this.getTooltipElement(e);r.style.left="-999px",r.style.top="-999px",uo(r,"p-tooltip-".concat(r.$_ptooltipPosition)),!this.isUnstyled()&&jo(r,"p-tooltip-".concat(t)),r.$_ptooltipPosition=t,r.setAttribute("data-p-position",t);var o=an(r,'[data-pc-section="arrow"]');o.style.top=t==="bottom"?"0":t==="right"||t==="left"||t!=="right"&&t!=="left"&&t!=="top"&&t!=="bottom"?"50%":null,o.style.bottom=t==="top"?"0":null,o.style.left=t==="right"||t!=="right"&&t!=="left"&&t!=="top"&&t!=="bottom"?"0":t==="top"||t==="bottom"?"50%":null,o.style.right=t==="left"?"0":null},isOutOfBounds:function(e){var t=this.getTooltipElement(e),r=t.getBoundingClientRect(),o=r.top,i=r.left,s=Rt(t),a=sr(t),l=nm();return i+s>l.width||i<0||o<0||o+a>l.height},getTarget:function(e){var t;return E8(e,"p-inputwrapper")&&(t=an(e,"input"))!==null&&t!==void 0?t:e},getModifiers:function(e){return e.modifiers&&Object.keys(e.modifiers).length?e.modifiers:e.arg&&$i(e.arg)==="object"?Object.entries(e.arg).reduce(function(t,r){var o=RY(r,2),i=o[0],s=o[1];return(i==="event"||i==="position")&&(t[s]=!0),t},{}):{}}}}),$Y=he.extend({name:"dynamicdialog"}),UY={name:"BaseDynamicDialog",extends:we,props:{},style:$Y,provide:function(){return{$pcDynamicDialog:this,$parentInstance:this}}},II={name:"DynamicDialog",extends:UY,inheritAttrs:!1,data:function(){return{instanceMap:{}}},openListener:null,closeListener:null,currentInstance:null,mounted:function(){var e=this;this.openListener=function(t){var r=t.instance,o=$t()+"_dynamic_dialog";r.visible=!0,r.key=o,e.instanceMap[o]=r},this.closeListener=function(t){var r=t.instance,o=t.params,i=r.key,s=e.instanceMap[i];s&&(s.visible=!1,s.options.onClose&&s.options.onClose({data:o,type:"config-close"}),e.currentInstance=s)},va.on("open",this.openListener),va.on("close",this.closeListener)},beforeUnmount:function(){va.off("open",this.openListener),va.off("close",this.closeListener)},methods:{onDialogHide:function(e){!this.currentInstance&&e.options.onClose&&e.options.onClose({type:"dialog-close"})},onDialogAfterHide:function(){this.currentInstance&&delete this.currentInstance,this.currentInstance=null},getTemplateItems:function(e){return Array.isArray(e)?e:[e]}},components:{DDialog:k_}};function GY(n,e,t,r,o,i){var s=X("DDialog");return x(!0),R(oe,null,st(o.instanceMap,function(a,l){return x(),N(s,T({key:l,visible:a.visible,"onUpdate:visible":function(u){return a.visible=u},_instance:a,ref_for:!0},a.options.props,{onHide:function(u){return i.onDialogHide(a)},onAfterHide:i.onDialogAfterHide}),Ui({default:q(function(){return[(x(),N(re(a.content),T({ref_for:!0},a.options.emits),null,16))]}),_:2},[a.options.templates&&a.options.templates.header?{name:"header",fn:q(function(){return[(x(!0),R(oe,null,st(i.getTemplateItems(a.options.templates.header),function(c,u){return x(),N(re(c),T({key:u+"_header",ref_for:!0},a.options.emits),null,16)}),128))]}),key:"0"}:void 0,a.options.templates&&a.options.templates.footer?{name:"footer",fn:q(function(){return[(x(!0),R(oe,null,st(i.getTemplateItems(a.options.templates.footer),function(c,u){return x(),N(re(c),T({key:u+"_footer",ref_for:!0},a.options.emits),null,16)}),128))]}),key:"1"}:void 0]),1040,["visible","onUpdate:visible","_instance","onHide","onAfterHide"])}),128)}II.render=GY;var VY=function(e){var t=e.dt;return`
.p-floatlabel {
    display: block;
    position: relative;
}

.p-floatlabel label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    transform: translateY(-50%);
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
    font-weight: `.concat(t("floatlabel.font.weight"),`;
    inset-inline-start: `).concat(t("floatlabel.position.x"),`;
    color: `).concat(t("floatlabel.color"),`;
    transition-duration: `).concat(t("floatlabel.transition.duration"),`;
}

.p-floatlabel:has(.p-textarea) label {
    top: `).concat(t("floatlabel.position.y"),`;
    transform: translateY(0);
}

.p-floatlabel:has(.p-inputicon:first-child) label {
    inset-inline-start: calc((`).concat(t("form.field.padding.x")," * 2) + ").concat(t("icon.size"),`);
}

.p-floatlabel:has(.p-invalid) label {
    color: `).concat(t("floatlabel.invalid.color"),`;
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-focus) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    top: `).concat(t("floatlabel.over.active.top"),`;
    transform: translateY(0);
    font-size: `).concat(t("floatlabel.active.font.size"),`;
    font-weight: `).concat(t("floatlabel.label.active.font.weight"),`;
}

.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    color: `).concat(t("floatlabel.active.color"),`;
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(.p-inputwrapper-focus) label {
    color: `).concat(t("floatlabel.focus.color"),`;
}

.p-floatlabel-in .p-inputtext,
.p-floatlabel-in .p-textarea,
.p-floatlabel-in .p-select-label,
.p-floatlabel-in .p-multiselect-label,
.p-floatlabel-in .p-autocomplete-input-multiple,
.p-floatlabel-in .p-cascadeselect-label,
.p-floatlabel-in .p-treeselect-label {
    padding-block-start: `).concat(t("floatlabel.in.input.padding.top"),`;
    padding-block-end: `).concat(t("floatlabel.in.input.padding.bottom"),`;
}

.p-floatlabel-in:has(input:focus) label,
.p-floatlabel-in:has(input.p-filled) label,
.p-floatlabel-in:has(input:-webkit-autofill) label,
.p-floatlabel-in:has(textarea:focus) label,
.p-floatlabel-in:has(textarea.p-filled) label,
.p-floatlabel-in:has(.p-inputwrapper-focus) label,
.p-floatlabel-in:has(.p-inputwrapper-filled) label {
    top: `).concat(t("floatlabel.in.active.top"),`;
}

.p-floatlabel-on:has(input:focus) label,
.p-floatlabel-on:has(input.p-filled) label,
.p-floatlabel-on:has(input:-webkit-autofill) label,
.p-floatlabel-on:has(textarea:focus) label,
.p-floatlabel-on:has(textarea.p-filled) label,
.p-floatlabel-on:has(.p-inputwrapper-focus) label,
.p-floatlabel-on:has(.p-inputwrapper-filled) label {
    top: 0;
    transform: translateY(-50%);
    border-radius: `).concat(t("floatlabel.on.border.radius"),`;
    background: `).concat(t("floatlabel.on.active.background"),`;
    padding: `).concat(t("floatlabel.on.active.padding"),`;
}
`)},zY={root:function(e){e.instance;var t=e.props;return["p-floatlabel",{"p-floatlabel-over":t.variant==="over","p-floatlabel-on":t.variant==="on","p-floatlabel-in":t.variant==="in"}]}},HY=he.extend({name:"floatlabel",theme:VY,classes:zY}),jY={name:"BaseFloatLabel",extends:we,props:{variant:{type:String,default:"over"}},style:HY,provide:function(){return{$pcFloatLabel:this,$parentInstance:this}}},RI={name:"FloatLabel",extends:jY,inheritAttrs:!1};function WY(n,e,t,r,o,i){return x(),R("span",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default")],16)}RI.render=WY;var v0={name:"ExclamationTriangleIcon",extends:qe};function KY(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"},null,-1),G("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"},null,-1),G("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"},null,-1)]),16)}v0.render=KY;var y0={name:"InfoCircleIcon",extends:qe};function XY(n,e,t,r,o,i){return x(),R("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),e[0]||(e[0]=[G("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"},null,-1)]),16)}y0.render=XY;var qY=function(e){var t=e.dt;return`
.p-inputgroup,
.p-inputgroup .p-floatlabel,
.p-inputgroup .p-iftalabel {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper {
    flex: 1 1 auto;
    width: 1%;
}

.p-inputgroupaddon {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: `.concat(t("inputgroup.addon.padding"),`;
    background: `).concat(t("inputgroup.addon.background"),`;
    color: `).concat(t("inputgroup.addon.color"),`;
    border-block-start: 1px solid `).concat(t("inputgroup.addon.border.color"),`;
    border-block-end: 1px solid `).concat(t("inputgroup.addon.border.color"),`;
    min-width: `).concat(t("inputgroup.addon.min.width"),`;
}

.p-inputgroupaddon:first-child,
.p-inputgroupaddon + .p-inputgroupaddon {
    border-inline-start: 1px solid `).concat(t("inputgroup.addon.border.color"),`;
}

.p-inputgroupaddon:last-child {
    border-inline-end: 1px solid `).concat(t("inputgroup.addon.border.color"),`;
}

.p-inputgroupaddon:has(.p-button) {
    padding: 0;
    overflow: hidden;
}

.p-inputgroupaddon .p-button {
    border-radius: 0;
}

.p-inputgroup > .p-component,
.p-inputgroup > .p-inputwrapper > .p-component,
.p-inputgroup > .p-floatlabel > .p-component,
.p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel > .p-component,
.p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
    border-radius: 0;
    margin: 0;
}

.p-inputgroupaddon:first-child,
.p-inputgroup > .p-component:first-child,
.p-inputgroup > .p-inputwrapper:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
    border-start-start-radius: `).concat(t("inputgroup.addon.border.radius"),`;
    border-end-start-radius: `).concat(t("inputgroup.addon.border.radius"),`;
}

.p-inputgroupaddon:last-child,
.p-inputgroup > .p-component:last-child,
.p-inputgroup > .p-inputwrapper:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
    border-start-end-radius: `).concat(t("inputgroup.addon.border.radius"),`;
    border-end-end-radius: `).concat(t("inputgroup.addon.border.radius"),`;
}

.p-inputgroup .p-component:focus,
.p-inputgroup .p-component.p-focus,
.p-inputgroup .p-inputwrapper-focus,
.p-inputgroup .p-component:focus ~ label,
.p-inputgroup .p-component.p-focus ~ label,
.p-inputgroup .p-inputwrapper-focus ~ label {
    z-index: 1;
}

.p-inputgroup > .p-button:not(.p-button-icon-only) {
    width: auto;
}
`)},YY={root:"p-inputgroup"},ZY=he.extend({name:"inputgroup",theme:qY,classes:YY}),JY={name:"BaseInputGroup",extends:we,style:ZY,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},BI={name:"InputGroup",extends:JY,inheritAttrs:!1};function QY(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default")],16)}BI.render=QY;var eZ={root:"p-inputgroupaddon"},tZ=he.extend({name:"inputgroupaddon",classes:eZ}),nZ={name:"BaseInputGroupAddon",extends:we,style:tZ,provide:function(){return{$pcInputGroupAddon:this,$parentInstance:this}}},OI={name:"InputGroupAddon",extends:nZ,inheritAttrs:!1};function rZ(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default")],16)}OI.render=rZ;var oZ=function(e){var t=e.dt;return`
.p-menubar {
    display: flex;
    align-items: center;
    background: `.concat(t("menubar.background"),`;
    border: 1px solid `).concat(t("menubar.border.color"),`;
    border-radius: `).concat(t("menubar.border.radius"),`;
    color: `).concat(t("menubar.color"),`;
    padding: `).concat(t("menubar.padding"),`;
    gap: `).concat(t("menubar.gap"),`;
}

.p-menubar-start,
.p-megamenu-end {
    display: flex;
    align-items: center;
}

.p-menubar-root-list,
.p-menubar-submenu {
    display: flex;
    margin: 0;
    padding: 0;
    list-style: none;
    outline: 0 none;
}

.p-menubar-root-list {
    align-items: center;
    flex-wrap: wrap;
    gap: `).concat(t("menubar.gap"),`;
}

.p-menubar-root-list > .p-menubar-item > .p-menubar-item-content {
    border-radius: `).concat(t("menubar.base.item.border.radius"),`;
}

.p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
    padding: `).concat(t("menubar.base.item.padding"),`;
}

.p-menubar-item-content {
    transition: background `).concat(t("menubar.transition.duration"),", color ").concat(t("menubar.transition.duration"),`;
    border-radius: `).concat(t("menubar.item.border.radius"),`;
    color: `).concat(t("menubar.item.color"),`;
}

.p-menubar-item-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
    color: inherit;
    padding: `).concat(t("menubar.item.padding"),`;
    gap: `).concat(t("menubar.item.gap"),`;
    user-select: none;
    outline: 0 none;
}

.p-menubar-item-label {
    line-height: 1;
}

.p-menubar-item-icon {
    color: `).concat(t("menubar.item.icon.color"),`;
}

.p-menubar-submenu-icon {
    color: `).concat(t("menubar.submenu.icon.color"),`;
    margin-left: auto;
    font-size: `).concat(t("menubar.submenu.icon.size"),`;
    width: `).concat(t("menubar.submenu.icon.size"),`;
    height: `).concat(t("menubar.submenu.icon.size"),`;
}

.p-menubar-submenu .p-menubar-submenu-icon:dir(rtl) {
    margin-left: 0;
    margin-right: auto;
    transform: rotate(180deg);
}

.p-menubar-item.p-focus > .p-menubar-item-content {
    color: `).concat(t("menubar.item.focus.color"),`;
    background: `).concat(t("menubar.item.focus.background"),`;
}

.p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-item-icon {
    color: `).concat(t("menubar.item.icon.focus.color"),`;
}

.p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-submenu-icon {
    color: `).concat(t("menubar.submenu.icon.focus.color"),`;
}

.p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover {
    color: `).concat(t("menubar.item.focus.color"),`;
    background: `).concat(t("menubar.item.focus.background"),`;
}

.p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-item-icon {
    color: `).concat(t("menubar.item.icon.focus.color"),`;
}

.p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-submenu-icon {
    color: `).concat(t("menubar.submenu.icon.focus.color"),`;
}

.p-menubar-item-active > .p-menubar-item-content {
    color: `).concat(t("menubar.item.active.color"),`;
    background: `).concat(t("menubar.item.active.background"),`;
}

.p-menubar-item-active > .p-menubar-item-content .p-menubar-item-icon {
    color: `).concat(t("menubar.item.icon.active.color"),`;
}

.p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
    color: `).concat(t("menubar.submenu.icon.active.color"),`;
}

.p-menubar-submenu {
    display: none;
    position: absolute;
    min-width: 12.5rem;
    z-index: 1;
    background: `).concat(t("menubar.submenu.background"),`;
    border: 1px solid `).concat(t("menubar.submenu.border.color"),`;
    border-radius: `).concat(t("menubar.submenu.border.radius"),`;
    box-shadow: `).concat(t("menubar.submenu.shadow"),`;
    color: `).concat(t("menubar.submenu.color"),`;
    flex-direction: column;
    padding: `).concat(t("menubar.submenu.padding"),`;
    gap: `).concat(t("menubar.submenu.gap"),`;
}

.p-menubar-submenu .p-menubar-separator {
    border-block-start: 1px solid `).concat(t("menubar.separator.border.color"),`;
}

.p-menubar-submenu .p-menubar-item {
    position: relative;
}

.p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu {
    display: block;
    left: 100%;
    top: 0;
}

.p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu:dir(rtl) {
    left: auto;
    right: 100%;
}

.p-menubar-end {
    margin-left: auto;
    align-self: center;
}

.p-menubar-end:dir(rtl) {
    margin-left: 0;
    margin-right: auto;
}

.p-menubar-button {
    display: none;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: `).concat(t("menubar.mobile.button.size"),`;
    height: `).concat(t("menubar.mobile.button.size"),`;
    position: relative;
    color: `).concat(t("menubar.mobile.button.color"),`;
    border: 0 none;
    background: transparent;
    border-radius: `).concat(t("menubar.mobile.button.border.radius"),`;
    transition: background `).concat(t("menubar.transition.duration"),", color ").concat(t("menubar.transition.duration"),", outline-color ").concat(t("menubar.transition.duration"),`;
    outline-color: transparent;
}

.p-menubar-button:hover {
    color: `).concat(t("menubar.mobile.button.hover.color"),`;
    background: `).concat(t("menubar.mobile.button.hover.background"),`;
}

.p-menubar-button:focus-visible {
    box-shadow: `).concat(t("menubar.mobile.button.focus.ring.shadow"),`;
    outline: `).concat(t("menubar.mobile.button.focus.ring.width")," ").concat(t("menubar.mobile.button.focus.ring.style")," ").concat(t("menubar.mobile.button.focus.ring.color"),`;
    outline-offset: `).concat(t("menubar.mobile.button.focus.ring.offset"),`;
}

.p-menubar-mobile {
    position: relative;
}

.p-menubar-mobile .p-menubar-button {
    display: flex;
}

.p-menubar-mobile .p-menubar-root-list {
    position: absolute;
    display: none;
    width: 100%;
    flex-direction: column;
    top: 100%;
    left: 0;
    z-index: 1;
    padding: `).concat(t("menubar.submenu.padding"),`;
    background: `).concat(t("menubar.submenu.background"),`;
    border: 1px solid `).concat(t("menubar.submenu.border.color"),`;
    box-shadow: `).concat(t("menubar.submenu.shadow"),`;
    border-radius: `).concat(t("menubar.submenu.border.radius"),`;
    gap: `).concat(t("menubar.submenu.gap"),`;
}

.p-menubar-mobile .p-menubar-root-list:dir(rtl) {
    left: auto;
    right: 0;
}

.p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
    padding: `).concat(t("menubar.item.padding"),`;
}

.p-menubar-mobile-active .p-menubar-root-list {
    display: flex;
}

.p-menubar-mobile .p-menubar-root-list .p-menubar-item {
    width: 100%;
    position: static;
}

.p-menubar-mobile .p-menubar-root-list .p-menubar-separator {
    border-block-start: 1px solid `).concat(t("menubar.separator.border.color"),`;
}

.p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon {
    margin-left: auto;
    transition: transform 0.2s;
}

.p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon:dir(rtl),
.p-menubar-mobile .p-menubar-submenu-icon:dir(rtl) {
    margin-left: 0;
    margin-right: auto;
}

.p-menubar-mobile .p-menubar-root-list > .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
    transform: rotate(-180deg);
}

.p-menubar-mobile .p-menubar-submenu .p-menubar-submenu-icon {
    transition: transform 0.2s;
    transform: rotate(90deg);
}

.p-menubar-mobile .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
    transform: rotate(-90deg);
}

.p-menubar-mobile .p-menubar-submenu {
    width: 100%;
    position: static;
    box-shadow: none;
    border: 0 none;
    padding-inline-start: `).concat(t("menubar.submenu.mobile.indent"),`;
    padding-inline-end: 0;
}
`)},iZ={submenu:function(e){var t=e.instance,r=e.processedItem;return{display:t.isItemActive(r)?"flex":"none"}}},sZ={root:function(e){var t=e.instance;return["p-menubar p-component",{"p-menubar-mobile":t.queryMatches,"p-menubar-mobile-active":t.mobileActive}]},start:"p-menubar-start",button:"p-menubar-button",rootList:"p-menubar-root-list",item:function(e){var t=e.instance,r=e.processedItem;return["p-menubar-item",{"p-menubar-item-active":t.isItemActive(r),"p-focus":t.isItemFocused(r),"p-disabled":t.isItemDisabled(r)}]},itemContent:"p-menubar-item-content",itemLink:"p-menubar-item-link",itemIcon:"p-menubar-item-icon",itemLabel:"p-menubar-item-label",submenuIcon:"p-menubar-submenu-icon",submenu:"p-menubar-submenu",separator:"p-menubar-separator",end:"p-menubar-end"},aZ=he.extend({name:"menubar",theme:oZ,classes:sZ,inlineStyles:iZ}),lZ={name:"BaseMenubar",extends:we,props:{model:{type:Array,default:null},buttonProps:{type:null,default:null},breakpoint:{type:String,default:"960px"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:aZ,provide:function(){return{$pcMenubar:this,$parentInstance:this}}},DI={name:"MenubarSub",hostName:"Menubar",extends:we,emits:["item-mouseenter","item-click","item-mousemove"],props:{items:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},templates:{type:Object,default:null},level:{type:Number,default:0},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},activeItemPath:{type:Object,default:null}},list:null,methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,t,r){return e&&e.item?Hn(e.item[t],r):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,t,r){return this.ptm(r,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e),level:this.level}})},isItemActive:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return pe(e.items)},onItemClick:function(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter:function(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemMouseMove:function(e,t){this.$emit("item-mousemove",{originalEvent:e,processedItem:t})},getAriaPosInset:function(e){return e-this.calculateAriaSetSize.slice(0,e).length+1},getMenuItemProps:function(e,t){return{action:T({class:this.cx("itemLink"),tabindex:-1,"aria-hidden":!0},this.getPTOptions(e,t,"itemLink")),icon:T({class:[this.cx("itemIcon"),this.getItemProp(e,"icon")]},this.getPTOptions(e,t,"itemIcon")),label:T({class:this.cx("itemLabel")},this.getPTOptions(e,t,"itemLabel")),submenuicon:T({class:this.cx("submenuIcon")},this.getPTOptions(e,t,"submenuIcon"))}}},computed:{calculateAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&e.getItemProp(t,"separator")})},getAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&!e.getItemProp(t,"separator")}).length}},components:{AngleRightIcon:S_,AngleDownIcon:I_},directives:{ripple:fn}},cZ=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset","data-p-active","data-p-focused","data-p-disabled"],uZ=["onClick","onMouseenter","onMousemove"],dZ=["href","target"],hZ=["id"],fZ=["id"];function pZ(n,e,t,r,o,i){var s=X("MenubarSub",!0),a=hn("ripple");return x(),R("ul",T({class:t.level===0?n.cx("rootList"):n.cx("submenu")},t.level===0?n.ptm("rootList"):n.ptm("submenu")),[(x(!0),R(oe,null,st(t.items,function(l,c){return x(),R(oe,{key:i.getItemKey(l)},[i.isItemVisible(l)&&!i.getItemProp(l,"separator")?(x(),R("li",T({key:0,id:i.getItemId(l),style:i.getItemProp(l,"style"),class:[n.cx("item",{processedItem:l}),i.getItemProp(l,"class")],role:"menuitem","aria-label":i.getItemLabel(l),"aria-disabled":i.isItemDisabled(l)||void 0,"aria-expanded":i.isItemGroup(l)?i.isItemActive(l):void 0,"aria-haspopup":i.isItemGroup(l)&&!i.getItemProp(l,"to")?"menu":void 0,"aria-level":t.level+1,"aria-setsize":i.getAriaSetSize,"aria-posinset":i.getAriaPosInset(c),ref_for:!0},i.getPTOptions(l,c,"item"),{"data-p-active":i.isItemActive(l),"data-p-focused":i.isItemFocused(l),"data-p-disabled":i.isItemDisabled(l)}),[G("div",T({class:n.cx("itemContent"),onClick:function(d){return i.onItemClick(d,l)},onMouseenter:function(d){return i.onItemMouseEnter(d,l)},onMousemove:function(d){return i.onItemMouseMove(d,l)},ref_for:!0},i.getPTOptions(l,c,"itemContent")),[t.templates.item?(x(),N(re(t.templates.item),{key:1,item:l.item,root:t.root,hasSubmenu:i.getItemProp(l,"items"),label:i.getItemLabel(l),props:i.getMenuItemProps(l,c)},null,8,["item","root","hasSubmenu","label","props"])):Gt((x(),R("a",T({key:0,href:i.getItemProp(l,"url"),class:n.cx("itemLink"),target:i.getItemProp(l,"target"),tabindex:"-1",ref_for:!0},i.getPTOptions(l,c,"itemLink")),[t.templates.itemicon?(x(),N(re(t.templates.itemicon),{key:0,item:l.item,class:ce(n.cx("itemIcon"))},null,8,["item","class"])):i.getItemProp(l,"icon")?(x(),R("span",T({key:1,class:[n.cx("itemIcon"),i.getItemProp(l,"icon")],ref_for:!0},i.getPTOptions(l,c,"itemIcon")),null,16)):j("",!0),G("span",T({id:i.getItemLabelId(l),class:n.cx("itemLabel"),ref_for:!0},i.getPTOptions(l,c,"itemLabel")),Be(i.getItemLabel(l)),17,hZ),i.getItemProp(l,"items")?(x(),R(oe,{key:2},[t.templates.submenuicon?(x(),N(re(t.templates.submenuicon),{key:0,root:t.root,active:i.isItemActive(l),class:ce(n.cx("submenuIcon"))},null,8,["root","active","class"])):(x(),N(re(t.root?"AngleDownIcon":"AngleRightIcon"),T({key:1,class:n.cx("submenuIcon"),ref_for:!0},i.getPTOptions(l,c,"submenuIcon")),null,16,["class"]))],64)):j("",!0)],16,dZ)),[[a]])],16,uZ),i.isItemVisible(l)&&i.isItemGroup(l)?(x(),N(s,{key:0,id:i.getItemId(l)+"_list",menuId:t.menuId,role:"menu",style:nl(n.sx("submenu",!0,{processedItem:l})),focusedItemId:t.focusedItemId,items:l.items,mobileActive:t.mobileActive,activeItemPath:t.activeItemPath,templates:t.templates,level:t.level+1,"aria-labelledby":i.getItemLabelId(l),pt:n.pt,unstyled:n.unstyled,onItemClick:e[0]||(e[0]=function(u){return n.$emit("item-click",u)}),onItemMouseenter:e[1]||(e[1]=function(u){return n.$emit("item-mouseenter",u)}),onItemMousemove:e[2]||(e[2]=function(u){return n.$emit("item-mousemove",u)})},null,8,["id","menuId","style","focusedItemId","items","mobileActive","activeItemPath","templates","level","aria-labelledby","pt","unstyled"])):j("",!0)],16,cZ)):j("",!0),i.isItemVisible(l)&&i.getItemProp(l,"separator")?(x(),R("li",T({key:1,id:i.getItemId(l),class:[n.cx("separator"),i.getItemProp(l,"class")],style:i.getItemProp(l,"style"),role:"separator",ref_for:!0},n.ptm("separator")),null,16,fZ)):j("",!0)],64)}),128))],16)}DI.render=pZ;var MI={name:"Menubar",extends:lZ,inheritAttrs:!1,emits:["focus","blur"],matchMediaListener:null,data:function(){return{id:this.$attrs.id,mobileActive:!1,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],dirty:!1,query:null,queryMatches:!1}},watch:{"$attrs.id":function(e){this.id=e||$t()},activeItemPath:function(e){pe(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())}},outsideClickListener:null,container:null,menubar:null,mounted:function(){this.id=this.id||$t(),this.bindMatchMediaListener()},beforeUnmount:function(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.container&&At.clear(this.container),this.container=null},methods:{getItemProp:function(e,t){return e?Hn(e[t]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemGroup:function(e){return pe(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&pe(e.items)},toggle:function(e){var t=this;this.mobileActive?(this.mobileActive=!1,At.clear(this.menubar),this.hide()):(this.mobileActive=!0,At.set("menu",this.menubar,this.$primevue.config.zIndex.menu),setTimeout(function(){t.show()},1)),this.bindOutsideClickListener(),e.preventDefault()},show:function(){Xe(this.menubar)},hide:function(e,t){var r=this;this.mobileActive&&(this.mobileActive=!1,setTimeout(function(){Xe(r.$refs.menubutton)},0)),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&Xe(this.menubar),this.dirty=!1},onFocus:function(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown:function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&b_(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e,t){var r=e.processedItem,o=e.isFocus;if(!Yt(r)){var i=r.index,s=r.key,a=r.level,l=r.parentKey,c=r.items,u=pe(c),d=this.activeItemPath.filter(function(h){return h.parentKey!==l&&h.parentKey!==s});u&&d.push(r),this.focusedItemInfo={index:i,level:a,parentKey:l},u&&(this.dirty=!0),o&&Xe(this.menubar),!(t==="hover"&&this.queryMatches)&&(this.activeItemPath=d)}},onItemClick:function(e){var t=e.originalEvent,r=e.processedItem,o=this.isProccessedItemGroup(r),i=Yt(r.parent),s=this.isSelected(r);if(s){var a=r.index,l=r.key,c=r.level,u=r.parentKey;this.activeItemPath=this.activeItemPath.filter(function(h){return l!==h.key&&l.startsWith(h.key)}),this.focusedItemInfo={index:a,level:c,parentKey:u},this.dirty=!i,Xe(this.menubar)}else if(o)this.onItemChange(e);else{var d=i?r:this.activeItemPath.find(function(h){return h.parentKey===""});this.hide(t),this.changeFocusedItemIndex(t,d?d.index:-1),this.mobileActive=!1,Xe(this.menubar)}},onItemMouseEnter:function(e){this.dirty&&this.onItemChange(e,"hover")},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},menuButtonClick:function(e){this.toggle(e)},menuButtonKeydown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&this.menuButtonClick(e)},onArrowDownKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index],r=t?Yt(t.parent):null;if(r){var o=this.isProccessedItemGroup(t);o&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowRightKey(e))}else{var i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i)}e.preventDefault()},onArrowUpKey:function(e){var t=this,r=this.visibleItems[this.focusedItemInfo.index],o=Yt(r.parent);if(o){var i=this.isProccessedItemGroup(r);if(i){this.onItemChange({originalEvent:e,processedItem:r}),this.focusedItemInfo={index:-1,parentKey:r.key};var s=this.findLastItemIndex();this.changeFocusedItemIndex(e,s)}}else{var a=this.activeItemPath.find(function(c){return c.key===r.parentKey});if(this.focusedItemInfo.index===0)this.focusedItemInfo={index:-1,parentKey:a?a.parentKey:""},this.searchValue="",this.onArrowLeftKey(e),this.activeItemPath=this.activeItemPath.filter(function(c){return c.parentKey!==t.focusedItemInfo.parentKey});else{var l=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,l)}}e.preventDefault()},onArrowLeftKey:function(e){var t=this,r=this.visibleItems[this.focusedItemInfo.index],o=r?this.activeItemPath.find(function(s){return s.key===r.parentKey}):null;if(o)this.onItemChange({originalEvent:e,processedItem:o}),this.activeItemPath=this.activeItemPath.filter(function(s){return s.parentKey!==t.focusedItemInfo.parentKey}),e.preventDefault();else{var i=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onArrowRightKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index],r=t?this.activeItemPath.find(function(s){return s.key===t.parentKey}):null;if(r){var o=this.isProccessedItemGroup(t);o&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowDownKey(e))}else{var i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var t=an(this.menubar,'li[id="'.concat("".concat(this.focusedItemId),'"]')),r=t&&an(t,'a[data-pc-section="itemlink"]');r?r.click():t&&t.click();var o=this.visibleItems[this.focusedItemInfo.index],i=this.isProccessedItemGroup(o);!i&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){if(this.focusedItemInfo.level!==0){var t=this.focusedItemInfo;this.hide(e,!1),this.focusedItemInfo={index:Number(t.parentKey.split("_")[0]),level:0,parentKey:""}}e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var t=this.visibleItems[this.focusedItemInfo.index],r=this.isProccessedItemGroup(t);!r&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var r=e.container&&!e.container.contains(t.target),o=!(e.target&&(e.target===t.target||e.target.contains(t.target)));r&&o&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(t){_l()||e.hide(t,!0),e.mobileActive=!1},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var t=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=t,this.queryMatches=t.matches,this.matchMediaListener=function(){e.queryMatches=t.matches,e.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isItemMatched:function(e){var t;return this.isValidItem(e)&&((t=this.getProccessedItemLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidItem(t)})},findLastItemIndex:function(){var e=this;return Oi(this.visibleItems,function(t){return e.isValidItem(t)})},findNextItemIndex:function(e){var t=this,r=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(o){return t.isValidItem(o)}):-1;return r>-1?r+e+1:e},findPrevItemIndex:function(e){var t=this,r=e>0?Oi(this.visibleItems.slice(0,e),function(o){return t.isValidItem(o)}):-1;return r>-1?r:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidSelectedItem(t)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,t){var r=this;this.searchValue=(this.searchValue||"")+t;var o=-1,i=!1;return this.focusedItemInfo.index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(s){return r.isItemMatched(s)}),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(s){return r.isItemMatched(s)}):o+this.focusedItemInfo.index):o=this.visibleItems.findIndex(function(s){return r.isItemMatched(s)}),o!==-1&&(i=!0),o===-1&&this.focusedItemInfo.index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),i},changeFocusedItemIndex:function(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,t=e!==-1?"".concat(this.id,"_").concat(e):this.focusedItemId,r=an(this.menubar,'li[id="'.concat(t,'"]'));r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",s=[];return e&&e.forEach(function(a,l){var c=(i!==""?i+"_":"")+l,u={item:a,index:l,level:r,key:c,parent:o,parentKey:i};u.items=t.createProcessedItems(a.items,r+1,u,c),s.push(u)}),s},containerRef:function(e){this.container=e},menubarRef:function(e){this.menubar=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,t=this.activeItemPath.find(function(r){return r.key===e.focusedItemInfo.parentKey});return t?t.items:this.processedItems},focusedItemId:function(){return this.focusedItemInfo.index!==-1?"".concat(this.id).concat(pe(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{MenubarSub:DI,BarsIcon:B_}};function Su(n){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(n)}function UC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function GC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(t),!0).forEach(function(r){mZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mZ(n,e,t){return(e=gZ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gZ(n){var e=bZ(n,"string");return Su(e)=="symbol"?e:e+""}function bZ(n,e){if(Su(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vZ=["aria-haspopup","aria-expanded","aria-controls","aria-label"];function yZ(n,e,t,r,o,i){var s=X("BarsIcon"),a=X("MenubarSub");return x(),R("div",T({ref:i.containerRef,class:n.cx("root")},n.ptmi("root")),[n.$slots.start?(x(),R("div",T({key:0,class:n.cx("start")},n.ptm("start")),[K(n.$slots,"start")],16)):j("",!0),K(n.$slots,n.$slots.button?"button":"menubutton",{id:o.id,class:ce(n.cx("button")),toggleCallback:function(c){return i.menuButtonClick(c)}},function(){var l;return[n.model&&n.model.length>0?(x(),R("a",T({key:0,ref:"menubutton",role:"button",tabindex:"0",class:n.cx("button"),"aria-haspopup":!!(n.model.length&&n.model.length>0),"aria-expanded":o.mobileActive,"aria-controls":o.id,"aria-label":(l=n.$primevue.config.locale.aria)===null||l===void 0?void 0:l.navigation,onClick:e[0]||(e[0]=function(c){return i.menuButtonClick(c)}),onKeydown:e[1]||(e[1]=function(c){return i.menuButtonKeydown(c)})},GC(GC({},n.buttonProps),n.ptm("button"))),[K(n.$slots,n.$slots.buttonicon?"buttonicon":"menubuttonicon",{},function(){return[W(s,Ds(R3(n.ptm("buttonicon"))),null,16)]})],16,vZ)):j("",!0)]}),W(a,{ref:i.menubarRef,id:o.id+"_list",role:"menubar",items:i.processedItems,templates:n.$slots,root:!0,mobileActive:o.mobileActive,tabindex:"0","aria-activedescendant":o.focused?i.focusedItemId:void 0,menuId:o.id,focusedItemId:o.focused?i.focusedItemId:void 0,activeItemPath:o.activeItemPath,level:0,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,pt:n.pt,unstyled:n.unstyled,onFocus:i.onFocus,onBlur:i.onBlur,onKeydown:i.onKeyDown,onItemClick:i.onItemClick,onItemMouseenter:i.onItemMouseEnter,onItemMousemove:i.onItemMouseMove},null,8,["id","items","templates","mobileActive","aria-activedescendant","menuId","focusedItemId","activeItemPath","aria-labelledby","aria-label","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"]),n.$slots.end?(x(),R("div",T({key:1,class:n.cx("end")},n.ptm("end")),[K(n.$slots,"end")],16)):j("",!0)],16)}MI.render=yZ;var _Z=function(e){var t=e.dt;return`
.p-multiselect {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: `.concat(t("multiselect.background"),`;
    border: 1px solid `).concat(t("multiselect.border.color"),`;
    transition: background `).concat(t("multiselect.transition.duration"),", color ").concat(t("multiselect.transition.duration"),", border-color ").concat(t("multiselect.transition.duration"),", outline-color ").concat(t("multiselect.transition.duration"),", box-shadow ").concat(t("multiselect.transition.duration"),`;
    border-radius: `).concat(t("multiselect.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("multiselect.shadow"),`;
}

.p-multiselect:not(.p-disabled):hover {
    border-color: `).concat(t("multiselect.hover.border.color"),`;
}

.p-multiselect:not(.p-disabled).p-focus {
    border-color: `).concat(t("multiselect.focus.border.color"),`;
    box-shadow: `).concat(t("multiselect.focus.ring.shadow"),`;
    outline: `).concat(t("multiselect.focus.ring.width")," ").concat(t("multiselect.focus.ring.style")," ").concat(t("multiselect.focus.ring.color"),`;
    outline-offset: `).concat(t("multiselect.focus.ring.offset"),`;
}

.p-multiselect.p-variant-filled {
    background: `).concat(t("multiselect.filled.background"),`;
}

.p-multiselect.p-variant-filled:not(.p-disabled):hover {
    background: `).concat(t("multiselect.filled.hover.background"),`;
}

.p-multiselect.p-variant-filled.p-focus {
    background: `).concat(t("multiselect.filled.focus.background"),`;
}

.p-multiselect.p-invalid {
    border-color: `).concat(t("multiselect.invalid.border.color"),`;
}

.p-multiselect.p-disabled {
    opacity: 1;
    background: `).concat(t("multiselect.disabled.background"),`;
}

.p-multiselect-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: `).concat(t("multiselect.dropdown.color"),`;
    width: `).concat(t("multiselect.dropdown.width"),`;
    border-start-end-radius: `).concat(t("multiselect.border.radius"),`;
    border-end-end-radius: `).concat(t("multiselect.border.radius"),`;
}

.p-multiselect-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: `).concat(t("multiselect.clear.icon.color"),`;
    inset-inline-end: `).concat(t("multiselect.dropdown.width"),`;
}

.p-multiselect-label-container {
    overflow: hidden;
    flex: 1 1 auto;
    cursor: pointer;
}

.p-multiselect-label {
    display: flex;
    align-items: center;
    gap: calc(`).concat(t("multiselect.padding.y"),` / 2);
    white-space: nowrap;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: `).concat(t("multiselect.padding.y")," ").concat(t("multiselect.padding.x"),`;
    color: `).concat(t("multiselect.color"),`;
}

.p-multiselect-label.p-placeholder {
    color: `).concat(t("multiselect.placeholder.color"),`;
}

.p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
    color: `).concat(t("multiselect.invalid.placeholder.color"),`;
}

.p-multiselect.p-disabled .p-multiselect-label {
    color: `).concat(t("multiselect.disabled.color"),`;
}

.p-multiselect-label-empty {
    overflow: hidden;
    visibility: hidden;
}

.p-multiselect .p-multiselect-overlay {
    min-width: 100%;
}

.p-multiselect-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(t("multiselect.overlay.background"),`;
    color: `).concat(t("multiselect.overlay.color"),`;
    border: 1px solid `).concat(t("multiselect.overlay.border.color"),`;
    border-radius: `).concat(t("multiselect.overlay.border.radius"),`;
    box-shadow: `).concat(t("multiselect.overlay.shadow"),`;
}

.p-multiselect-header {
    display: flex;
    align-items: center;
    padding: `).concat(t("multiselect.list.header.padding"),`;
}

.p-multiselect-header .p-checkbox {
    margin-inline-end: `).concat(t("multiselect.option.gap"),`;
}

.p-multiselect-filter-container {
    flex: 1 1 auto;
}

.p-multiselect-filter {
    width: 100%;
}

.p-multiselect-list-container {
    overflow: auto;
}

.p-multiselect-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: `).concat(t("multiselect.list.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(t("multiselect.list.gap"),`;
}

.p-multiselect-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: `).concat(t("multiselect.option.gap"),`;
    padding: `).concat(t("multiselect.option.padding"),`;
    border: 0 none;
    color: `).concat(t("multiselect.option.color"),`;
    background: transparent;
    transition: background `).concat(t("multiselect.transition.duration"),", color ").concat(t("multiselect.transition.duration"),", border-color ").concat(t("multiselect.transition.duration"),", box-shadow ").concat(t("multiselect.transition.duration"),", outline-color ").concat(t("multiselect.transition.duration"),`;
    border-radius: `).concat(t("multiselect.option.border.radius"),`;
}

.p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
    background: `).concat(t("multiselect.option.focus.background"),`;
    color: `).concat(t("multiselect.option.focus.color"),`;
}

.p-multiselect-option.p-multiselect-option-selected {
    background: `).concat(t("multiselect.option.selected.background"),`;
    color: `).concat(t("multiselect.option.selected.color"),`;
}

.p-multiselect-option.p-multiselect-option-selected.p-focus {
    background: `).concat(t("multiselect.option.selected.focus.background"),`;
    color: `).concat(t("multiselect.option.selected.focus.color"),`;
}

.p-multiselect-option-group {
    cursor: auto;
    margin: 0;
    padding: `).concat(t("multiselect.option.group.padding"),`;
    background: `).concat(t("multiselect.option.group.background"),`;
    color: `).concat(t("multiselect.option.group.color"),`;
    font-weight: `).concat(t("multiselect.option.group.font.weight"),`;
}

.p-multiselect-empty-message {
    padding: `).concat(t("multiselect.empty.message.padding"),`;
}

.p-multiselect-label .p-chip {
    padding-block-start: calc(`).concat(t("multiselect.padding.y"),` / 2);
    padding-block-end: calc(`).concat(t("multiselect.padding.y"),` / 2);
    border-radius: `).concat(t("multiselect.chip.border.radius"),`;
}

.p-multiselect-label:has(.p-chip) {
    padding: calc(`).concat(t("multiselect.padding.y")," / 2) calc(").concat(t("multiselect.padding.x"),` / 2);
}

.p-multiselect-fluid {
    display: flex;
}

.p-multiselect-sm .p-multiselect-label {
    font-size: `).concat(t("multiselect.sm.font.size"),`;
    padding-block: `).concat(t("multiselect.sm.padding.y"),`;
    padding-inline: `).concat(t("multiselect.sm.padding.x"),`;
}

.p-multiselect-sm .p-multiselect-dropdown .p-icon {
    font-size: `).concat(t("multiselect.sm.font.size"),`;
    width: `).concat(t("multiselect.sm.font.size"),`;
    height: `).concat(t("multiselect.sm.font.size"),`;
}

.p-multiselect-lg .p-multiselect-label {
    font-size: `).concat(t("multiselect.lg.font.size"),`;
    padding-block: `).concat(t("multiselect.lg.padding.y"),`;
    padding-inline: `).concat(t("multiselect.lg.padding.x"),`;
}

.p-multiselect-lg .p-multiselect-dropdown .p-icon {
    font-size: `).concat(t("multiselect.lg.font.size"),`;
    width: `).concat(t("multiselect.lg.font.size"),`;
    height: `).concat(t("multiselect.lg.font.size"),`;
}
`)},xZ={root:function(e){var t=e.props;return{position:t.appendTo==="self"?"relative":void 0}}},wZ={root:function(e){var t=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-display-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-focus":t.focused,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-multiselect-open":t.overlayVisible,"p-multiselect-fluid":t.$fluid,"p-multiselect-sm p-inputfield-sm":r.size==="small","p-multiselect-lg p-inputfield-lg":r.size==="large"}]},labelContainer:"p-multiselect-label-container",label:function(e){var t=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":t.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},clearIcon:"p-multiselect-clear-icon",chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:function(e){var t=e.instance,r=e.option,o=e.index,i=e.getItemOptions,s=e.props;return["p-multiselect-option",{"p-multiselect-option-selected":t.isSelected(r)&&s.highlightOnSelect,"p-focus":t.focusedOptionIndex===t.getOptionIndex(o,i),"p-disabled":t.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},CZ=he.extend({name:"multiselect",theme:_Z,classes:wZ,inlineStyles:xZ}),SZ={name:"BaseMultiSelect",extends:Sl,props:{options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},placeholder:String,inputId:{type:String,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},overlayClass:{type:String,default:null},overlayStyle:{type:null,default:null},dataKey:null,showClear:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},resetFilterOnClear:{type:Boolean,default:!1},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:null},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},chipIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:CZ,provide:function(){return{$pcMultiSelect:this,$parentInstance:this}}};function Tu(n){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(n)}function VC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function zC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(t),!0).forEach(function(r){FI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FI(n,e,t){return(e=TZ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TZ(n){var e=kZ(n,"string");return Tu(e)=="symbol"?e:e+""}function kZ(n,e){if(Tu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HC(n){return IZ(n)||PZ(n)||AZ(n)||EZ()}function EZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(n,e){if(n){if(typeof n=="string")return _0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_0(n,e):void 0}}function PZ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function IZ(n){if(Array.isArray(n))return _0(n)}function _0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var LI={name:"MultiSelect",extends:SZ,inheritAttrs:!1,emits:["change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],inject:{$pcFluid:{default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||$t()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||$t(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(At.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?Ae(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ae(e,this.optionValue):e},getOptionRenderKey:function(e,t){return this.dataKey?Ae(e,this.dataKey):this.getOptionLabel(e)+"_".concat(t)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,t,r,o){return this.ptm(o,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ae(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ae(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ae(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return t.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Xe(this.$refs.focusInput)},hide:function(e){var t=this,r=function(){t.$emit("before-hide"),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue="",t.resetFilterOnHide&&(t.filterValue=null),e&&Xe(t.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var t,r;this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e),(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r)},onKeyDown:function(e){var t=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var o=this.visibleOptions.filter(function(i){return t.isValidOption(i)}).map(function(i){return t.getOptionValue(i)});this.updateModel(e,o),e.preventDefault();break}!r&&b_(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?Ei(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Xe(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?f_(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Xe(t)},onOptionSelect:function(e,t){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(t))){var s=this.isSelected(t),a=null;s?a=this.d_value.filter(function(l){return!xn(l,r.getOptionValue(t),r.equalityKey)}):a=[].concat(HC(this.d_value||[]),[this.getOptionValue(t)]),this.updateModel(e,a),o!==-1&&(this.focusedOptionIndex=o),i&&Xe(this.$refs.focusInput)}},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onOptionSelectRange:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(r)),r!==-1&&o!==-1){var i=Math.min(r,o),s=Math.max(r,o),a=this.visibleOptions.slice(i,s+1).filter(function(l){return t.isValidOption(l)}).map(function(l){return t.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){dr.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,t),this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var o=e.metaKey||e.ctrlKey,i=this.findFirstOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,i,this.startRangeIndex),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex=-1}}else{var i=e.metaKey||e.ctrlKey,s=this.findLastOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,this.startRangeIndex,s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t||(this.overlayVisible&&this.hasFocusableElements()?(Xe(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){At.set("overlay",e,this.$primevue.config.zIndex.overlay),Bs(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Xe(this.$refs.filterInput.$el)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){At.clear(e)},alignOverlay:function(){this.appendTo==="self"?R8(this.overlay,this.$el):(this.overlay.style.minWidth=Rt(this.$el)+"px",rm(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.isOutsideClicked(t)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new md(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!_l()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var t=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],o=r.find(function(i){return!t.isOptionGroup(i)&&xn(t.getOptionValue(i),e,t.equalityKey)});return o?this.getOptionLabel(o):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,t=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(t)?t.replace(t.match(e)[0],this.d_value.length+""):t},onToggleAll:function(e){var t=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(o){return t.isValidOption(o)}).map(function(o){return t.getOptionValue(o)});this.updateModel(e,r)}},removeOption:function(e,t){var r=this;e.stopPropagation();var o=this.d_value.filter(function(i){return!xn(i,t,r.equalityKey)});this.updateModel(e,o)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return om(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return pe(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,t){return xn(e,t,this.equalityKey)},isSelected:function(e){var t=this,r=this.getOptionValue(e);return(this.d_value||[]).some(function(o){return t.isEquals(o,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return Oi(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return t.isValidOption(o)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var t=this,r=e>0?Oi(this.visibleOptions.slice(0,e),function(o){return t.isValidOption(o)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.$filled){for(var t=function(){var s=e.d_value[o],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(s,e.getOptionValue(l))});if(a>-1)return{v:a}},r,o=this.d_value.length-1;o>=0;o--)if(r=t(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.$filled?Oi(this.visibleOptions,function(t){return e.isValidSelectedOption(t)}):-1},findNextSelectedOptionIndex:function(e){var t=this,r=this.$filled&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return t.isValidSelectedOption(o)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var t=this,r=this.$filled&&e>0?Oi(this.visibleOptions.slice(0,e),function(o){return t.isValidSelectedOption(o)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.$filled&&(t?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var t=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;pe(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return t.isOptionMatched(o)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return t.isOptionMatched(o)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(o){return t.isOptionMatched(o)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){t.searchValue="",t.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t]))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=t!==-1?"".concat(e.id,"_").concat(t):e.focusedOptionId,o=an(e.list,'li[id="'.concat(r,'"]'));o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t!==-1?t:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.$filled){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,t){this.writeValue(t,e),this.$emit("change",{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(r,o,i){r.push({optionGroup:o,group:!0,index:i});var s=t.getOptionGroupChildren(o);return s&&s.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=If.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var o=this.options||[],i=[];return o.forEach(function(s){var a=e.getOptionGroupChildren(s),l=a.filter(function(c){return r.includes(c)});l.length>0&&i.push(zC(zC({},s),{},FI({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",HC(l))))}),this.flatOptions(i)}return r}return t},label:function(){var e;if(this.d_value&&this.d_value.length){if(pe(this.maxSelectedLabels)&&this.d_value.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var t=0;t<this.d_value.length;t++)t!==0&&(e+=", "),e+=this.getLabelByValue(this.d_value[t])}else e=this.placeholder;return e},chipSelectedItems:function(){return pe(this.maxSelectedLabels)&&this.d_value&&this.d_value.length>this.maxSelectedLabels},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:pe(this.visibleOptions)&&this.visibleOptions.every(function(t){return e.isOptionGroup(t)||e.isOptionDisabled(t)||e.isSelected(t)})},hasSelectedOption:function(){return this.$filled},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.d_value&&this.d_value.length===this.selectionLimit},filterResultMessageText:function(){return pe(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}",this.d_value.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},hasFluid:function(){return Yt(this.fluid)?!!this.$pcFluid:this.fluid},isClearIconVisible:function(){return this.showClear&&this.d_value!=null&&pe(this.options)}},directives:{ripple:fn},components:{InputText:bd,Checkbox:yd,VirtualScroller:lm,Portal:zs,Chip:H8,IconField:A_,InputIcon:P_,TimesIcon:Tl,SearchIcon:E_,ChevronDownIcon:wl,SpinnerIcon:Cl,CheckIcon:ni}};function ku(n){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(n)}function jC(n,e,t){return(e=RZ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RZ(n){var e=BZ(n,"string");return ku(e)=="symbol"?e:e+""}function BZ(n,e){if(ku(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OZ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],DZ={key:0},MZ=["id","aria-label"],FZ=["id"],LZ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function NZ(n,e,t,r,o,i){var s=X("Chip"),a=X("SpinnerIcon"),l=X("Checkbox"),c=X("InputText"),u=X("SearchIcon"),d=X("InputIcon"),h=X("IconField"),f=X("VirtualScroller"),p=X("Portal"),m=hn("ripple");return x(),R("div",T({ref:"container",class:n.cx("root"),style:n.sx("root"),onClick:e[7]||(e[7]=function(){return i.onContainerClick&&i.onContainerClick.apply(i,arguments)})},n.ptmi("root")),[G("div",T({class:"p-hidden-accessible"},n.ptm("hiddenInputContainer"),{"data-p-hidden-accessible":!0}),[G("input",T({ref:"focusInput",id:n.inputId,type:"text",readonly:"",disabled:n.disabled,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?i.focusedOptionId:void 0,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)}),onKeydown:e[2]||(e[2]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},n.ptm("hiddenInput")),null,16,OZ)],16),G("div",T({class:n.cx("labelContainer")},n.ptm("labelContainer")),[G("div",T({class:n.cx("label")},n.ptm("label")),[K(n.$slots,"value",{value:n.d_value,placeholder:n.placeholder},function(){return[n.display==="comma"?(x(),R(oe,{key:0},[On(Be(i.label||"empty"),1)],64)):n.display==="chip"?(x(),R(oe,{key:1},[i.chipSelectedItems?(x(),R("span",DZ,Be(i.label),1)):(x(!0),R(oe,{key:1},st(n.d_value,function(g){return x(),R("span",T({key:i.getLabelByValue(g),class:n.cx("chipItem"),ref_for:!0},n.ptm("chipItem")),[K(n.$slots,"chip",{value:g,removeCallback:function(_){return i.removeOption(_,g)}},function(){return[W(s,{class:ce(n.cx("pcChip")),label:i.getLabelByValue(g),removeIcon:n.chipIcon||n.removeTokenIcon,removable:"",unstyled:n.unstyled,onRemove:function(_){return i.removeOption(_,g)},pt:n.ptm("pcChip")},{removeicon:q(function(){return[K(n.$slots,n.$slots.chipicon?"chipicon":"removetokenicon",{class:ce(n.cx("chipIcon")),item:g,removeCallback:function(_){return i.removeOption(_,g)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16)}),128)),!n.d_value||n.d_value.length===0?(x(),R(oe,{key:2},[On(Be(n.placeholder||"empty"),1)],64)):j("",!0)],64)):j("",!0)]})],16)],16),i.isClearIconVisible?K(n.$slots,"clearicon",{key:0,class:ce(n.cx("clearIcon")),clearCallback:i.onClearClick},function(){return[(x(),N(re(n.clearIcon?"i":"TimesIcon"),T({ref:"clearIcon",class:[n.cx("clearIcon"),n.clearIcon],onClick:i.onClearClick},n.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):j("",!0),G("div",T({class:n.cx("dropdown")},n.ptm("dropdown")),[n.loading?K(n.$slots,"loadingicon",{key:0,class:ce(n.cx("loadingIcon"))},function(){return[n.loadingIcon?(x(),R("span",T({key:0,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon],"aria-hidden":"true"},n.ptm("loadingIcon")),null,16)):(x(),N(a,T({key:1,class:n.cx("loadingIcon"),spin:"","aria-hidden":"true"},n.ptm("loadingIcon")),null,16,["class"]))]}):K(n.$slots,"dropdownicon",{key:1,class:ce(n.cx("dropdownIcon"))},function(){return[(x(),N(re(n.dropdownIcon?"span":"ChevronDownIcon"),T({class:[n.cx("dropdownIcon"),n.dropdownIcon],"aria-hidden":"true"},n.ptm("dropdownIcon")),null,16,["class"]))]})],16),W(p,{appendTo:n.appendTo},{default:q(function(){return[W(ol,T({name:"p-connected-overlay",onEnter:i.onOverlayEnter,onAfterEnter:i.onOverlayAfterEnter,onLeave:i.onOverlayLeave,onAfterLeave:i.onOverlayAfterLeave},n.ptm("transition")),{default:q(function(){return[o.overlayVisible?(x(),R("div",T({key:0,ref:i.overlayRef,style:[n.panelStyle,n.overlayStyle],class:[n.cx("overlay"),n.panelClass,n.overlayClass],onClick:e[5]||(e[5]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),onKeydown:e[6]||(e[6]=function(){return i.onOverlayKeyDown&&i.onOverlayKeyDown.apply(i,arguments)})},n.ptm("overlay")),[G("span",T({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return i.onFirstHiddenFocus&&i.onFirstHiddenFocus.apply(i,arguments)})},n.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),K(n.$slots,"header",{value:n.d_value,options:i.visibleOptions}),n.showToggleAll&&n.selectionLimit==null||n.filter?(x(),R("div",T({key:0,class:n.cx("header")},n.ptm("header")),[n.showToggleAll&&n.selectionLimit==null?(x(),N(l,{key:0,modelValue:i.allSelected,binary:!0,disabled:n.disabled,variant:n.variant,"aria-label":i.toggleAllAriaLabel,onChange:i.onToggleAll,unstyled:n.unstyled,pt:i.getHeaderCheckboxPTOptions("pcHeaderCheckbox")},{icon:q(function(g){return[n.$slots.headercheckboxicon?(x(),N(re(n.$slots.headercheckboxicon),{key:0,checked:g.checked,class:ce(g.class)},null,8,["checked","class"])):g.checked?(x(),N(re(n.checkboxIcon?"span":"CheckIcon"),T({key:1,class:[g.class,jC({},n.checkboxIcon,g.checked)]},i.getHeaderCheckboxPTOptions("pcHeaderCheckbox.icon")),null,16,["class"])):j("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):j("",!0),n.filter?(x(),N(h,{key:1,class:ce(n.cx("pcFilterContainer")),unstyled:n.unstyled,pt:n.ptm("pcFilterContainer")},{default:q(function(){return[W(c,{ref:"filterInput",value:o.filterValue,onVnodeMounted:i.onFilterUpdated,onVnodeUpdated:i.onFilterUpdated,class:ce(n.cx("pcFilter")),placeholder:n.filterPlaceholder,disabled:n.disabled,variant:n.variant,unstyled:n.unstyled,role:"searchbox",autocomplete:"off","aria-owns":o.id+"_list","aria-activedescendant":i.focusedOptionId,onKeydown:i.onFilterKeyDown,onBlur:i.onFilterBlur,onInput:i.onFilterChange,pt:n.ptm("pcFilter")},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","disabled","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),W(d,{unstyled:n.unstyled,pt:n.ptm("pcFilterIconContainer")},{default:q(function(){return[K(n.$slots,"filtericon",{},function(){return[n.filterIcon?(x(),R("span",T({key:0,class:n.filterIcon},n.ptm("filterIcon")),null,16)):(x(),N(u,Ds(T({key:1},n.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["class","unstyled","pt"])):j("",!0),n.filter?(x(),R("span",T({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Be(i.filterResultMessageText),17)):j("",!0)],16)):j("",!0),G("div",T({class:n.cx("listContainer"),style:{"max-height":i.virtualScrollerDisabled?n.scrollHeight:""}},n.ptm("listContainer")),[W(f,T({ref:i.virtualScrollerRef},n.virtualScrollerOptions,{items:i.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:i.virtualScrollerDisabled,pt:n.ptm("virtualScroller")}),Ui({content:q(function(g){var b=g.styleClass,_=g.contentRef,v=g.items,y=g.getItemOptions,w=g.contentStyle,S=g.itemSize;return[G("ul",T({ref:function(k){return i.listRef(k,_)},id:o.id+"_list",class:[n.cx("list"),b],style:w,role:"listbox","aria-multiselectable":"true","aria-label":i.listAriaLabel},n.ptm("list")),[(x(!0),R(oe,null,st(v,function(C,k){return x(),R(oe,{key:i.getOptionRenderKey(C,i.getOptionIndex(k,y))},[i.isOptionGroup(C)?(x(),R("li",T({key:0,id:o.id+"_"+i.getOptionIndex(k,y),style:{height:S?S+"px":void 0},class:n.cx("optionGroup"),role:"option",ref_for:!0},n.ptm("optionGroup")),[K(n.$slots,"optiongroup",{option:C.optionGroup,index:i.getOptionIndex(k,y)},function(){return[On(Be(i.getOptionGroupLabel(C.optionGroup)),1)]})],16,FZ)):Gt((x(),R("li",T({key:1,id:o.id+"_"+i.getOptionIndex(k,y),style:{height:S?S+"px":void 0},class:n.cx("option",{option:C,index:k,getItemOptions:y}),role:"option","aria-label":i.getOptionLabel(C),"aria-selected":i.isSelected(C),"aria-disabled":i.isOptionDisabled(C),"aria-setsize":i.ariaSetSize,"aria-posinset":i.getAriaPosInset(i.getOptionIndex(k,y)),onClick:function(A){return i.onOptionSelect(A,C,i.getOptionIndex(k,y),!0)},onMousemove:function(A){return i.onOptionMouseMove(A,i.getOptionIndex(k,y))},ref_for:!0},i.getCheckboxPTOptions(C,y,k,"option"),{"data-p-selected":i.isSelected(C),"data-p-focused":o.focusedOptionIndex===i.getOptionIndex(k,y),"data-p-disabled":i.isOptionDisabled(C)}),[W(l,{defaultValue:i.isSelected(C),binary:!0,tabindex:-1,variant:n.variant,unstyled:n.unstyled,pt:i.getCheckboxPTOptions(C,y,k,"pcOptionCheckbox")},{icon:q(function(E){return[n.$slots.optioncheckboxicon||n.$slots.itemcheckboxicon?(x(),N(re(n.$slots.optioncheckboxicon||n.$slots.itemcheckboxicon),{key:0,checked:E.checked,class:ce(E.class)},null,8,["checked","class"])):E.checked?(x(),N(re(n.checkboxIcon?"span":"CheckIcon"),T({key:1,class:[E.class,jC({},n.checkboxIcon,E.checked)],ref_for:!0},i.getCheckboxPTOptions(C,y,k,"pcOptionCheckbox.icon")),null,16,["class"])):j("",!0)]}),_:2},1032,["defaultValue","variant","unstyled","pt"]),K(n.$slots,"option",{option:C,selected:i.isSelected(C),index:i.getOptionIndex(k,y)},function(){return[G("span",T({ref_for:!0},n.ptm("optionLabel")),Be(i.getOptionLabel(C)),17)]})],16,LZ)),[[m]])],64)}),128)),o.filterValue&&(!v||v&&v.length===0)?(x(),R("li",T({key:0,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage")),[K(n.$slots,"emptyfilter",{},function(){return[On(Be(i.emptyFilterMessageText),1)]})],16)):!n.options||n.options&&n.options.length===0?(x(),R("li",T({key:1,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage")),[K(n.$slots,"empty",{},function(){return[On(Be(i.emptyMessageText),1)]})],16)):j("",!0)],16,MZ)]}),_:2},[n.$slots.loader?{name:"loader",fn:q(function(g){var b=g.options;return[K(n.$slots,"loader",{options:b})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),K(n.$slots,"footer",{value:n.d_value,options:i.visibleOptions}),!n.options||n.options&&n.options.length===0?(x(),R("span",T({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Be(i.emptyMessageText),17)):j("",!0),G("span",T({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Be(i.selectedMessageText),17),G("span",T({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[4]||(e[4]=function(){return i.onLastHiddenFocus&&i.onLastHiddenFocus.apply(i,arguments)})},n.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):j("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}LI.render=NZ;var $Z=function(e){var t=e.dt;return`
.p-popover {
    margin-block-start: `.concat(t("popover.gutter"),`;
    background: `).concat(t("popover.background"),`;
    color: `).concat(t("popover.color"),`;
    border: 1px solid `).concat(t("popover.border.color"),`;
    border-radius: `).concat(t("popover.border.radius"),`;
    box-shadow: `).concat(t("popover.shadow"),`;
}

.p-popover-content {
    padding: `).concat(t("popover.content.padding"),`;
}

.p-popover-flipped {
    margin-block-start: calc(`).concat(t("popover.gutter"),` * -1);
    margin-block-end: `).concat(t("popover.gutter"),`;
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(`).concat(t("popover.arrow.offset")," + ").concat(t("popover.arrow.left"),`);
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(`).concat(t("popover.gutter"),` - 2px);
    margin-left: calc(-1 * (`).concat(t("popover.gutter"),` - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(t("popover.background"),`;
}

.p-popover:before {
    border-width: `).concat(t("popover.gutter"),`;
    margin-left: calc(-1 * `).concat(t("popover.gutter"),`);
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(t("popover.border.color"),`;
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: `).concat(t("popover.background"),`;
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: `).concat(t("popover.border.color"),`;
}
`)},UZ={root:"p-popover p-component",content:"p-popover-content"},GZ=he.extend({name:"popover",theme:$Z,classes:UZ}),VZ={name:"BasePopover",extends:we,props:{dismissable:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeOnEscape:{type:Boolean,default:!0}},style:GZ,provide:function(){return{$pcPopover:this,$parentInstance:this}}},NI={name:"Popover",extends:VZ,inheritAttrs:!1,emits:["show","hide"],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&At.clear(this.container),this.overlayEventListener&&(dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(e,t){this.visible?this.hide():this.show(e,t)},show:function(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(e){var t=this;Bs(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&At.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(r){t.container.contains(r.target)&&(t.selfClick=!0)},this.focus(),dr.on("overlay-click",this.overlayEventListener),this.$emit("show"),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),dr.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&At.clear(e)},alignOverlay:function(){rm(this.container,this.target,!1);var e=Cr(this.container),t=Cr(this.target),r=0;e.left<t.left&&(r=t.left-e.left),this.container.style.setProperty(GH("popover.arrow.left").name,"".concat(r,"px")),e.top<t.top&&(this.container.setAttribute("data-p-popover-flipped","true"),!this.isUnstyled&&jo(this.container,"p-popover-flipped"))},onContentKeydown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.hide(),Xe(this.target))},onButtonKeydown:function(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus:function(){var e=this.container.querySelector("[autofocus]");e&&e.focus()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;!this.outsideClickListener&&im()&&(this.outsideClickListener=function(t){e.visible&&!e.selfClick&&!e.isTargetClicked(t)&&(e.visible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new md(this.target,function(){e.visible&&(e.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!_l()&&(e.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked:function(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef:function(e){this.container=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",xl(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var r in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(r,`) {
                            .p-popover[`).concat(this.$attrSelector,`] {
                                width: `).concat(this.breakpoints[r],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick:function(e){dr.emit("overlay-click",{originalEvent:e,target:this.target})}},directives:{focustrap:T_,ripple:fn},components:{Portal:zs}},zZ=["aria-modal"];function HZ(n,e,t,r,o,i){var s=X("Portal"),a=hn("focustrap");return x(),N(s,{appendTo:n.appendTo},{default:q(function(){return[W(ol,T({name:"p-popover",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},n.ptm("transition")),{default:q(function(){return[o.visible?Gt((x(),R("div",T({key:0,ref:i.containerRef,role:"dialog","aria-modal":o.visible,onClick:e[3]||(e[3]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),class:n.cx("root")},n.ptmi("root")),[n.$slots.container?K(n.$slots,"container",{key:0,closeCallback:i.hide,keydownCallback:function(c){return i.onButtonKeydown(c)}}):(x(),R("div",T({key:1,class:n.cx("content"),onClick:e[0]||(e[0]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onMousedown:e[1]||(e[1]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onKeydown:e[2]||(e[2]=function(){return i.onContentKeydown&&i.onContentKeydown.apply(i,arguments)})},n.ptm("content")),[K(n.$slots,"default")],16))],16,zZ)),[[a]]):j("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])}NI.render=HZ;var jZ=function(e){var t=e.dt;return`
.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(t("togglebutton.color"),`;
    background: `).concat(t("togglebutton.background"),`;
    border: 1px solid `).concat(t("togglebutton.border.color"),`;
    padding: `).concat(t("togglebutton.padding"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(t("togglebutton.transition.duration"),", color ").concat(t("togglebutton.transition.duration"),", border-color ").concat(t("togglebutton.transition.duration"),`,
        outline-color `).concat(t("togglebutton.transition.duration"),", box-shadow ").concat(t("togglebutton.transition.duration"),`;
    border-radius: `).concat(t("togglebutton.border.radius"),`;
    outline-color: transparent;
    font-weight: `).concat(t("togglebutton.font.weight"),`;
}

.p-togglebutton-content {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: `).concat(t("togglebutton.gap"),`;
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton::before {
    content: "";
    background: transparent;
    transition: background `).concat(t("togglebutton.transition.duration"),", color ").concat(t("togglebutton.transition.duration"),", border-color ").concat(t("togglebutton.transition.duration"),`,
            outline-color `).concat(t("togglebutton.transition.duration"),", box-shadow ").concat(t("togglebutton.transition.duration"),`;
    position: absolute;
    inset-inline-start: `).concat(t("togglebutton.content.left"),`;
    inset-block-start: `).concat(t("togglebutton.content.top"),`;
    width: calc(100% - calc(2 * `).concat(t("togglebutton.content.left"),`));
    height: calc(100% - calc(2 * `).concat(t("togglebutton.content.top"),`));
    border-radius: `).concat(t("togglebutton.border.radius"),`;
}

.p-togglebutton.p-togglebutton-checked::before {
    background: `).concat(t("togglebutton.content.checked.background"),`;
    box-shadow: `).concat(t("togglebutton.content.checked.shadow"),`;
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: `).concat(t("togglebutton.hover.background"),`;
    color: `).concat(t("togglebutton.hover.color"),`;
}

.p-togglebutton.p-togglebutton-checked {
    background: `).concat(t("togglebutton.checked.background"),`;
    border-color: `).concat(t("togglebutton.checked.border.color"),`;
    color: `).concat(t("togglebutton.checked.color"),`;
}

.p-togglebutton:focus-visible {
    box-shadow: `).concat(t("togglebutton.focus.ring.shadow"),`;
    outline: `).concat(t("togglebutton.focus.ring.width")," ").concat(t("togglebutton.focus.ring.style")," ").concat(t("togglebutton.focus.ring.color"),`;
    outline-offset: `).concat(t("togglebutton.focus.ring.offset"),`;
}

.p-togglebutton.p-invalid {
    border-color: `).concat(t("togglebutton.invalid.border.color"),`;
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: `).concat(t("togglebutton.disabled.background"),`;
    border-color: `).concat(t("togglebutton.disabled.border.color"),`;
    color: `).concat(t("togglebutton.disabled.color"),`;
}

.p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.color"),`;
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.hover.color"),`;
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.checked.color"),`;
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: `).concat(t("togglebutton.icon.disabled.color"),`;
}

.p-togglebutton-sm {
    padding: `).concat(t("togglebutton.sm.padding"),`;
    font-size: `).concat(t("togglebutton.sm.font.size"),`;
}

.p-togglebutton-lg {
    padding: `).concat(t("togglebutton.lg.padding"),`;
    font-size: `).concat(t("togglebutton.lg.font.size"),`;
}
`)},WZ={root:function(e){var t=e.instance,r=e.props;return["p-togglebutton p-component",{"p-togglebutton-checked":t.active,"p-invalid":t.$invalid,"p-togglebutton-sm p-inputfield-sm":r.size==="small","p-togglebutton-lg p-inputfield-lg":r.size==="large"}]},content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},KZ=he.extend({name:"togglebutton",theme:jZ,classes:WZ}),XZ={name:"BaseToggleButton",extends:C_,props:{onIcon:String,offIcon:String,onLabel:{type:String,default:"Yes"},offLabel:{type:String,default:"No"},iconPos:{type:String,default:"left"},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null},size:{type:String,default:null}},style:KZ,provide:function(){return{$pcToggleButton:this,$parentInstance:this}}},F_={name:"ToggleButton",extends:XZ,inheritAttrs:!1,emits:["change"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{active:this.active,disabled:this.disabled}})},onChange:function(e){!this.disabled&&!this.readonly&&(this.writeValue(!this.d_value,e),this.$emit("change",e))},onBlur:function(e){var t,r;(t=(r=this.formField).onBlur)===null||t===void 0||t.call(r,e)}},computed:{active:function(){return this.d_value===!0},hasLabel:function(){return pe(this.onLabel)&&pe(this.offLabel)},label:function(){return this.hasLabel?this.d_value?this.onLabel:this.offLabel:"&nbsp;"}},directives:{ripple:fn}},qZ=["tabindex","disabled","aria-pressed","aria-labelledby","data-p-checked","data-p-disabled"];function YZ(n,e,t,r,o,i){var s=hn("ripple");return Gt((x(),R("button",T({type:"button",class:n.cx("root"),tabindex:n.tabindex,disabled:n.disabled,"aria-pressed":n.d_value,onClick:e[0]||(e[0]=function(){return i.onChange&&i.onChange.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)})},i.getPTOptions("root"),{"aria-labelledby":n.ariaLabelledby,"data-p-checked":i.active,"data-p-disabled":n.disabled}),[G("span",T({class:n.cx("content")},i.getPTOptions("content")),[K(n.$slots,"default",{},function(){return[K(n.$slots,"icon",{value:n.d_value,class:ce(n.cx("icon"))},function(){return[n.onIcon||n.offIcon?(x(),R("span",T({key:0,class:[n.cx("icon"),n.d_value?n.onIcon:n.offIcon]},i.getPTOptions("icon")),null,16)):j("",!0)]}),G("span",T({class:n.cx("label")},i.getPTOptions("label")),Be(i.label),17)]})],16)],16,qZ)),[[s]])}F_.render=YZ;var ZZ=function(e){var t=e.dt;return`
.p-selectbutton {
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    outline-color: transparent;
    border-radius: `.concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton .p-togglebutton {
    border-radius: 0;
    border-width: 1px 1px 1px 0;
}

.p-selectbutton .p-togglebutton:focus-visible {
    position: relative;
    z-index: 1;
}

.p-selectbutton .p-togglebutton:first-child {
    border-inline-start-width: 1px;
    border-start-start-radius: `).concat(t("selectbutton.border.radius"),`;
    border-end-start-radius: `).concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton .p-togglebutton:last-child {
    border-start-end-radius: `).concat(t("selectbutton.border.radius"),`;
    border-end-end-radius: `).concat(t("selectbutton.border.radius"),`;
}

.p-selectbutton.p-invalid {
    outline: 1px solid `).concat(t("selectbutton.invalid.border.color"),`;
    outline-offset: 0;
}
`)},JZ={root:function(e){var t=e.instance;return["p-selectbutton p-component",{"p-invalid":t.$invalid}]}},QZ=he.extend({name:"selectbutton",theme:ZZ,classes:JZ}),eJ={name:"BaseSelectButton",extends:C_,props:{options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,allowEmpty:{type:Boolean,default:!0},dataKey:null,ariaLabelledby:{type:String,default:null},size:{type:String,default:null}},style:QZ,provide:function(){return{$pcSelectButton:this,$parentInstance:this}}};function tJ(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=$I(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw i}}}}function nJ(n){return iJ(n)||oJ(n)||$I(n)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $I(n,e){if(n){if(typeof n=="string")return x0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x0(n,e):void 0}}function oJ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function iJ(n){if(Array.isArray(n))return x0(n)}function x0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var UI={name:"SelectButton",extends:eJ,inheritAttrs:!1,emits:["change"],methods:{getOptionLabel:function(e){return this.optionLabel?Ae(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ae(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Ae(e,this.dataKey):this.getOptionLabel(e)},isOptionDisabled:function(e){return this.optionDisabled?Ae(e,this.optionDisabled):!1},onOptionSelect:function(e,t,r){var o=this;if(!(this.disabled||this.isOptionDisabled(t))){var i=this.isSelected(t);if(!(i&&!this.allowEmpty)){var s=this.getOptionValue(t),a;this.multiple?i?a=this.d_value.filter(function(l){return!xn(l,s,o.equalityKey)}):a=this.d_value?[].concat(nJ(this.d_value),[s]):[s]:a=i?null:s,this.writeValue(a,e),this.$emit("change",{event:e,value:a})}}},isSelected:function(e){var t=!1,r=this.getOptionValue(e);if(this.multiple){if(this.d_value){var o=tJ(this.d_value),i;try{for(o.s();!(i=o.n()).done;){var s=i.value;if(xn(s,r,this.equalityKey)){t=!0;break}}}catch(a){o.e(a)}finally{o.f()}}}else t=xn(this.d_value,r,this.equalityKey);return t}},computed:{equalityKey:function(){return this.optionValue?null:this.dataKey}},directives:{ripple:fn},components:{ToggleButton:F_}},sJ=["aria-labelledby"];function aJ(n,e,t,r,o,i){var s=X("ToggleButton");return x(),R("div",T({class:n.cx("root"),role:"group","aria-labelledby":n.ariaLabelledby},n.ptmi("root")),[(x(!0),R(oe,null,st(n.options,function(a,l){return x(),N(s,{key:i.getOptionRenderKey(a),modelValue:i.isSelected(a),onLabel:i.getOptionLabel(a),offLabel:i.getOptionLabel(a),disabled:n.disabled||i.isOptionDisabled(a),unstyled:n.unstyled,size:n.size,onChange:function(u){return i.onOptionSelect(u,a,l)},pt:n.ptm("pcToggleButton")},Ui({_:2},[n.$slots.option?{name:"default",fn:q(function(){return[K(n.$slots,"option",{option:a,index:l},function(){return[G("span",T({ref_for:!0},n.ptm("pcToggleButton").label),Be(i.getOptionLabel(a)),17)]})]}),key:"0"}:void 0]),1032,["modelValue","onLabel","offLabel","disabled","unstyled","size","onChange","pt"])}),128))],16,sJ)}UI.render=aJ;var lJ={root:function(e){var t=e.instance,r=e.props;return["p-tab",{"p-tab-active":t.active,"p-disabled":r.disabled}]}},cJ=he.extend({name:"tab",classes:lJ}),uJ={name:"BaseTab",extends:we,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:cJ,provide:function(){return{$pcTab:this,$parentInstance:this}}},GI={name:"Tab",extends:uJ,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break}},onArrowRightKey:function(e){var t=this.findNextTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onHomeKey(e),e.preventDefault()},onArrowLeftKey:function(e){var t=this.findPrevTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onEndKey(e),e.preventDefault()},onHomeKey:function(e){var t=this.findFirstTab();this.changeFocusedTab(e,t),e.preventDefault()},onEndKey:function(e){var t=this.findLastTab();this.changeFocusedTab(e,t),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.findLastTab()),e.preventDefault()},onPageUpKey:function(e){this.scrollInView(this.findFirstTab()),e.preventDefault()},onEnterKey:function(e){this.changeActiveValue(),e.preventDefault()},findNextTab:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t?e:e.nextElementSibling;return r?Ze(r,"data-p-disabled")||Ze(r,"data-pc-section")==="inkbar"?this.findNextTab(r):an(r,'[data-pc-name="tab"]'):null},findPrevTab:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t?e:e.previousElementSibling;return r?Ze(r,"data-p-disabled")||Ze(r,"data-pc-section")==="inkbar"?this.findPrevTab(r):an(r,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.content.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.content.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(e,t){Xe(t),this.scrollInView(t)},scrollInView:function(e){var t;e==null||(t=e.scrollIntoView)===null||t===void 0||t.call(e,{block:"nearest"})}},computed:{active:function(){var e;return xn((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tab_").concat(this.value)},ariaControls:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tabpanel_").concat(this.value)},attrs:function(){return T(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}}},directives:{ripple:fn}};function dJ(n,e,t,r,o,i){var s=hn("ripple");return n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),active:i.active,a11yAttrs:i.a11yAttrs,onClick:i.onClick}):Gt((x(),N(re(n.as),T({key:0,class:n.cx("root"),onClick:i.onClick},i.attrs),{default:q(function(){return[K(n.$slots,"default")]}),_:3},16,["class","onClick"])),[[s]])}GI.render=dJ;var hJ={root:"p-tablist",content:function(e){var t=e.instance;return["p-tablist-content",{"p-tablist-viewport":t.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},fJ=he.extend({name:"tablist",classes:hJ}),pJ={name:"BaseTabList",extends:we,props:{},style:fJ,provide:function(){return{$pcTabList:this,$parentInstance:this}}},VI={name:"TabList",extends:pJ,inheritAttrs:!1,inject:["$pcTabs"],mutationObserver:null,data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0,isRTL:!1}},resizeObserver:void 0,watch:{showNavigators:function(e){e?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var e=this;this.$nextTick(function(){e.updateInkBar()}),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver()),this.updateDirection(),this.observeDirectionChanges()},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver(),this.mutationObserver&&this.mutationObserver.disconnect()},methods:{onScroll:function(e){this.showNavigators&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,t=Gr(e),r;this.isRTL?r=e.scrollLeft+t:r=e.scrollLeft-t,e.scrollLeft=r<=0?0:r},onNextButtonClick:function(){var e=this.$refs.content,t=Gr(e)-this.getVisibleButtonWidths(),r,o;this.isRTL?(r=e.scrollLeft-t,o=e.scrollWidth+t):(r=e.scrollLeft+t,o=e.scrollWidth-t),e.scrollLeft=r>=o?o:r},bindResizeObserver:function(){var e=this;this.resizeObserver=new ResizeObserver(function(){return e.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var e;(e=this.resizeObserver)===null||e===void 0||e.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var e=this.$refs,t=e.content,r=e.inkbar,o=e.tabs,i=an(t,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(r.style.height=sr(i)+"px",r.style.top=Cr(i).top-Cr(o).top+"px"):(r.style.width=Rt(i)+"px",r.style.left=Cr(i).left-Cr(o).left+"px")},updateButtonState:function(){var e=this.$refs,t=e.list,r=e.content,o=r.scrollLeft,i=r.scrollTop,s=r.scrollWidth,a=r.scrollHeight,l=r.offsetWidth,c=r.offsetHeight,u=[Gr(r),Ai(r)],d=u[0],h=u[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=i!==0,this.isNextButtonEnabled=t.offsetHeight>=c&&parseInt(i)!==a-h):(this.isPrevButtonEnabled=o!==0,this.isNextButtonEnabled=t.offsetWidth>=l&&parseInt(o)!==s-d)},getVisibleButtonWidths:function(){var e=this.$refs,t=e.prevBtn,r=e.nextBtn;return[t,r].reduce(function(o,i){return i?o+Gr(i):o},0)},updateDirection:function(){this.isRTL=!!this.$el.closest('[dir="rtl"]')},observeDirectionChanges:function(){var e=this,t=document.documentElement,r={attributes:!0,attributeFilter:["dir"]};this.mutationObserver=new MutationObserver(function(){e.updateDirection()}),this.mutationObserver.observe(t,r)}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},components:{ChevronLeftIcon:W8,ChevronRightIcon:gd},directives:{ripple:fn}},mJ=["aria-label","tabindex"],gJ=["aria-orientation"],bJ=["aria-label","tabindex"];function vJ(n,e,t,r,o,i){var s=hn("ripple");return x(),R("div",T({ref:"list",class:n.cx("root")},n.ptmi("root")),[i.showNavigators&&o.isPrevButtonEnabled?Gt((x(),R("button",T({key:0,ref:"prevButton",class:n.cx("prevButton"),"aria-label":i.prevButtonAriaLabel,tabindex:i.$pcTabs.tabindex,onClick:e[0]||(e[0]=function(){return i.onPrevButtonClick&&i.onPrevButtonClick.apply(i,arguments)})},n.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(x(),N(re(i.templates.previcon||"ChevronLeftIcon"),T({"aria-hidden":"true"},n.ptm("prevIcon")),null,16))],16,mJ)),[[s]]):j("",!0),G("div",T({ref:"content",class:n.cx("content"),onScroll:e[1]||(e[1]=function(){return i.onScroll&&i.onScroll.apply(i,arguments)})},n.ptm("content")),[G("div",T({ref:"tabs",class:n.cx("tabList"),role:"tablist","aria-orientation":i.$pcTabs.orientation||"horizontal"},n.ptm("tabList")),[K(n.$slots,"default"),G("span",T({ref:"inkbar",class:n.cx("activeBar"),role:"presentation","aria-hidden":"true"},n.ptm("activeBar")),null,16)],16,gJ)],16),i.showNavigators&&o.isNextButtonEnabled?Gt((x(),R("button",T({key:1,ref:"nextButton",class:n.cx("nextButton"),"aria-label":i.nextButtonAriaLabel,tabindex:i.$pcTabs.tabindex,onClick:e[2]||(e[2]=function(){return i.onNextButtonClick&&i.onNextButtonClick.apply(i,arguments)})},n.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(x(),N(re(i.templates.nexticon||"ChevronRightIcon"),T({"aria-hidden":"true"},n.ptm("nextIcon")),null,16))],16,bJ)),[[s]]):j("",!0)],16)}VI.render=vJ;var yJ={root:function(e){var t=e.instance;return["p-tabpanel",{"p-tabpanel-active":t.active}]}},_J=he.extend({name:"tabpanel",classes:yJ}),xJ={name:"BaseTabPanel",extends:we,props:{value:{type:[String,Number],default:void 0},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1},header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:_J,provide:function(){return{$pcTabPanel:this,$parentInstance:this}}},zI={name:"TabPanel",extends:xJ,inheritAttrs:!1,inject:["$pcTabs"],computed:{active:function(){var e;return xn((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tabpanel_").concat(this.value)},ariaLabelledby:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tab_").concat(this.value)},attrs:function(){return T(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){var e;return{id:this.id,tabindex:(e=this.$pcTabs)===null||e===void 0?void 0:e.tabindex,role:"tabpanel","aria-labelledby":this.ariaLabelledby,"data-pc-name":"tabpanel","data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function wJ(n,e,t,r,o,i){var s,a;return i.$pcTabs?(x(),R(oe,{key:1},[n.asChild?K(n.$slots,"default",{key:1,class:ce(n.cx("root")),active:i.active,a11yAttrs:i.a11yAttrs}):(x(),R(oe,{key:0},[!((s=i.$pcTabs)!==null&&s!==void 0&&s.lazy)||i.active?Gt((x(),N(re(n.as),T({key:0,class:n.cx("root")},i.attrs),{default:q(function(){return[K(n.$slots,"default")]}),_:3},16,["class"])),[[G3,(a=i.$pcTabs)!==null&&a!==void 0&&a.lazy?!0:i.active]]):j("",!0)],64))],64)):K(n.$slots,"default",{key:0})}zI.render=wJ;var CJ={root:"p-tabpanels"},SJ=he.extend({name:"tabpanels",classes:CJ}),TJ={name:"BaseTabPanels",extends:we,props:{},style:SJ,provide:function(){return{$pcTabPanels:this,$parentInstance:this}}},HI={name:"TabPanels",extends:TJ,inheritAttrs:!1};function kJ(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root"),role:"presentation"},n.ptmi("root")),[K(n.$slots,"default")],16)}HI.render=kJ;var EJ=function(e){var t=e.dt;return`
.p-tabs {
    display: flex;
    flex-direction: column;
}

.p-tablist {
    display: flex;
    position: relative;
}

.p-tabs-scrollable > .p-tablist {
    overflow: hidden;
}

.p-tablist-viewport {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scrollbar-width: none;
    overscroll-behavior: contain auto;
}

.p-tablist-viewport::-webkit-scrollbar {
    display: none;
}

.p-tablist-tab-list {
    position: relative;
    display: flex;
    background: `.concat(t("tabs.tablist.background"),`;
    border-style: solid;
    border-color: `).concat(t("tabs.tablist.border.color"),`;
    border-width: `).concat(t("tabs.tablist.border.width"),`;
}

.p-tablist-content {
    flex-grow: 1;
}

.p-tablist-nav-button {
    all: unset;
    position: absolute !important;
    flex-shrink: 0;
    inset-block-start: 0;
    z-index: 2;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: `).concat(t("tabs.nav.button.background"),`;
    color: `).concat(t("tabs.nav.button.color"),`;
    width: `).concat(t("tabs.nav.button.width"),`;
    transition: color `).concat(t("tabs.transition.duration"),", outline-color ").concat(t("tabs.transition.duration"),", box-shadow ").concat(t("tabs.transition.duration"),`;
    box-shadow: `).concat(t("tabs.nav.button.shadow"),`;
    outline-color: transparent;
    cursor: pointer;
}

.p-tablist-nav-button:focus-visible {
    z-index: 1;
    box-shadow: `).concat(t("tabs.nav.button.focus.ring.shadow"),`;
    outline: `).concat(t("tabs.nav.button.focus.ring.width")," ").concat(t("tabs.nav.button.focus.ring.style")," ").concat(t("tabs.nav.button.focus.ring.color"),`;
    outline-offset: `).concat(t("tabs.nav.button.focus.ring.offset"),`;
}

.p-tablist-nav-button:hover {
    color: `).concat(t("tabs.nav.button.hover.color"),`;
}

.p-tablist-prev-button {
    inset-inline-start: 0;
}

.p-tablist-next-button {
    inset-inline-end: 0;
}

.p-tablist-prev-button:dir(rtl),
.p-tablist-next-button:dir(rtl) {
    transform: rotate(180deg);
}


.p-tab {
    flex-shrink: 0;
    cursor: pointer;
    user-select: none;
    position: relative;
    border-style: solid;
    white-space: nowrap;
    background: `).concat(t("tabs.tab.background"),`;
    border-width: `).concat(t("tabs.tab.border.width"),`;
    border-color: `).concat(t("tabs.tab.border.color"),`;
    color: `).concat(t("tabs.tab.color"),`;
    padding: `).concat(t("tabs.tab.padding"),`;
    font-weight: `).concat(t("tabs.tab.font.weight"),`;
    transition: background `).concat(t("tabs.transition.duration"),", border-color ").concat(t("tabs.transition.duration"),", color ").concat(t("tabs.transition.duration"),", outline-color ").concat(t("tabs.transition.duration"),", box-shadow ").concat(t("tabs.transition.duration"),`;
    margin: `).concat(t("tabs.tab.margin"),`;
    outline-color: transparent;
}

.p-tab:not(.p-disabled):focus-visible {
    z-index: 1;
    box-shadow: `).concat(t("tabs.tab.focus.ring.shadow"),`;
    outline: `).concat(t("tabs.tab.focus.ring.width")," ").concat(t("tabs.tab.focus.ring.style")," ").concat(t("tabs.tab.focus.ring.color"),`;
    outline-offset: `).concat(t("tabs.tab.focus.ring.offset"),`;
}

.p-tab:not(.p-tab-active):not(.p-disabled):hover {
    background: `).concat(t("tabs.tab.hover.background"),`;
    border-color: `).concat(t("tabs.tab.hover.border.color"),`;
    color: `).concat(t("tabs.tab.hover.color"),`;
}

.p-tab-active {
    background: `).concat(t("tabs.tab.active.background"),`;
    border-color: `).concat(t("tabs.tab.active.border.color"),`;
    color: `).concat(t("tabs.tab.active.color"),`;
}

.p-tabpanels {
    background: `).concat(t("tabs.tabpanel.background"),`;
    color: `).concat(t("tabs.tabpanel.color"),`;
    padding: `).concat(t("tabs.tabpanel.padding"),`;
    outline: 0 none;
}

.p-tabpanel:focus-visible {
    box-shadow: `).concat(t("tabs.tabpanel.focus.ring.shadow"),`;
    outline: `).concat(t("tabs.tabpanel.focus.ring.width")," ").concat(t("tabs.tabpanel.focus.ring.style")," ").concat(t("tabs.tabpanel.focus.ring.color"),`;
    outline-offset: `).concat(t("tabs.tabpanel.focus.ring.offset"),`;
}

.p-tablist-active-bar {
    z-index: 1;
    display: block;
    position: absolute;
    inset-block-end: `).concat(t("tabs.active.bar.bottom"),`;
    height: `).concat(t("tabs.active.bar.height"),`;
    background: `).concat(t("tabs.active.bar.background"),`;
    transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
}
`)},AJ={root:function(e){var t=e.props;return["p-tabs p-component",{"p-tabs-scrollable":t.scrollable}]}},PJ=he.extend({name:"tabs",theme:EJ,classes:AJ}),IJ={name:"BaseTabs",extends:we,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:PJ,provide:function(){return{$pcTabs:this,$parentInstance:this}}},jI={name:"Tabs",extends:IJ,inheritAttrs:!1,emits:["update:value"],data:function(){return{id:this.$attrs.id,d_value:this.value}},watch:{"$attrs.id":function(e){this.id=e||$t()},value:function(e){this.d_value=e}},mounted:function(){this.id=this.id||$t()},methods:{updateValue:function(e){this.d_value!==e&&(this.d_value=e,this.$emit("update:value",e))},isVertical:function(){return this.orientation==="vertical"}}};function RJ(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root")},n.ptmi("root")),[K(n.$slots,"default")],16)}jI.render=RJ;function Eu(n){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(n)}function lh(n,e,t){return(e=BJ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BJ(n){var e=OJ(n,"string");return Eu(e)=="symbol"?e:e+""}function OJ(n,e){if(Eu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var DJ=function(e){var t=e.dt;return`
.p-toast {
    width: `.concat(t("toast.width"),`;
    white-space: pre-line;
    word-break: break-word;
}

.p-toast-message {
    margin: 0 0 1rem 0;
}

.p-toast-message-icon {
    flex-shrink: 0;
    font-size: `).concat(t("toast.icon.size"),`;
    width: `).concat(t("toast.icon.size"),`;
    height: `).concat(t("toast.icon.size"),`;
}

.p-toast-message-content {
    display: flex;
    align-items: flex-start;
    padding: `).concat(t("toast.content.padding"),`;
    gap: `).concat(t("toast.content.gap"),`;
}

.p-toast-message-text {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    gap: `).concat(t("toast.text.gap"),`;
}

.p-toast-summary {
    font-weight: `).concat(t("toast.summary.font.weight"),`;
    font-size: `).concat(t("toast.summary.font.size"),`;
}

.p-toast-detail {
    font-weight: `).concat(t("toast.detail.font.weight"),`;
    font-size: `).concat(t("toast.detail.font.size"),`;
}

.p-toast-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    background: transparent;
    transition: background `).concat(t("toast.transition.duration"),", color ").concat(t("toast.transition.duration"),", outline-color ").concat(t("toast.transition.duration"),", box-shadow ").concat(t("toast.transition.duration"),`;
    outline-color: transparent;
    color: inherit;
    width: `).concat(t("toast.close.button.width"),`;
    height: `).concat(t("toast.close.button.height"),`;
    border-radius: `).concat(t("toast.close.button.border.radius"),`;
    margin: -25% 0 0 0;
    right: -25%;
    padding: 0;
    border: none;
    user-select: none;
}

.p-toast-close-button:dir(rtl) {
    margin: -25% 0 0 auto;
    left: -25%;
    right: auto;
}

.p-toast-message-info,
.p-toast-message-success,
.p-toast-message-warn,
.p-toast-message-error,
.p-toast-message-secondary,
.p-toast-message-contrast {
    border-width: `).concat(t("toast.border.width"),`;
    border-style: solid;
    backdrop-filter: blur(`).concat(t("toast.blur"),`);
    border-radius: `).concat(t("toast.border.radius"),`;
}

.p-toast-close-icon {
    font-size: `).concat(t("toast.close.icon.size"),`;
    width: `).concat(t("toast.close.icon.size"),`;
    height: `).concat(t("toast.close.icon.size"),`;
}

.p-toast-close-button:focus-visible {
    outline-width: `).concat(t("focus.ring.width"),`;
    outline-style: `).concat(t("focus.ring.style"),`;
    outline-offset: `).concat(t("focus.ring.offset"),`;
}

.p-toast-message-info {
    background: `).concat(t("toast.info.background"),`;
    border-color: `).concat(t("toast.info.border.color"),`;
    color: `).concat(t("toast.info.color"),`;
    box-shadow: `).concat(t("toast.info.shadow"),`;
}

.p-toast-message-info .p-toast-detail {
    color: `).concat(t("toast.info.detail.color"),`;
}

.p-toast-message-info .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.info.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.info.close.button.focus.ring.shadow"),`;
}

.p-toast-message-info .p-toast-close-button:hover {
    background: `).concat(t("toast.info.close.button.hover.background"),`;
}

.p-toast-message-success {
    background: `).concat(t("toast.success.background"),`;
    border-color: `).concat(t("toast.success.border.color"),`;
    color: `).concat(t("toast.success.color"),`;
    box-shadow: `).concat(t("toast.success.shadow"),`;
}

.p-toast-message-success .p-toast-detail {
    color: `).concat(t("toast.success.detail.color"),`;
}

.p-toast-message-success .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.success.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.success.close.button.focus.ring.shadow"),`;
}

.p-toast-message-success .p-toast-close-button:hover {
    background: `).concat(t("toast.success.close.button.hover.background"),`;
}

.p-toast-message-warn {
    background: `).concat(t("toast.warn.background"),`;
    border-color: `).concat(t("toast.warn.border.color"),`;
    color: `).concat(t("toast.warn.color"),`;
    box-shadow: `).concat(t("toast.warn.shadow"),`;
}

.p-toast-message-warn .p-toast-detail {
    color: `).concat(t("toast.warn.detail.color"),`;
}

.p-toast-message-warn .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.warn.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.warn.close.button.focus.ring.shadow"),`;
}

.p-toast-message-warn .p-toast-close-button:hover {
    background: `).concat(t("toast.warn.close.button.hover.background"),`;
}

.p-toast-message-error {
    background: `).concat(t("toast.error.background"),`;
    border-color: `).concat(t("toast.error.border.color"),`;
    color: `).concat(t("toast.error.color"),`;
    box-shadow: `).concat(t("toast.error.shadow"),`;
}

.p-toast-message-error .p-toast-detail {
    color: `).concat(t("toast.error.detail.color"),`;
}

.p-toast-message-error .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.error.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.error.close.button.focus.ring.shadow"),`;
}

.p-toast-message-error .p-toast-close-button:hover {
    background: `).concat(t("toast.error.close.button.hover.background"),`;
}

.p-toast-message-secondary {
    background: `).concat(t("toast.secondary.background"),`;
    border-color: `).concat(t("toast.secondary.border.color"),`;
    color: `).concat(t("toast.secondary.color"),`;
    box-shadow: `).concat(t("toast.secondary.shadow"),`;
}

.p-toast-message-secondary .p-toast-detail {
    color: `).concat(t("toast.secondary.detail.color"),`;
}

.p-toast-message-secondary .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.secondary.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.secondary.close.button.focus.ring.shadow"),`;
}

.p-toast-message-secondary .p-toast-close-button:hover {
    background: `).concat(t("toast.secondary.close.button.hover.background"),`;
}

.p-toast-message-contrast {
    background: `).concat(t("toast.contrast.background"),`;
    border-color: `).concat(t("toast.contrast.border.color"),`;
    color: `).concat(t("toast.contrast.color"),`;
    box-shadow: `).concat(t("toast.contrast.shadow"),`;
}

.p-toast-message-contrast .p-toast-detail {
    color: `).concat(t("toast.contrast.detail.color"),`;
}

.p-toast-message-contrast .p-toast-close-button:focus-visible {
    outline-color: `).concat(t("toast.contrast.close.button.focus.ring.color"),`;
    box-shadow: `).concat(t("toast.contrast.close.button.focus.ring.shadow"),`;
}

.p-toast-message-contrast .p-toast-close-button:hover {
    background: `).concat(t("toast.contrast.close.button.hover.background"),`;
}

.p-toast-top-center {
    transform: translateX(-50%);
}

.p-toast-bottom-center {
    transform: translateX(-50%);
}

.p-toast-center {
    min-width: 20vw;
    transform: translate(-50%, -50%);
}

.p-toast-message-enter-from {
    opacity: 0;
    transform: translateY(50%);
}

.p-toast-message-leave-from {
    max-height: 1000px;
}

.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}

.p-toast-message-enter-active {
    transition: transform 0.3s, opacity 0.3s;
}

.p-toast-message-leave-active {
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`)},MJ={root:function(e){var t=e.position;return{position:"fixed",top:t==="top-right"||t==="top-left"||t==="top-center"?"20px":t==="center"?"50%":null,right:(t==="top-right"||t==="bottom-right")&&"20px",bottom:(t==="bottom-left"||t==="bottom-right"||t==="bottom-center")&&"20px",left:t==="top-left"||t==="bottom-left"?"20px":t==="center"||t==="top-center"||t==="bottom-center"?"50%":null}}},FJ={root:function(e){var t=e.props;return["p-toast p-component p-toast-"+t.position]},message:function(e){var t=e.props;return["p-toast-message",{"p-toast-message-info":t.message.severity==="info"||t.message.severity===void 0,"p-toast-message-warn":t.message.severity==="warn","p-toast-message-error":t.message.severity==="error","p-toast-message-success":t.message.severity==="success","p-toast-message-secondary":t.message.severity==="secondary","p-toast-message-contrast":t.message.severity==="contrast"}]},messageContent:"p-toast-message-content",messageIcon:function(e){var t=e.props;return["p-toast-message-icon",lh(lh(lh(lh({},t.infoIcon,t.message.severity==="info"),t.warnIcon,t.message.severity==="warn"),t.errorIcon,t.message.severity==="error"),t.successIcon,t.message.severity==="success")]},messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:"p-toast-close-icon"},LJ=he.extend({name:"toast",theme:DJ,classes:FJ,inlineStyles:MJ}),NJ={name:"BaseToast",extends:we,props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:void 0},infoIcon:{type:String,default:void 0},warnIcon:{type:String,default:void 0},errorIcon:{type:String,default:void 0},successIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null}},style:LJ,provide:function(){return{$pcToast:this,$parentInstance:this}}},WI={name:"ToastMessage",hostName:"Toast",extends:we,emits:["close"],closeTimeout:null,props:{message:{type:null,default:null},templates:{type:Object,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},mounted:function(){var e=this;this.message.life&&(this.closeTimeout=setTimeout(function(){e.close({message:e.message,type:"life-end"})},this.message.life))},beforeUnmount:function(){this.clearCloseTimeout()},methods:{close:function(e){this.$emit("close",e)},onCloseClick:function(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{iconComponent:function(){return{info:!this.infoIcon&&y0,success:!this.successIcon&&ni,warn:!this.warnIcon&&v0,error:!this.errorIcon&&Af}[this.message.severity]},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{TimesIcon:Tl,InfoCircleIcon:y0,CheckIcon:ni,ExclamationTriangleIcon:v0,TimesCircleIcon:Af},directives:{ripple:fn}};function Au(n){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(n)}function WC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function KC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(t),!0).forEach(function(r){$J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $J(n,e,t){return(e=UJ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UJ(n){var e=GJ(n,"string");return Au(e)=="symbol"?e:e+""}function GJ(n,e){if(Au(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var VJ=["aria-label"];function zJ(n,e,t,r,o,i){var s=hn("ripple");return x(),R("div",T({class:[n.cx("message"),t.message.styleClass],role:"alert","aria-live":"assertive","aria-atomic":"true"},n.ptm("message")),[t.templates.container?(x(),N(re(t.templates.container),{key:0,message:t.message,closeCallback:i.onCloseClick},null,8,["message","closeCallback"])):(x(),R("div",T({key:1,class:[n.cx("messageContent"),t.message.contentStyleClass]},n.ptm("messageContent")),[t.templates.message?(x(),N(re(t.templates.message),{key:1,message:t.message},null,8,["message"])):(x(),R(oe,{key:0},[(x(),N(re(t.templates.messageicon?t.templates.messageicon:t.templates.icon?t.templates.icon:i.iconComponent&&i.iconComponent.name?i.iconComponent:"span"),T({class:n.cx("messageIcon")},n.ptm("messageIcon")),null,16,["class"])),G("div",T({class:n.cx("messageText")},n.ptm("messageText")),[G("span",T({class:n.cx("summary")},n.ptm("summary")),Be(t.message.summary),17),G("div",T({class:n.cx("detail")},n.ptm("detail")),Be(t.message.detail),17)],16)],64)),t.message.closable!==!1?(x(),R("div",Ds(T({key:2},n.ptm("buttonContainer"))),[Gt((x(),R("button",T({class:n.cx("closeButton"),type:"button","aria-label":i.closeAriaLabel,onClick:e[0]||(e[0]=function(){return i.onCloseClick&&i.onCloseClick.apply(i,arguments)}),autofocus:""},KC(KC({},t.closeButtonProps),n.ptm("closeButton"))),[(x(),N(re(t.templates.closeicon||"TimesIcon"),T({class:[n.cx("closeIcon"),t.closeIcon]},n.ptm("closeIcon")),null,16,["class"]))],16,VJ)),[[s]])],16)):j("",!0)],16))],16)}WI.render=zJ;function HJ(n){return XJ(n)||KJ(n)||WJ(n)||jJ()}function jJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WJ(n,e){if(n){if(typeof n=="string")return w0(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w0(n,e):void 0}}function KJ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function XJ(n){if(Array.isArray(n))return w0(n)}function w0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var qJ=0,KI={name:"Toast",extends:NJ,inheritAttrs:!1,emits:["close","life-end"],data:function(){return{messages:[]}},styleElement:null,mounted:function(){xr.on("add",this.onAdd),xr.on("remove",this.onRemove),xr.on("remove-group",this.onRemoveGroup),xr.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount:function(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&At.clear(this.$refs.container),xr.off("add",this.onAdd),xr.off("remove",this.onRemove),xr.off("remove-group",this.onRemoveGroup),xr.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add:function(e){e.id==null&&(e.id=qJ++),this.messages=[].concat(HJ(this.messages),[e])},remove:function(e){var t=this.messages.findIndex(function(r){return r.id===e.message.id});t!==-1&&(this.messages.splice(t,1),this.$emit(e.type,{message:e.message}))},onAdd:function(e){this.group==e.group&&this.add(e)},onRemove:function(e){this.remove({message:e,type:"close"})},onRemoveGroup:function(e){this.group===e&&(this.messages=[])},onRemoveAllGroups:function(){this.messages=[]},onEnter:function(){this.autoZIndex&&At.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave:function(){var e=this;this.$refs.container&&this.autoZIndex&&Yt(this.messages)&&setTimeout(function(){At.clear(e.$refs.container)},200)},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",xl(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var r in this.breakpoints){var o="";for(var i in this.breakpoints[r])o+=i+":"+this.breakpoints[r][i]+"!important;";t+=`
                        @media screen and (max-width: `.concat(r,`) {
                            .p-toast[`).concat(this.$attrSelector,`] {
                                `).concat(o,`
                            }
                        }
                    `)}this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},components:{ToastMessage:WI,Portal:zs}};function Pu(n){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(n)}function XC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function YJ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(t),!0).forEach(function(r){ZJ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZJ(n,e,t){return(e=JJ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JJ(n){var e=QJ(n,"string");return Pu(e)=="symbol"?e:e+""}function QJ(n,e){if(Pu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eQ(n,e,t,r,o,i){var s=X("ToastMessage"),a=X("Portal");return x(),N(a,null,{default:q(function(){return[G("div",T({ref:"container",class:n.cx("root"),style:n.sx("root",!0,{position:n.position})},n.ptmi("root")),[W(WO,T({name:"p-toast-message",tag:"div",onEnter:i.onEnter,onLeave:i.onLeave},YJ({},n.ptm("transition"))),{default:q(function(){return[(x(!0),R(oe,null,st(o.messages,function(l){return x(),N(s,{key:l.id,message:l,templates:n.$slots,closeIcon:n.closeIcon,infoIcon:n.infoIcon,warnIcon:n.warnIcon,errorIcon:n.errorIcon,successIcon:n.successIcon,closeButtonProps:n.closeButtonProps,unstyled:n.unstyled,onClose:e[0]||(e[0]=function(c){return i.remove(c)}),pt:n.pt},null,8,["message","templates","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps","unstyled","pt"])}),128))]}),_:1},16,["onEnter","onLeave"])],16)]}),_:1})}KI.render=eQ;var tQ=function(e){var t=e.dt;return`
.p-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: `.concat(t("toolbar.padding"),`;
    background: `).concat(t("toolbar.background"),`;
    border: 1px solid `).concat(t("toolbar.border.color"),`;
    color: `).concat(t("toolbar.color"),`;
    border-radius: `).concat(t("toolbar.border.radius"),`;
    gap: `).concat(t("toolbar.gap"),`;
}

.p-toolbar-start,
.p-toolbar-center,
.p-toolbar-end {
    display: flex;
    align-items: center;
}
`)},nQ={root:"p-toolbar p-component",start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"},rQ=he.extend({name:"toolbar",theme:tQ,classes:nQ}),oQ={name:"BaseToolbar",extends:we,props:{ariaLabelledby:{type:String,default:null}},style:rQ,provide:function(){return{$pcToolbar:this,$parentInstance:this}}},XI={name:"Toolbar",extends:oQ,inheritAttrs:!1},iQ=["aria-labelledby"];function sQ(n,e,t,r,o,i){return x(),R("div",T({class:n.cx("root"),role:"toolbar","aria-labelledby":n.ariaLabelledby},n.ptmi("root")),[G("div",T({class:n.cx("start")},n.ptm("start")),[K(n.$slots,"start")],16),G("div",T({class:n.cx("center")},n.ptm("center")),[K(n.$slots,"center")],16),G("div",T({class:n.cx("end")},n.ptm("end")),[K(n.$slots,"end")],16)],16,iQ)}XI.render=sQ;const{drawScore:jt}=C8(),{track:ch,bar:Mo,barId:ra,voice:uh,voiceId:qC,element:Ft,elementId:Fo,note:Hl,noteId:YC,selection:tt}=Ao();let ZC=!1,yg=[];const aQ=()=>{const n=k8(),{bind:e}=S8();ZC||(e("\\d+(.\\d+)?",t=>{console.log("number",t),Hl.value.fretNumber=parseInt(t),jt()}),e("ctrl\\+Delete",()=>{ch.value.removeBarAt(Mo.value.index()),jt()}),e("ctrl\\+shift\\+ArrowRight",()=>{tt.value.length==0&&(tt.value=[Mo.value]),tt.value.filter(t=>t instanceof Ho).length==0?tt.value=[ve(Mo.value)]:(ra.value+=1,tt.value.push(ve(Mo.value))),console.log("ctrl shift right"),jt()}),e("ctrl\\+shift\\+ArrowLeft",()=>{if(tt.value.filter(t=>t instanceof Ho).length==0)tt.value=[ve(Mo.value)];else{const t=tt.value.indexOf(Mo.value);t>-1&&tt.value.splice(t,1),ra.value-=1,tt.value.includes(Mo.value)||tt.value.push(ve(Mo.value))}console.log("ctrl shift right"),jt()}),e("ctrl\\+ArrowUp",()=>{qC.value=Math.min(uh.value.index()+1,3),jt()}),e("ctrl\\+ArrowDown",()=>{qC.value=Math.max(uh.value.index()-1,0),jt()}),e("ctrl\\+ArrowRight",()=>{ra.value+=1,Fo.value=0,console.log("ctrl right"),jt()}),e("ctrl\\+ArrowLeft",()=>{ra.value-=1,Fo.value=0,jt(),console.log("ctrl left")}),e("shift\\+ArrowLeft",()=>{const t=tt.value.indexOf(Ft.value);t>-1&&tt.value.splice(t,1),Fo.value=Ft.value.index()-1,tt.value.includes(ve(Ft.value))||tt.value.push(ve(Ft.value)),console.log("selection",tt.value.length),jt()}),e("shift\\+ArrowRight",()=>{Fo.value=Ft.value.index()+1,tt.value.includes(ve(Ft.value))||tt.value.push(ve(Ft.value)),console.log("selection",tt.value.length),jt()}),e("ArrowUp",()=>{YC.value=Math.max(Hl.value.index()-1,0),jt()}),e("ArrowDown",()=>{YC.value=Math.min(Hl.value.index()+1,ch.value.stringCount()-1),jt()}),e("ArrowLeft",()=>{Fo.value=Ft.value.index()-1,tt.value=[ve(Ft.value)],jt()}),e("ArrowRight",()=>{Fo.value=Ft.value.index()+1,tt.value=[ve(Ft.value)],jt()}),e("Delete",()=>{if(!isNaN(Hl.value.fretNumber)&&(tt.value.length==0||tt.value.length==1&&tt.value[0]==Ft.value))Hl.value.fretNumber=NaN;else if(tt.value.length>0){const t=[...tt.value].reverse();let r=0;for(const o of t)o instanceof Ho?(ch.value.removeBarAt(o.index()),r+=1):o instanceof ys&&o.voice().removeElementAt(o.index());tt.value=[],ra.value-=r}jt()}),e("Insert",()=>{const t=Ft.value.voice().addElement(Ft.value.index());Fo.value-=1,Fo.value+=1,tt.value=[t],jt()}),e("\\[",()=>{Ft.value.duration.increaseBaseDuration(),jt()}),e("\\.",()=>{console.log("dotted");let t=Ft.value.duration.dotCount+1;t==3&&(t=0),Ft.value.duration.dotCount=t,jt()}),e("^t$",t=>{console.log("triplet"),Ft.value.duration.isTriplet=!Ft.value.duration.isTriplet,jt()}),e("^i$",t=>{console.log("info"),n.open(Xz,{props:{header:"Open Score",modal:!0,dismissableMask:!0}})}),e("\\]",()=>{Ft.value.duration.decreaseBaseDuration(),jt()}),e("ctrl\\+s",()=>{console.log("save")}),e("ctrl\\+c",()=>{console.log("copy"),yg=[...tt.value]}),e("ctrl\\+v",()=>{if(console.log("paste"),yg.length==0)return;const t=[...yg];for(;t.length>0;){let r=ve(t.shift());if(r instanceof Ho)r=r.clone(),ch.value._bars.splice(Mo.value.index(),1,r),ra.value+=1;else if(r instanceof ys)r=ys.fromJSON(uh.value,r==null?void 0:r.toJSON()),uh.value._elements.splice(Ft.value.index(),1,r),Fo.value+=1;else debugger}}),e("ctrl\\+z",()=>{console.log("undo")}),e("ctrl\\+shift\\+z",()=>{console.log("redo")}),ZC=!0)};var lQ={value:()=>{}};function qI(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Bh(t)}function Bh(n){this._=n}function cQ(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");if(o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Bh.prototype=qI.prototype={constructor:Bh,on:function(n,e){var t=this._,r=cQ(n+"",t),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(n=r[i]).type)&&(o=uQ(t[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(o=(n=r[i]).type)t[o]=JC(t[o],n.name,e);else if(e==null)for(o in t)t[o]=JC(t[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Bh(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var t=new Array(o),r=0,o,i;r<o;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(e,t)}};function uQ(n,e){for(var t=0,r=n.length,o;t<r;++t)if((o=n[t]).name===e)return o.value}function JC(n,e,t){for(var r=0,o=n.length;r<o;++r)if(n[r].name===e){n[r]=lQ,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var C0="http://www.w3.org/1999/xhtml";const QC={svg:"http://www.w3.org/2000/svg",xhtml:C0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function um(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),QC.hasOwnProperty(e)?{space:QC[e],local:n}:n}function dQ(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===C0&&e.documentElement.namespaceURI===C0?e.createElement(n):e.createElementNS(t,n)}}function hQ(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function YI(n){var e=um(n);return(e.local?hQ:dQ)(e)}function fQ(){}function L_(n){return n==null?fQ:function(){return this.querySelector(n)}}function pQ(n){typeof n!="function"&&(n=L_(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var i=e[o],s=i.length,a=r[o]=new Array(s),l,c,u=0;u<s;++u)(l=i[u])&&(c=n.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Xr(r,this._parents)}function mQ(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function gQ(){return[]}function ZI(n){return n==null?gQ:function(){return this.querySelectorAll(n)}}function bQ(n){return function(){return mQ(n.apply(this,arguments))}}function vQ(n){typeof n=="function"?n=bQ(n):n=ZI(n);for(var e=this._groups,t=e.length,r=[],o=[],i=0;i<t;++i)for(var s=e[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(n.call(l,l.__data__,c,s)),o.push(l));return new Xr(r,o)}function JI(n){return function(){return this.matches(n)}}function QI(n){return function(e){return e.matches(n)}}var yQ=Array.prototype.find;function _Q(n){return function(){return yQ.call(this.children,n)}}function xQ(){return this.firstElementChild}function wQ(n){return this.select(n==null?xQ:_Q(typeof n=="function"?n:QI(n)))}var CQ=Array.prototype.filter;function SQ(){return Array.from(this.children)}function TQ(n){return function(){return CQ.call(this.children,n)}}function kQ(n){return this.selectAll(n==null?SQ:TQ(typeof n=="function"?n:QI(n)))}function EQ(n){typeof n!="function"&&(n=JI(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var i=e[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&n.call(l,l.__data__,c,i)&&a.push(l);return new Xr(r,this._parents)}function eR(n){return new Array(n.length)}function AQ(){return new Xr(this._enter||this._groups.map(eR),this._parents)}function Rf(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Rf.prototype={constructor:Rf,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function PQ(n){return function(){return n}}function IQ(n,e,t,r,o,i){for(var s=0,a,l=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):t[s]=new Rf(n,i[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function RQ(n,e,t,r,o,i,s){var a,l,c=new Map,u=e.length,d=i.length,h=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(h[a]=f=s.call(l,l.__data__,a,e)+"",c.has(f)?o[a]=l:c.set(f,l));for(a=0;a<d;++a)f=s.call(n,i[a],a,i)+"",(l=c.get(f))?(r[a]=l,l.__data__=i[a],c.delete(f)):t[a]=new Rf(n,i[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(o[a]=l)}function BQ(n){return n.__data__}function OQ(n,e){if(!arguments.length)return Array.from(this,BQ);var t=e?RQ:IQ,r=this._parents,o=this._groups;typeof n!="function"&&(n=PQ(n));for(var i=o.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=o[c],h=d.length,f=DQ(n.call(u,u&&u.__data__,c,r)),p=f.length,m=a[c]=new Array(p),g=s[c]=new Array(p),b=l[c]=new Array(h);t(u,d,m,g,b,f,e);for(var _=0,v=0,y,w;_<p;++_)if(y=m[_]){for(_>=v&&(v=_+1);!(w=g[v])&&++v<p;);y._next=w||null}}return s=new Xr(s,r),s._enter=a,s._exit=l,s}function DQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function MQ(){return new Xr(this._exit||this._groups.map(eR),this._parents)}function FQ(n,e,t){var r=this.enter(),o=this,i=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),t==null?i.remove():t(i),r&&o?r.merge(o).order():o}function LQ(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,o=t.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<o;++l)a[l]=t[l];return new Xr(a,this._parents)}function NQ(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function $Q(n){n||(n=UQ);function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}for(var t=this._groups,r=t.length,o=new Array(r),i=0;i<r;++i){for(var s=t[i],a=s.length,l=o[i]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Xr(o,this._parents).order()}function UQ(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function GQ(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function VQ(){return Array.from(this)}function zQ(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function HQ(){let n=0;for(const e of this)++n;return n}function jQ(){return!this.node()}function WQ(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],i=0,s=o.length,a;i<s;++i)(a=o[i])&&n.call(a,a.__data__,i,o);return this}function KQ(n){return function(){this.removeAttribute(n)}}function XQ(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qQ(n,e){return function(){this.setAttribute(n,e)}}function YQ(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function ZQ(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function JQ(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function QQ(n,e){var t=um(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?XQ:KQ:typeof e=="function"?t.local?JQ:ZQ:t.local?YQ:qQ)(t,e))}function tR(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function eee(n){return function(){this.style.removeProperty(n)}}function tee(n,e,t){return function(){this.style.setProperty(n,e,t)}}function nee(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function ree(n,e,t){return arguments.length>1?this.each((e==null?eee:typeof e=="function"?nee:tee)(n,e,t??"")):el(this.node(),n)}function el(n,e){return n.style.getPropertyValue(e)||tR(n).getComputedStyle(n,null).getPropertyValue(e)}function oee(n){return function(){delete this[n]}}function iee(n,e){return function(){this[n]=e}}function see(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function aee(n,e){return arguments.length>1?this.each((e==null?oee:typeof e=="function"?see:iee)(n,e)):this.node()[n]}function nR(n){return n.trim().split(/^|\s+/)}function N_(n){return n.classList||new rR(n)}function rR(n){this._node=n,this._names=nR(n.getAttribute("class")||"")}rR.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function oR(n,e){for(var t=N_(n),r=-1,o=e.length;++r<o;)t.add(e[r])}function iR(n,e){for(var t=N_(n),r=-1,o=e.length;++r<o;)t.remove(e[r])}function lee(n){return function(){oR(this,n)}}function cee(n){return function(){iR(this,n)}}function uee(n,e){return function(){(e.apply(this,arguments)?oR:iR)(this,n)}}function dee(n,e){var t=nR(n+"");if(arguments.length<2){for(var r=N_(this.node()),o=-1,i=t.length;++o<i;)if(!r.contains(t[o]))return!1;return!0}return this.each((typeof e=="function"?uee:e?lee:cee)(t,e))}function hee(){this.textContent=""}function fee(n){return function(){this.textContent=n}}function pee(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function mee(n){return arguments.length?this.each(n==null?hee:(typeof n=="function"?pee:fee)(n)):this.node().textContent}function gee(){this.innerHTML=""}function bee(n){return function(){this.innerHTML=n}}function vee(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function yee(n){return arguments.length?this.each(n==null?gee:(typeof n=="function"?vee:bee)(n)):this.node().innerHTML}function _ee(){this.nextSibling&&this.parentNode.appendChild(this)}function xee(){return this.each(_ee)}function wee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cee(){return this.each(wee)}function See(n){var e=typeof n=="function"?n:YI(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Tee(){return null}function kee(n,e){var t=typeof n=="function"?n:YI(n),r=e==null?Tee:typeof e=="function"?e:L_(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Eee(){var n=this.parentNode;n&&n.removeChild(this)}function Aee(){return this.each(Eee)}function Pee(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Iee(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Ree(n){return this.select(n?Iee:Pee)}function Bee(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Oee(n){return function(e){n.call(this,e,this.__data__)}}function Dee(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Mee(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,o=e.length,i;t<o;++t)i=e[t],(!n.type||i.type===n.type)&&i.name===n.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Fee(n,e,t){return function(){var r=this.__on,o,i=Oee(e);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=t),o.value=e;return}}this.addEventListener(n.type,i,t),o={type:n.type,name:n.name,value:e,listener:i,options:t},r?r.push(o):this.__on=[o]}}function Lee(n,e,t){var r=Dee(n+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?Fee:Mee,o=0;o<i;++o)this.each(a(r[o],e,t));return this}function sR(n,e,t){var r=tR(n),o=r.CustomEvent;typeof o=="function"?o=new o(e,t):(o=r.document.createEvent("Event"),t?(o.initEvent(e,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function Nee(n,e){return function(){return sR(this,n,e)}}function $ee(n,e){return function(){return sR(this,n,e.apply(this,arguments))}}function Uee(n,e){return this.each((typeof e=="function"?$ee:Nee)(n,e))}function*Gee(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Vee=[null];function Xr(n,e){this._groups=n,this._parents=e}function xd(){return new Xr([[document.documentElement]],Vee)}function zee(){return this}Xr.prototype=xd.prototype={constructor:Xr,select:pQ,selectAll:vQ,selectChild:wQ,selectChildren:kQ,filter:EQ,data:OQ,enter:AQ,exit:MQ,join:FQ,merge:LQ,selection:zee,order:NQ,sort:$Q,call:GQ,nodes:VQ,node:zQ,size:HQ,empty:jQ,each:WQ,attr:QQ,style:ree,property:aee,classed:dee,text:mee,html:yee,raise:xee,lower:Cee,append:See,insert:kee,remove:Aee,clone:Ree,datum:Bee,on:Lee,dispatch:Uee,[Symbol.iterator]:Gee};function $_(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function aR(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function wd(){}var Iu=.7,Bf=1/Iu,Ma="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hee=/^#([0-9a-f]{3,8})$/,jee=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),Wee=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Kee=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Ru}\\)$`),Xee=new RegExp(`^rgba\\(${_o},${_o},${_o},${Ru}\\)$`),qee=new RegExp(`^hsl\\(${Ru},${_o},${_o}\\)$`),Yee=new RegExp(`^hsla\\(${Ru},${_o},${_o},${Ru}\\)$`),eS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$_(wd,Bu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:tS,formatHex:tS,formatHex8:Zee,formatHsl:Jee,formatRgb:nS,toString:nS});function tS(){return this.rgb().formatHex()}function Zee(){return this.rgb().formatHex8()}function Jee(){return lR(this).formatHsl()}function nS(){return this.rgb().formatRgb()}function Bu(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Hee.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?rS(e):t===3?new jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?dh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?dh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jee.exec(n))?new jn(e[1],e[2],e[3],1):(e=Wee.exec(n))?new jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kee.exec(n))?dh(e[1],e[2],e[3],e[4]):(e=Xee.exec(n))?dh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qee.exec(n))?sS(e[1],e[2]/100,e[3]/100,1):(e=Yee.exec(n))?sS(e[1],e[2]/100,e[3]/100,e[4]):eS.hasOwnProperty(n)?rS(eS[n]):n==="transparent"?new jn(NaN,NaN,NaN,0):null}function rS(n){return new jn(n>>16&255,n>>8&255,n&255,1)}function dh(n,e,t,r){return r<=0&&(n=e=t=NaN),new jn(n,e,t,r)}function Qee(n){return n instanceof wd||(n=Bu(n)),n?(n=n.rgb(),new jn(n.r,n.g,n.b,n.opacity)):new jn}function S0(n,e,t,r){return arguments.length===1?Qee(n):new jn(n,e,t,r??1)}function jn(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}$_(jn,S0,aR(wd,{brighter(n){return n=n==null?Bf:Math.pow(Bf,n),new jn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Iu:Math.pow(Iu,n),new jn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new jn(_s(this.r),_s(this.g),_s(this.b),Of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oS,formatHex:oS,formatHex8:ete,formatRgb:iS,toString:iS}));function oS(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function ete(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function iS(){const n=Of(this.opacity);return`${n===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${n===1?")":`, ${n})`}`}function Of(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function _s(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ms(n){return n=_s(n),(n<16?"0":"")+n.toString(16)}function sS(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Vr(n,e,t,r)}function lR(n){if(n instanceof Vr)return new Vr(n.h,n.s,n.l,n.opacity);if(n instanceof wd||(n=Bu(n)),!n)return new Vr;if(n instanceof Vr)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,o=Math.min(e,t,r),i=Math.max(e,t,r),s=NaN,a=i-o,l=(i+o)/2;return a?(e===i?s=(t-r)/a+(t<r)*6:t===i?s=(r-e)/a+2:s=(e-t)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new Vr(s,a,l,n.opacity)}function tte(n,e,t,r){return arguments.length===1?lR(n):new Vr(n,e,t,r??1)}function Vr(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}$_(Vr,tte,aR(wd,{brighter(n){return n=n==null?Bf:Math.pow(Bf,n),new Vr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Iu:Math.pow(Iu,n),new Vr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,o=2*t-r;return new jn(_g(n>=240?n-240:n+120,o,r),_g(n,o,r),_g(n<120?n+240:n-120,o,r),this.opacity)},clamp(){return new Vr(aS(this.h),hh(this.s),hh(this.l),Of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Of(this.opacity);return`${n===1?"hsl(":"hsla("}${aS(this.h)}, ${hh(this.s)*100}%, ${hh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function aS(n){return n=(n||0)%360,n<0?n+360:n}function hh(n){return Math.max(0,Math.min(1,n||0))}function _g(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const cR=n=>()=>n;function nte(n,e){return function(t){return n+t*e}}function rte(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function ote(n){return(n=+n)==1?uR:function(e,t){return t-e?rte(e,t,n):cR(isNaN(e)?t:e)}}function uR(n,e){var t=e-n;return t?nte(n,t):cR(isNaN(n)?e:n)}const lS=function n(e){var t=ote(e);function r(o,i){var s=t((o=S0(o)).r,(i=S0(i)).r),a=t(o.g,i.g),l=t(o.b,i.b),c=uR(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=n,r}(1);function ki(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var T0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xg=new RegExp(T0.source,"g");function ite(n){return function(){return n}}function ste(n){return function(e){return n(e)+""}}function ate(n,e){var t=T0.lastIndex=xg.lastIndex=0,r,o,i,s=-1,a=[],l=[];for(n=n+"",e=e+"";(r=T0.exec(n))&&(o=xg.exec(e));)(i=o.index)>t&&(i=e.slice(t,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:ki(r,o)})),t=xg.lastIndex;return t<e.length&&(i=e.slice(t),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?ste(l[0].x):ite(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var cS=180/Math.PI,k0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dR(n,e,t,r,o,i){var s,a,l;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(e,n)*cS,skewX:Math.atan(l)*cS,scaleX:s,scaleY:a}}var fh;function lte(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?k0:dR(e.a,e.b,e.c,e.d,e.e,e.f)}function cte(n){return n==null||(fh||(fh=document.createElementNS("http://www.w3.org/2000/svg","g")),fh.setAttribute("transform",n),!(n=fh.transform.baseVal.consolidate()))?k0:(n=n.matrix,dR(n.a,n.b,n.c,n.d,n.e,n.f))}function hR(n,e,t,r){function o(c){return c.length?c.pop()+" ":""}function i(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,e,null,t);p.push({i:m-4,x:ki(c,d)},{i:m-2,x:ki(u,h)})}else(d||h)&&f.push("translate("+d+e+h+t)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ki(c,u)})):u&&d.push(o(d)+"rotate("+u+r)}function a(c,u,d,h){c!==u?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ki(c,u)}):u&&d.push(o(d)+"skewX("+u+r)}function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(o(f)+"scale(",null,",",null,")");p.push({i:m-4,x:ki(c,d)},{i:m-2,x:ki(u,h)})}else(d!==1||h!==1)&&f.push(o(f)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var p=-1,m=h.length,g;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var ute=hR(lte,"px, ","px)","deg)"),dte=hR(cte,", ",")",")"),tl=0,Ql=0,jl=0,fR=1e3,Df,ec,Mf=0,Os=0,dm=0,Ou=typeof performance=="object"&&performance.now?performance:Date,pR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function U_(){return Os||(pR(hte),Os=Ou.now()+dm)}function hte(){Os=0}function Ff(){this._call=this._time=this._next=null}Ff.prototype=mR.prototype={constructor:Ff,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?U_():+t)+(e==null?0:+e),!this._next&&ec!==this&&(ec?ec._next=this:Df=this,ec=this),this._call=n,this._time=t,E0()},stop:function(){this._call&&(this._call=null,this._time=1/0,E0())}};function mR(n,e,t){var r=new Ff;return r.restart(n,e,t),r}function fte(){U_(),++tl;for(var n=Df,e;n;)(e=Os-n._time)>=0&&n._call.call(void 0,e),n=n._next;--tl}function uS(){Os=(Mf=Ou.now())+dm,tl=Ql=0;try{fte()}finally{tl=0,mte(),Os=0}}function pte(){var n=Ou.now(),e=n-Mf;e>fR&&(dm-=e,Mf=n)}function mte(){for(var n,e=Df,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Df=t);ec=n,E0(r)}function E0(n){if(!tl){Ql&&(Ql=clearTimeout(Ql));var e=n-Os;e>24?(n<1/0&&(Ql=setTimeout(uS,n-Ou.now()-dm)),jl&&(jl=clearInterval(jl))):(jl||(Mf=Ou.now(),jl=setInterval(pte,fR)),tl=1,pR(uS))}}function dS(n,e,t){var r=new Ff;return e=e==null?0:+e,r.restart(o=>{r.stop(),n(o+e)},e,t),r}var gte=qI("start","end","cancel","interrupt"),bte=[],gR=0,hS=1,A0=2,Oh=3,fS=4,P0=5,Dh=6;function hm(n,e,t,r,o,i){var s=n.__transition;if(!s)n.__transition={};else if(t in s)return;vte(n,t,{name:e,index:r,group:o,on:gte,tween:bte,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:gR})}function G_(n,e){var t=eo(n,e);if(t.state>gR)throw new Error("too late; already scheduled");return t}function Po(n,e){var t=eo(n,e);if(t.state>Oh)throw new Error("too late; already running");return t}function eo(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function vte(n,e,t){var r=n.__transition,o;r[e]=t,t.timer=mR(i,0,t.time);function i(c){t.state=hS,t.timer.restart(s,t.delay,t.time),t.delay<=c&&s(c-t.delay)}function s(c){var u,d,h,f;if(t.state!==hS)return l();for(u in r)if(f=r[u],f.name===t.name){if(f.state===Oh)return dS(s);f.state===fS?(f.state=Dh,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Dh,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete r[u])}if(dS(function(){t.state===Oh&&(t.state=fS,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=A0,t.on.call("start",n,n.__data__,t.index,t.group),t.state===A0){for(t.state=Oh,o=new Array(h=t.tween.length),u=0,d=-1;u<h;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(o[++d]=f);o.length=d+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=P0,1),d=-1,h=o.length;++d<h;)o[d].call(n,u);t.state===P0&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Dh,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function yte(n,e){var t=n.__transition,r,o,i=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((r=t[s]).name!==e){i=!1;continue}o=r.state>A0&&r.state<P0,r.state=Dh,r.timer.stop(),r.on.call(o?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[s]}i&&delete n.__transition}}function _te(n){return this.each(function(){yte(this,n)})}function xte(n,e){var t,r;return function(){var o=Po(this,n),i=o.tween;if(i!==t){r=t=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function wte(n,e,t){var r,o;if(typeof t!="function")throw new Error;return function(){var i=Po(this,n),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:e,value:t},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function Cte(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=eo(this.node(),t).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===n)return s.value;return null}return this.each((e==null?xte:wte)(t,n,e))}function V_(n,e,t){var r=n._id;return n.each(function(){var o=Po(this,r);(o.value||(o.value={}))[e]=t.apply(this,arguments)}),function(o){return eo(o,r).value[e]}}function bR(n,e){var t;return(typeof e=="number"?ki:e instanceof Bu?lS:(t=Bu(e))?(e=t,lS):ate)(n,e)}function Ste(n){return function(){this.removeAttribute(n)}}function Tte(n){return function(){this.removeAttributeNS(n.space,n.local)}}function kte(n,e,t){var r,o=t+"",i;return function(){var s=this.getAttribute(n);return s===o?null:s===r?i:i=e(r=s,t)}}function Ete(n,e,t){var r,o=t+"",i;return function(){var s=this.getAttributeNS(n.space,n.local);return s===o?null:s===r?i:i=e(r=s,t)}}function Ate(n,e,t){var r,o,i;return function(){var s,a=t(this),l;return a==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=e(r=s,a)))}}function Pte(n,e,t){var r,o,i;return function(){var s,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=e(r=s,a)))}}function Ite(n,e){var t=um(n),r=t==="transform"?dte:bR;return this.attrTween(n,typeof e=="function"?(t.local?Pte:Ate)(t,r,V_(this,"attr."+n,e)):e==null?(t.local?Tte:Ste)(t):(t.local?Ete:kte)(t,r,e))}function Rte(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Bte(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Ote(n,e){var t,r;function o(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Bte(n,i)),t}return o._value=e,o}function Dte(n,e){var t,r;function o(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Rte(n,i)),t}return o._value=e,o}function Mte(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=um(n);return this.tween(t,(r.local?Ote:Dte)(r,e))}function Fte(n,e){return function(){G_(this,n).delay=+e.apply(this,arguments)}}function Lte(n,e){return e=+e,function(){G_(this,n).delay=e}}function Nte(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Fte:Lte)(e,n)):eo(this.node(),e).delay}function $te(n,e){return function(){Po(this,n).duration=+e.apply(this,arguments)}}function Ute(n,e){return e=+e,function(){Po(this,n).duration=e}}function Gte(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?$te:Ute)(e,n)):eo(this.node(),e).duration}function Vte(n,e){if(typeof e!="function")throw new Error;return function(){Po(this,n).ease=e}}function zte(n){var e=this._id;return arguments.length?this.each(Vte(e,n)):eo(this.node(),e).ease}function Hte(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Po(this,n).ease=t}}function jte(n){if(typeof n!="function")throw new Error;return this.each(Hte(this._id,n))}function Wte(n){typeof n!="function"&&(n=JI(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var i=e[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&n.call(l,l.__data__,c,i)&&a.push(l);return new ri(r,this._parents,this._name,this._id)}function Kte(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,o=t.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l=e[a],c=t[a],u=l.length,d=s[a]=new Array(u),h,f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<r;++a)s[a]=e[a];return new ri(s,this._parents,this._name,this._id)}function Xte(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function qte(n,e,t){var r,o,i=Xte(e)?G_:Po;return function(){var s=i(this,n),a=s.on;a!==r&&(o=(r=a).copy()).on(e,t),s.on=o}}function Yte(n,e){var t=this._id;return arguments.length<2?eo(this.node(),t).on.on(n):this.each(qte(t,n,e))}function Zte(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function Jte(){return this.on("end.remove",Zte(this._id))}function Qte(n){var e=this._name,t=this._id;typeof n!="function"&&(n=L_(n));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],l=a.length,c=i[s]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,hm(c[h],e,t,h,c,eo(u,t)));return new ri(i,this._parents,e,t)}function ene(n){var e=this._name,t=this._id;typeof n!="function"&&(n=ZI(n));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=n.call(u,u.__data__,d,l),f,p=eo(u,t),m=0,g=h.length;m<g;++m)(f=h[m])&&hm(f,e,t,m,h,p);i.push(h),s.push(u)}return new ri(i,s,e,t)}var tne=xd.prototype.constructor;function nne(){return new tne(this._groups,this._parents)}function rne(n,e){var t,r,o;return function(){var i=el(this,n),s=(this.style.removeProperty(n),el(this,n));return i===s?null:i===t&&s===r?o:o=e(t=i,r=s)}}function vR(n){return function(){this.style.removeProperty(n)}}function one(n,e,t){var r,o=t+"",i;return function(){var s=el(this,n);return s===o?null:s===r?i:i=e(r=s,t)}}function ine(n,e,t){var r,o,i;return function(){var s=el(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),el(this,n))),s===l?null:s===r&&l===o?i:(o=l,i=e(r=s,a))}}function sne(n,e){var t,r,o,i="style."+e,s="end."+i,a;return function(){var l=Po(this,n),c=l.on,u=l.value[i]==null?a||(a=vR(e)):void 0;(c!==t||o!==u)&&(r=(t=c).copy()).on(s,o=u),l.on=r}}function ane(n,e,t){var r=(n+="")=="transform"?ute:bR;return e==null?this.styleTween(n,rne(n,r)).on("end.style."+n,vR(n)):typeof e=="function"?this.styleTween(n,ine(n,r,V_(this,"style."+n,e))).each(sne(this._id,n)):this.styleTween(n,one(n,r,e),t).on("end.style."+n,null)}function lne(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function cne(n,e,t){var r,o;function i(){var s=e.apply(this,arguments);return s!==o&&(r=(o=s)&&lne(n,s,t)),r}return i._value=e,i}function une(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,cne(n,e,t??""))}function dne(n){return function(){this.textContent=n}}function hne(n){return function(){var e=n(this);this.textContent=e??""}}function fne(n){return this.tween("text",typeof n=="function"?hne(V_(this,"text",n)):dne(n==null?"":n+""))}function pne(n){return function(e){this.textContent=n.call(this,e)}}function mne(n){var e,t;function r(){var o=n.apply(this,arguments);return o!==t&&(e=(t=o)&&pne(o)),e}return r._value=n,r}function gne(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,mne(n))}function bne(){for(var n=this._name,e=this._id,t=yR(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=eo(l,e);hm(l,n,t,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ri(r,this._parents,n,t)}function vne(){var n,e,t=this,r=t._id,o=t.size();return new Promise(function(i,s){var a={value:s},l={value:function(){--o===0&&i()}};t.each(function(){var c=Po(this,r),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),o===0&&i()})}var yne=0;function ri(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function yR(){return++yne}var Lo=xd.prototype;ri.prototype={constructor:ri,select:Qte,selectAll:ene,selectChild:Lo.selectChild,selectChildren:Lo.selectChildren,filter:Wte,merge:Kte,selection:nne,transition:bne,call:Lo.call,nodes:Lo.nodes,node:Lo.node,size:Lo.size,empty:Lo.empty,each:Lo.each,on:Yte,attr:Ite,attrTween:Mte,style:ane,styleTween:une,text:fne,textTween:gne,remove:Jte,tween:Cte,delay:Nte,duration:Gte,ease:zte,easeVarying:jte,end:vne,[Symbol.iterator]:Lo[Symbol.iterator]};function _ne(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xne={time:null,delay:0,duration:250,ease:_ne};function wne(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function Cne(n){var e,t;n instanceof ri?(e=n._id,n=n._name):(e=yR(),(t=xne).time=U_(),n=n==null?null:n+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&hm(l,n,e,c,s,t||wne(l,e));return new ri(r,this._parents,n,e)}xd.prototype.interrupt=_te;xd.prototype.transition=Cne;const wg=new Date,Cg=new Date;function z_(n,e,t,r){function o(i){return n(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(n(i=new Date(+i)),i),o.ceil=i=>(n(i=new Date(i-1)),e(i,1),n(i),i),o.round=i=>{const s=o(i),a=o.ceil(i);return i-s<a-i?s:a},o.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),o.range=(i,s,a)=>{const l=[];if(i=o.ceil(i),a=a==null?1:Math.floor(a),!(i<s)||!(a>0))return l;let c;do l.push(c=new Date(+i)),e(i,a),n(i);while(c<i&&i<s);return l},o.filter=i=>z_(s=>{if(s>=s)for(;n(s),!i(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!i(s););else for(;--a>=0;)for(;e(s,1),!i(s););}),t&&(o.count=(i,s)=>(wg.setTime(+i),Cg.setTime(+s),n(wg),n(Cg),Math.floor(t(wg,Cg))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(s=>o.count(0,s)%i===0):o)),o}const Lf=z_(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);Lf.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?z_(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):Lf);Lf.range;function tc(n,e,t){this.k=n,this.x=e,this.y=t}tc.prototype={constructor:tc,scale:function(n){return n===1?this:new tc(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new tc(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};tc.prototype;const Sne=()=>{const{score:n,trackId:e}=Ao(),t=vt(!1);let r,o;Ws().on("stop",()=>{console.log("stop")}),Ws().on("loopEnd",()=>{console.log("loopEnd")}),Ws().on("pause",()=>{console.log("pause")}),Ws().on("loop",()=>{console.log("loop")});const i=async c=>{const u=c.instrument.tone.samples,d=c.instrument.tone.name,h=u.reduce((p,m)=>{const g=m.replace("#","s");return Object.assign(p,{[m]:`${g}.mp3`})},{});console.log("sampleUrls",h);const f=new ed({urls:h,baseUrl:`https://nbrosowsky.github.io/tonejs-instruments/samples/${d}/`,attack:.01,release:.2,onload:async()=>{console.log(`Instrument ${c.instrument.instrumentName} loaded`)}}).toDestination();return await Qx(),f},s=async()=>{if(os.state=="paused"){console.log("resuming"),t.value=!0,os.start();return}const c=n.value._tracks[e.value];o=await i(c),console.log(o),r&&(console.log("disposing previous part"),r.stop(0),r.dispose(),await os.stop(),os.position=0,await os.cancel(0)),os.timeSignature=[n.value.timeSignature.beatsPerBar,n.value.timeSignature.beatValue],os.bpm.value=n.value.tempo,t.value=!0,await LL(),console.log("audio is ready"),Qx().then(()=>{console.log("Samples loaded"),a(c)})},a=c=>{Lf();let u=0;const d=c._bars.reduce((h,f,p)=>(f._voices.flatMap(m=>m._elements).flat().map((m,g)=>{if(!m.isRest()){const b=(m.location()+p*f.timeSignature.beatsPerBar)*Zx(`${f.timeSignature.beatsPerBar}n`).toSeconds();h.push([b,m])}}),h),[]);r=new of((h,f)=>{const p=f.beatDuration();f._notes.filter(m=>!isNaN(m.fretNumber)).forEach(m=>{const g=m.pitch();o.triggerAttackRelease(g,p,h),iN.schedule(()=>{m.active=!0,setTimeout(()=>{m.active=!1,u+=1,u==d.length&&(console.log("ENDED"),t.value=!1)},p*Zx("4n").toMilliseconds())},h)})},d),r.start(0),Ws().start(),console.log("done")};return{play:s,pause:()=>{t.value=!1,Ws().pause()},isPlaying:t}},Tne=["href"],kne=["for"],Ene=["for"],Ane=rl({__name:"EditScoreDialog",setup(n){const{score:e}=Ao(),t=qr(()=>Object.keys(cc)),r=s=>s?Object.keys(cc[s].tunings):[],o=s=>s?Object.keys(cc[s].tones):[],i=()=>{e.value.addTrack()};return(s,a)=>{const l=X("p-inputtext"),c=X("p-floatlabel"),u=X("p-inputnumber"),d=X("p-inputgroup"),h=X("p-tab"),f=X("p-button"),p=X("p-tablist"),m=X("p-select"),g=X("p-tabpanel"),b=X("p-tabpanels"),_=X("p-tabs");return x(),R(oe,null,[W(c,{variant:"on"},{default:q(()=>[W(l,{modelValue:ye(e).title,"onUpdate:modelValue":a[0]||(a[0]=v=>ye(e).title=v),inputId:"title",variant:"filled"},null,8,["modelValue"]),a[7]||(a[7]=G("label",{for:"title"},"Title",-1))]),_:1}),W(c,{variant:"on"},{default:q(()=>[W(l,{modelValue:ye(e).url,"onUpdate:modelValue":a[1]||(a[1]=v=>ye(e).url=v),inputId:"url",variant:"filled",style:{width:"200px"}},null,8,["modelValue"]),ye(e).url?(x(),R("a",{key:0,href:ye(e).url,target:"_blank",class:"p-button-icon",style:{float:"right"}},a[8]||(a[8]=[G("i",{class:"pi pi-external-link"},null,-1)]),8,Tne)):j("",!0),a[9]||(a[9]=G("label",{for:"url"},"Url",-1))]),_:1}),W(c,{variant:"on"},{default:q(()=>[W(u,{modelValue:ye(e).tempo,"onUpdate:modelValue":a[2]||(a[2]=v=>ye(e).tempo=v),inputId:"tempo",variant:"filled",min:1,step:5,showButtons:""},null,8,["modelValue"]),a[10]||(a[10]=G("label",{for:"tempo"},"Tempo",-1))]),_:1}),W(c,{variant:"on"},{default:q(()=>[W(u,{modelValue:ye(e).barsPerLine,"onUpdate:modelValue":a[3]||(a[3]=v=>ye(e).barsPerLine=v),id:"barsPerLine",variant:"filled",min:1,showButtons:""},null,8,["modelValue"]),a[11]||(a[11]=G("label",{for:"barsPerLine"},"Bars per Line",-1))]),_:1}),W(c,{variant:"on"},{default:q(()=>[W(u,{modelValue:ye(e).fontSize,"onUpdate:modelValue":a[4]||(a[4]=v=>ye(e).fontSize=v),id:"fontSize",min:4,showButtons:"",step:2,variant:"filled"},null,8,["modelValue"]),a[12]||(a[12]=G("label",{for:"fontSize"},"Font size",-1))]),_:1}),W(c,{variant:"on"},{default:q(()=>[W(d,null,{default:q(()=>[W(u,{modelValue:ye(e).timeSignature.beatsPerBar,"onUpdate:modelValue":a[5]||(a[5]=v=>ye(e).timeSignature.beatsPerBar=v),placeholder:"Beats per Bar",min:1,showButtons:"",class:"small",variant:"filled"},null,8,["modelValue"]),W(u,{modelValue:ye(e).timeSignature.beatValue,"onUpdate:modelValue":a[6]||(a[6]=v=>ye(e).timeSignature.beatValue=v),placeholder:"Beat Value",min:1,showButtons:"",class:"small",variant:"filled"},null,8,["modelValue"])]),_:1}),a[13]||(a[13]=G("label",null,"Time Signature",-1))]),_:1}),W(_,{value:0},{default:q(()=>[W(p,null,{default:q(()=>[(x(!0),R(oe,null,st(ye(e)._tracks,(v,y)=>(x(),N(h,{key:y,value:y},{default:q(()=>[On("Track "+Be(y),1)]),_:2},1032,["value"]))),128)),W(h,{value:1},{default:q(()=>[W(f,{icon:"pi pi-plus",class:"p-button-text add-track-icon",onClick:i})]),_:1})]),_:1}),W(b,null,{default:q(()=>[(x(!0),R(oe,null,st(ye(e)._tracks,(v,y)=>(x(),N(g,{key:y,value:y,class:"vertically-spaced"},{default:q(()=>[W(c,{variant:"on"},{default:q(()=>[W(m,{modelValue:v.instrument.instrumentName,"onUpdate:modelValue":w=>v.instrument.instrumentName=w,options:t.value,inputId:"instrument",id:"instrument-"+y,placeholder:"Select Instrument"},null,8,["modelValue","onUpdate:modelValue","options","id"]),a[14]||(a[14]=G("label",{for:"instrument"},"Instrument",-1))]),_:2},1024),W(c,{variant:"on"},{default:q(()=>[W(m,{modelValue:v.instrument.tuningName,"onUpdate:modelValue":w=>v.instrument.tuningName=w,options:r(v.instrument.instrumentName),id:"tuning-"+y,placeholder:"Select Tuning"},null,8,["modelValue","onUpdate:modelValue","options","id"]),G("label",{for:"tuning-"+y},"Tuning",8,kne)]),_:2},1024),W(c,{variant:"on"},{default:q(()=>[W(m,{modelValue:v.instrument.toneName,"onUpdate:modelValue":w=>v.instrument.toneName=w,options:o(v.instrument.instrumentName),id:"tone-"+y,placeholder:"Select Tone"},null,8,["modelValue","onUpdate:modelValue","options","id"]),G("label",{for:"tone-"+y},"Tone",8,Ene)]),_:2},1024)]),_:2},1032,["value"]))),128)),W(g,{value:ye(e)._tracks.length},null,8,["value"])]),_:1})]),_:1})],64)}}}),I0=(n,e)=>e.some(t=>n instanceof t);let pS,mS;function Pne(){return pS||(pS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ine(){return mS||(mS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Sg=new WeakMap,fm=new WeakMap;function Rne(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",i),n.removeEventListener("error",s)},i=()=>{t(xs(n.result)),o()},s=()=>{r(n.error),o()};n.addEventListener("success",i),n.addEventListener("error",s)});return fm.set(e,n),e}function Bne(n){if(R0.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",s),n.removeEventListener("abort",s)},i=()=>{t(),o()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",i),n.addEventListener("error",s),n.addEventListener("abort",s)});R0.set(n,e)}let B0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return R0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _R(n){B0=n(B0)}function One(n){return Ine().includes(n)?function(...e){return n.apply(O0(this),e),xs(this.request)}:function(...e){return xs(n.apply(O0(this),e))}}function Dne(n){return typeof n=="function"?One(n):(n instanceof IDBTransaction&&Bne(n),I0(n,Pne())?new Proxy(n,B0):n)}function xs(n){if(n instanceof IDBRequest)return Rne(n);if(Sg.has(n))return Sg.get(n);const e=Dne(n);return e!==n&&(Sg.set(n,e),fm.set(e,n)),e}const O0=n=>fm.get(n);function D0(n,e,{blocked:t,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(n,e),a=xs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xs(s.result),l.oldVersion,l.newVersion,xs(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Mne=["get","getKey","getAll","getAllKeys","count"],Fne=["put","add","delete","clear"],Tg=new Map;function gS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Fne.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Mne.includes(t)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),o&&l.done]))[0]};return Tg.set(e,i),i}_R(n=>({...n,get:(e,t,r)=>gS(e,t)||n.get(e,t,r),has:(e,t)=>!!gS(e,t)||n.has(e,t)}));const Lne=["continue","continuePrimaryKey","advance"],bS={},M0=new WeakMap,xR=new WeakMap,Nne={get(n,e){if(!Lne.includes(e))return n[e];let t=bS[e];return t||(t=bS[e]=function(...r){M0.set(this,xR.get(this)[e](...r))}),t}};async function*$ne(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const t=new Proxy(e,Nne);for(xR.set(t,e),fm.set(t,O0(e));e;)yield t,e=await(M0.get(t)||e.continue()),M0.delete(t)}function vS(n,e){return e===Symbol.asyncIterator&&I0(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&I0(n,[IDBIndex,IDBObjectStore])}_R(n=>({...n,get(e,t,r){return vS(e,t)?$ne:n.get(e,t,r)},has(e,t){return vS(e,t)||n.has(e,t)}}));const Du=Y3("indexedDBStore",()=>{const n=vt([]),e=vt([]),t="Scores";let r=null;const o=async f=>(await indexedDB.databases()).filter(m=>m.name===f).length>0,i=async()=>{indexedDB.databases?n.value=(await indexedDB.databases()).filter(f=>f.name!=="appDatabase").map(f=>f.name):console.warn("indexedDB.databases() not supported in this browser.")},s=async f=>await o(f)?(r=await D0(f),await c(),console.log("loaded project:",f),f):null,a=async f=>{r=await D0(f,void 0,{upgrade(p){p.createObjectStore(t,{keyPath:"id",autoIncrement:!0})}}),i()},l=async f=>{await indexedDB.deleteDatabase(f),await i()},c=async()=>{if(r==null){console.warn("No database selected, cannot list scores");return}const f=await(r==null?void 0:r.getAll(t));console.log("loaded scores:",f.length),e.value=f.map(p=>({id:p.id,title:p.title}))};return{projects:n,scores:e,loadProjects:i,loadProject:s,createProject:a,deleteProject:l,loadScores:c,loadScore:async(f,p)=>{if((!r||r.name!==f)&&await s(f),!p||!r)return null;const m=await r.get(t,p);return m?(console.log("loaded score:",p,"-",m==null?void 0:m.title),console.log(m),ks.fromJSON(m)):(console.warn("Score not found:",p),null)},saveScore:async f=>{const p=f.clone(!0);if(console.log("saving score:",p),!!r){if(p.id)await r.put(t,p);else{const m=await r.add(t,p,void 0);f.id=m}return await c(),f.id}},deleteScore:async f=>{r&&(await r.delete(t,f),await c())}}}),wR=Y3("settingsStore",()=>{const{project:n,scoreId:e,score:t}=Ao();Du();async function r(){return D0("appDatabase",1,{upgrade(a){a.objectStoreNames.contains("settings")||a.createObjectStore("settings",{keyPath:"id"})}})}async function o(){const a=await(await r()).get("settings","appSettings");e.value=(a==null?void 0:a.currentScoreId)||0,n.value=(a==null?void 0:a.currentProjectName)||""}async function i(){var l;const s=await r(),a={id:"appSettings",currentProjectName:n.value,currentScoreId:(l=t.value)==null?void 0:l.id};console.log("saving settings",a),await s.put("settings",a)}return{loadSettingsFromDB:o,saveSettingsToDB:i}}),Une={class:"p-3"},Gne={class:"p-3"},Vne={class:"flex items-center gap-4 mb-4"},zne={class:"flex justify-end gap-2"},Hne=rl({__name:"OpenScoreDialog",setup(n){const{projects:e,scores:t}=KS(Du()),{createProject:r,saveScore:o,deleteScore:i}=Du(),{saveSettingsToDB:s}=wR(),{project:a,score:l,scoreId:c}=Ao(),u=vt(!1),d=vt(""),h=()=>{console.log("Adding New Project:",d.value),u.value=!1,r(d.value),d.value=""},f=()=>{u.value=!0},p=async()=>{var g,b;((g=l.value)==null?void 0:g.id)!=null&&(await i((b=l.value)==null?void 0:b.id),l.value=ks.new(),c.value=-1)},m=async()=>{console.log("New Score"),l.value=ks.new();const g=await o(l.value);c.value=g,s()};return(g,b)=>{const _=X("p-button"),v=X("p-select"),y=X("p-floatlabel"),w=X("p-inputgroupaddon"),S=X("p-inputgroup"),C=X("p-inputtext"),k=X("p-dialog");return x(),R(oe,null,[W(y,{variant:"on"},{default:q(()=>[W(v,{modelValue:ye(a),"onUpdate:modelValue":b[0]||(b[0]=E=>St(a)?a.value=E:null),options:ye(e),inputId:"project",placeholder:"Select a Project",class:"w-full md:w-56"},{dropdownicon:q(()=>b[5]||(b[5]=[G("i",{class:"pi pi-book"},null,-1)])),header:q(()=>b[6]||(b[6]=[G("div",{class:"font-medium p-3"},"Available Projects",-1)])),footer:q(()=>[G("div",Une,[W(_,{label:"Add New",onClick:f,fluid:"",severity:"secondary",text:"",size:"small",icon:"pi pi-plus"})])]),_:1},8,["modelValue","options"]),b[7]||(b[7]=G("label",{for:"project"},"Project",-1))]),_:1}),W(y,{variant:"on"},{default:q(()=>[W(S,{inputId:"score"},{default:q(()=>[W(v,{modelValue:ye(c),"onUpdate:modelValue":b[1]||(b[1]=E=>St(c)?c.value=E:null),options:ye(t),optionLabel:"title",optionValue:"id",placeholder:"Select a score",class:"w-full md:w-56"},{header:q(()=>b[8]||(b[8]=[G("div",{class:"font-medium p-3"},"Available Scores",-1)])),footer:q(()=>[G("div",Gne,[W(_,{label:"Add New",onClick:m,fluid:"",severity:"secondary",text:"",size:"small",icon:"pi pi-plus"})])]),_:1},8,["modelValue","options"]),W(w,null,{default:q(()=>[W(_,{icon:"pi pi-trash",severity:"secondary",onClick:p})]),_:1})]),_:1}),b[9]||(b[9]=G("label",{for:"score"},"Score",-1))]),_:1}),W(k,{visible:u.value,"onUpdate:visible":b[4]||(b[4]=E=>u.value=E),modal:"",header:"Add Project",style:{width:"25rem"}},{default:q(()=>[b[11]||(b[11]=G("span",{class:"text-surface-500 dark:text-surface-400 block mb-8"}," You will be able to add new tabs to this project. ",-1)),G("div",Vne,[b[10]||(b[10]=G("label",{for:"newProjectName",class:"font-semibold w-24"},"Project Name",-1)),W(C,{id:"newProjectName",modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=E=>d.value=E),class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),G("div",zne,[W(_,{type:"button",label:"Cancel",severity:"secondary",onClick:b[3]||(b[3]=E=>u.value=!1)}),W(_,{type:"button",label:"Save",onClick:h})])]),_:1},8,["visible"])],64)}}}),jne={class:"toolbar"},Wne=["title"],Kne=rl({__name:"ToolBar",setup(n){const{saveScore:e}=Du(),t=k8(),{play:r,pause:o,isPlaying:i}=Sne(),{score:s,voiceId:a}=Ao(),l=vt(!1),c=qr(()=>Array.from({length:4},(g,b)=>({label:""+(b+1),value:b,class:`voice-${b}`}))),u=()=>{l.value=!l.value,document.documentElement.classList.toggle("dark-mode",l.value)},d=()=>{i.value?o():r()},h=async()=>{await e(s.value)},f=()=>{console.log("edit score"),t.open(Ane,{props:{header:"Edit Score",modal:!0,dismissableMask:!0}})},p=()=>{console.log("open score"),t.open(Hne,{props:{header:"Open Score",modal:!0,dismissableMask:!0}})};return(m,g)=>{const b=X("p-inputgroupaddon"),_=X("p-inputtext"),v=X("p-button"),y=X("p-inputgroup"),w=X("p-selectbutton"),S=X("p-toolbar"),C=X("p-column"),k=X("p-datatable"),E=X("p-popover");return x(),R("div",jne,[W(S,null,{start:q(()=>[G("i",{class:ce(`pi ${ye(i)?"pi-pause":"pi-play"}`),onClick:d},null,2),G("i",{class:ce(`pi ${l.value?"pi-sun":"pi pi-moon"}`),onClick:u},null,2)]),center:q(()=>[W(y,null,{default:q(()=>[W(b,null,{default:q(()=>[G("button",{class:"p-button p-button-text",onClick:p,title:"Open score"},g[2]||(g[2]=[G("i",{class:"pi pi-folder-open"},null,-1)]))]),_:1}),W(_,{readonly:"",modelValue:ye(s).title,"onUpdate:modelValue":g[0]||(g[0]=A=>ye(s).title=A),placeholder:"score"},null,8,["modelValue"]),W(b,null,{default:q(()=>[W(v,{class:"p-button p-button-text",onClick:f,title:"Edit score"},{default:q(()=>g[3]||(g[3]=[G("i",{class:"pi pi-pencil"},null,-1)])),_:1})]),_:1}),W(b,null,{default:q(()=>[W(v,{class:"p-button p-button-text",onClick:h,title:"Save score"},{default:q(()=>g[4]||(g[4]=[G("i",{class:"pi pi-save"},null,-1)])),_:1})]),_:1})]),_:1})]),end:q(()=>[W(w,{modelValue:ye(a),"onUpdate:modelValue":g[1]||(g[1]=A=>St(a)?a.value=A:null),options:c.value,optionLabel:"label",optionValue:"value",allowEmpty:!1},{option:q(({option:A})=>[G("div",{class:ce(`voice-option ${A.class}`),title:`voice ${A.label}`},Be(A.label),11,Wne)]),_:1},8,["modelValue","options"])]),_:1}),W(E,{ref:"errorPopover"},{default:q(()=>{var A;return[W(k,{value:(A=ye(s))==null?void 0:A.errors(),tableStyle:"min-width: 50rem"},{default:q(()=>[W(C,{field:"track",header:"Track",class:"w-1/6"}),W(C,{field:"bar",header:"Bar",class:"w-1/6"}),W(C,{field:"voice",header:"Voice",class:"w-1/6",bodyClass:"whitespace-nowrap"}),W(C,{field:"error",header:"Error",sortable:"",class:"w-1/6"},{body:q(P=>[On(" Duration is "+Be(P.data.duration)+" beat (expecting "+Be(P.data.expectedDuration)+") ",1)]),_:1})]),_:1},8,["value"])]}),_:1},512)])}}}),Xne={class:"right-column"},qne=rl({__name:"CanvasFrame",setup(n){IO(c=>({"2c7e2818":ye(s)[0],"2c7e27da":ye(s)[1],"2c7e279c":ye(s)[2],"2c7e275e":ye(s)[3]}));const{score:e,voiceId:t}=Ao(),{drawScore:r,canvasRef:o,canvasContainerRef:i,voiceColours:s}=C8(),a=vt(),l=c=>{a.value.toggle(c)};return aQ(),S8(),lr([e,t],()=>{r()},{deep:!0}),(c,u)=>{var h,f;const d=X("p-badge");return x(),R("div",Xne,[W(Kne),G("div",{ref_key:"canvasContainerRef",ref:i,id:"canvas-wrapper"},[((h=ye(e))==null?void 0:h.errors().length)>0?(x(),N(d,{key:0,onClick:l,severity:"danger",size:"medium",value:(f=ye(e))==null?void 0:f.errors().length,class:"errorBadge"},null,8,["value"])):j("",!0),G("canvas",{ref_key:"canvasRef",ref:o,class:"theCanvas"},null,512)],512)])}}}),Yne="_bpm_nlv2g_11",Zne={"mr-2":"_mr-2_nlv2g_2","options-toolbar":"_options-toolbar_nlv2g_6",bpm:Yne},CR=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},Jne={$style:Zne},Qne=CR(qne,[["__cssModules",Jne],["__scopeId","data-v-35de2338"]]),ere=rl({__name:"App",setup(n){const{project:e,score:t,scoreId:r}=Ao(),{loadProjects:o,loadProject:i,loadScore:s}=Du(),{saveSettingsToDB:a,loadSettingsFromDB:l}=wR();return lr(e,async()=>{e.value&&(console.log("switching project:",e.value),i(e.value),a())}),lr(r,async c=>{if(!(e.value==null||c==null||c<=0)&&(console.log("Current Score:",c),c!=null)){const u=await s(e.value,c);console.log("Loaded Score:",t.value),t.value=u,a()}}),Nu(async()=>{await o(),await l()}),(c,u)=>{const d=X("p-toast");return x(),R(oe,null,[W(d),W(ye(II)),W(Qne)],64)}}}),tre=CR(ere,[["__scopeId","data-v-b3b81203"]]);var nre={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},rre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},ore={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},ire={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},sre={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},are={root:{borderRadius:"{content.border.radius}"}},lre={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},cre={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},ure={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},dre={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},hre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},fre={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},pre={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},mre={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},gre={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},bre={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},vre={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},yre={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},_re={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},xre={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},wre={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},Cre={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},Sre={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Tre={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},kre={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},Ere={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},Are={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},Pre={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},Ire={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},Rre={icon:{color:"{form.field.icon.color}"}},Bre={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},Ore={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Dre={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Mre={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},Fre={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},Lre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},Nre={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},$re={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},Ure={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},Gre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},Vre={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},zre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},Hre={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},jre={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},Wre={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Kre={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},Xre={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},qre={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},Yre={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},Zre={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},Jre={root:{outline:{width:"2px",color:"{content.background}"}}},Qre={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},eoe={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},toe={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},noe={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},roe={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},ooe={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},ioe={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},soe={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},aoe={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},loe={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},coe={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},uoe={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},doe={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},hoe={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},foe={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},poe={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},moe={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},goe={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},boe={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},voe={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},yoe={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},_oe={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},xoe={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},woe={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},Coe={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},Soe={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},Toe={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},koe={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},Eoe={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},Aoe={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},Poe={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},Ioe={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},Roe={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},Boe={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},Ooe={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},Doe={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},Moe={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},Foe={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function Mu(n){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(n)}function yS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function _S(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(t),!0).forEach(function(r){Loe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Loe(n,e,t){return(e=Noe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Noe(n){var e=$oe(n,"string");return Mu(e)=="symbol"?e:e+""}function $oe(n,e){if(Mu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Uoe=_S(_S({},sre),{},{components:{accordion:nre,autocomplete:rre,avatar:ore,badge:ire,blockui:are,breadcrumb:lre,button:cre,datepicker:xre,card:ure,carousel:dre,cascadeselect:hre,checkbox:fre,chip:pre,colorpicker:mre,confirmdialog:gre,confirmpopup:bre,contextmenu:vre,dataview:_re,datatable:yre,dialog:wre,divider:Cre,dock:Sre,drawer:Tre,editor:kre,fieldset:Ere,fileupload:Are,iftalabel:Bre,floatlabel:Pre,galleria:Ire,iconfield:Rre,image:Ore,imagecompare:Dre,inlinemessage:Mre,inplace:Fre,inputchips:Lre,inputgroup:Nre,inputnumber:$re,inputotp:Ure,inputtext:Gre,knob:Vre,listbox:zre,megamenu:Hre,menu:jre,menubar:Wre,message:Kre,metergroup:Xre,multiselect:qre,orderlist:Yre,organizationchart:Zre,overlaybadge:Jre,popover:ooe,paginator:Qre,password:noe,panel:eoe,panelmenu:toe,picklist:roe,progressbar:ioe,progressspinner:soe,radiobutton:aoe,rating:loe,scrollpanel:uoe,select:doe,selectbutton:hoe,skeleton:foe,slider:poe,speeddial:moe,splitter:boe,splitbutton:goe,stepper:voe,steps:yoe,tabmenu:_oe,tabs:xoe,tabview:woe,textarea:Toe,tieredmenu:koe,tag:Coe,terminal:Soe,timeline:Eoe,togglebutton:Poe,toggleswitch:Ioe,tree:Ooe,treeselect:Doe,treetable:Moe,toast:Aoe,toolbar:Roe,virtualscroller:Foe},directives:{tooltip:Boe,ripple:coe}});const He=nD(tre);He.use(lD());He.use(rK,{theme:{preset:Uoe,options:{darkModeSelector:".dark-mode"}}});He.use(sD);He.use(kY);He.directive("tooltip",NY);He.component("p-button",vd);He.component("p-toolbar",XI);He.component("p-select",_d);He.component("p-inputtext",bd);He.component("p-inputnumber",R_);He.component("p-dialog",k_);He.component("p-inputgroup",BI);He.component("p-inputgroupaddon",OI);He.component("p-togglebutton",F_);He.component("p-selectbutton",UI);He.component("p-tabs",jI);He.component("p-tabpanels",HI);He.component("p-tabpanel",zI);He.component("p-tablist",VI);He.component("p-tab",GI);He.component("p-badge",cm);He.component("p-popover",NI);He.component("p-datatable",PI);He.component("p-column",KW);He.component("p-toast",KI);He.component("p-accordion",z8);He.component("p-accordionpanel",w_);He.component("p-accordionheader",x_);He.component("p-accordioncontent",__);He.component("p-checkbox",yd);He.component("p-floatlabel",RI);He.component("p-menubar",MI);He.component("p-multiselect",LI);He.mount("#app");export{Zk as A,c8 as B,Je as C,o5 as E,iV as F,b6 as G,d_ as H,B6 as M,q6 as N,KE as R,XE as T,qN as a,xy as b,U6 as c,G6 as d,dt as e,_8 as f,v8 as g,u8 as h,r8 as i,T5 as j,w5 as k};
